{"version":3,"sources":["./src/$_gendir lazy","./src/app/app.module.ts","./src/app/area-profile/area-profile.component.css","./src/app/area-profile/area-profile.component.html","./src/app/area-profile/area-profile.component.ts","./src/app/area-profile/area-profile.module.ts","./src/app/area-profile/spine-chart.classes.ts","./src/app/area-profile/spine-chart/spine-chart.component.css","./src/app/area-profile/spine-chart/spine-chart.component.html","./src/app/area-profile/spine-chart/spine-chart.component.ts","./src/app/arealist/arealist-index/arealist-index.component.css","./src/app/arealist/arealist-index/arealist-index.component.html","./src/app/arealist/arealist-index/arealist-index.component.ts","./src/app/arealist/arealist-manage/arealist-manage.component.css","./src/app/arealist/arealist-manage/arealist-manage.component.html","./src/app/arealist/arealist-manage/arealist-manage.component.ts","./src/app/arealist/arealist.module.ts","./src/app/boxplot/boxplot-chart/boxplot-chart.component.css","./src/app/boxplot/boxplot-chart/boxplot-chart.component.html","./src/app/boxplot/boxplot-chart/boxplot-chart.component.ts","./src/app/boxplot/boxplot-table/boxplot-table.component.css","./src/app/boxplot/boxplot-table/boxplot-table.component.html","./src/app/boxplot/boxplot-table/boxplot-table.component.ts","./src/app/boxplot/boxplot.component.css","./src/app/boxplot/boxplot.component.html","./src/app/boxplot/boxplot.component.ts","./src/app/boxplot/boxplot.module.ts","./src/app/boxplot/boxplot.ts","./src/app/data-view/data-view.component.css","./src/app/data-view/data-view.component.html","./src/app/data-view/data-view.component.ts","./src/app/download/download-data/download-data.component.css","./src/app/download/download-data/download-data.component.html","./src/app/download/download-data/download-data.component.ts","./src/app/download/download-report/download-report.component.css","./src/app/download/download-report/download-report.component.html","./src/app/download/download-report/download-report.component.ts","./src/app/download/download.component.css","./src/app/download/download.component.html","./src/app/download/download.component.ts","./src/app/download/download.module.ts","./src/app/england/england.component.css","./src/app/england/england.component.html","./src/app/england/england.component.ts","./src/app/england/england.module.ts","./src/app/map/google-map-simple/google-map-simple.component.css","./src/app/map/google-map-simple/google-map-simple.component.html","./src/app/map/google-map-simple/google-map-simple.component.ts","./src/app/map/google-map/google-map.component.css","./src/app/map/google-map/google-map.component.html","./src/app/map/google-map/google-map.component.ts","./src/app/map/googleMap.service.ts","./src/app/map/map-chart/map-chart.component.css","./src/app/map/map-chart/map-chart.component.html","./src/app/map/map-chart/map-chart.component.ts","./src/app/map/map-table/map-table.component.css","./src/app/map/map-table/map-table.component.html","./src/app/map/map-table/map-table.component.ts","./src/app/map/map.component.css","./src/app/map/map.component.html","./src/app/map/map.component.ts","./src/app/map/map.module.ts","./src/app/map/practice-search-simple/practice-search-simple.component.css","./src/app/map/practice-search-simple/practice-search-simple.component.html","./src/app/map/practice-search-simple/practice-search-simple.component.ts","./src/app/map/practice-search-simple/practice-search-simple.ts","./src/app/map/practice-search/practice-search.component.css","./src/app/map/practice-search/practice-search.component.html","./src/app/map/practice-search/practice-search.component.ts","./src/app/map/practice-search/practice-search.ts","./src/app/metadata/metadata-table/metadata-table.component.css","./src/app/metadata/metadata-table/metadata-table.component.html","./src/app/metadata/metadata-table/metadata-table.component.ts","./src/app/metadata/metadata.component.css","./src/app/metadata/metadata.component.html","./src/app/metadata/metadata.component.ts","./src/app/metadata/metadata.module.ts","./src/app/population/population-chart/population-chart.component.css","./src/app/population/population-chart/population-chart.component.html","./src/app/population/population-chart/population-chart.component.ts","./src/app/population/population-summary/population-summary.component.css","./src/app/population/population-summary/population-summary.component.html","./src/app/population/population-summary/population-summary.component.ts","./src/app/population/population.component.css","./src/app/population/population.component.html","./src/app/population/population.component.ts","./src/app/population/population.module.ts","./src/app/population/population.ts","./src/app/population/registered-persons-table/registered-persons-table.component.css","./src/app/population/registered-persons-table/registered-persons-table.component.html","./src/app/population/registered-persons-table/registered-persons-table.component.ts","./src/app/reports/reports.component.css","./src/app/reports/reports.component.html","./src/app/reports/reports.component.ts","./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.css","./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.html","./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.ts","./src/app/shared/component/indicator-header/indicator-header.component.css","./src/app/shared/component/indicator-header/indicator-header.component.html","./src/app/shared/component/indicator-header/indicator-header.component.ts","./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.css","./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.html","./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.ts","./src/app/shared/component/legend/legend-bob/legend-bob.component.css","./src/app/shared/component/legend/legend-bob/legend-bob.component.html","./src/app/shared/component/legend/legend-bob/legend-bob.component.ts","./src/app/shared/component/legend/legend-continuous/legend-continuous.component.css","./src/app/shared/component/legend/legend-continuous/legend-continuous.component.html","./src/app/shared/component/legend/legend-continuous/legend-continuous.component.ts","./src/app/shared/component/legend/legend-map/legend-map.component.css","./src/app/shared/component/legend/legend-map/legend-map.component.html","./src/app/shared/component/legend/legend-map/legend-map.component.ts","./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.css","./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.html","./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.ts","./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.css","./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.html","./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.ts","./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.css","./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.html","./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.ts","./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.css","./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.html","./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.ts","./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.css","./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.html","./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.ts","./src/app/shared/component/legend/legend.component.css","./src/app/shared/component/legend/legend.component.html","./src/app/shared/component/legend/legend.component.ts","./src/app/shared/component/legend/legend.module.ts","./src/app/shared/component/light-box-with-input/light-box-with-input.component.css","./src/app/shared/component/light-box-with-input/light-box-with-input.component.html","./src/app/shared/component/light-box-with-input/light-box-with-input.component.ts","./src/app/shared/component/light-box/light-box.component.css","./src/app/shared/component/light-box/light-box.component.html","./src/app/shared/component/light-box/light-box.component.ts","./src/app/shared/service/api/area.service.ts","./src/app/shared/service/api/arealist.service.ts","./src/app/shared/service/api/content.service.ts","./src/app/shared/service/api/http.service.ts","./src/app/shared/service/api/indicator.service.ts","./src/app/shared/service/api/parameters.ts","./src/app/shared/service/api/profile.service.ts","./src/app/shared/service/api/ssrs-report.service.ts","./src/app/shared/service/api/static-reports.service.ts","./src/app/shared/service/helper/coreDataHelper.service.ts","./src/app/shared/service/helper/ftHelper.service.ts","./src/app/shared/service/helper/light-box.service.ts","./src/app/shared/service/helper/ui.service.ts","./src/app/shared/shared.module.ts","./src/app/shared/shared.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_gendir lazy\n// module id = ./src/$$_gendir lazy recursive\n// module chunks = main","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule, ComponentFactoryResolver, ApplicationRef, Type } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport { TypeaheadModule } from 'ngx-bootstrap';\r\nimport { MapComponent } from './map/map.component';\r\nimport { MapModule } from './map/map.module';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { BoxplotModule } from './boxplot/boxplot.module';\r\nimport { EnglandComponent } from './england/england.component';\r\nimport { MetadataModule } from './metadata/metadata.module';\r\nimport { PopulationModule } from './population/population.module';\r\nimport { ArealistModule } from './arealist/arealist.module';\r\nimport { ArealistIndexComponent } from './arealist/arealist-index/arealist-index.component';\r\nimport { ArealistManageComponent } from './arealist/arealist-manage/arealist-manage.component';\r\nimport { DownloadModule } from './download/download.module';\r\nimport { DataViewComponent } from './data-view/data-view.component';\r\nimport { ReportsComponent } from './reports/reports.component';\r\nimport { AreaProfileModule } from './area-profile/area-profile.module';\r\nimport { EnglandModule } from './england/england.module';\r\n\r\nconst rootComponents = [MapComponent, ArealistIndexComponent, ArealistManageComponent,\r\n  DataViewComponent];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DataViewComponent,\r\n    ReportsComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpModule,\r\n    MapModule,\r\n    BoxplotModule,\r\n    DownloadModule,\r\n    PopulationModule,\r\n    AreaProfileModule,\r\n    SharedModule,\r\n    MetadataModule,\r\n    ArealistModule,\r\n    EnglandModule,\r\n    TypeaheadModule.forRoot(),\r\n  ],\r\n  entryComponents: rootComponents\r\n  // Instead of bootstraping a single component, with overriding mechanism, multiple components are bootstrapped\r\n  // bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n  constructor(private resolver: ComponentFactoryResolver) { }\r\n  // Overriding angular original behaviour, This will bootsttrap all the component defined\r\n  // in the array if the component tag is found on the document\r\n  ngDoBootstrap(appRef: ApplicationRef) {\r\n    rootComponents.forEach((componentDef: Type<{}>) => {\r\n      const factory = this.resolver.resolveComponentFactory(componentDef);\r\n      if (document.querySelector(factory.selector)) {\r\n        appRef.bootstrap(factory);\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"/* Indicator name */\\r\\n\\r\\ntr td:first-child {\\r\\n    color: #2e3191;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n/* Period header */\\r\\n\\r\\ntr th:nth-child(2) {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n/* Period */\\r\\n\\r\\ntr td:nth-child(2) {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n/* Recent trendn */\\r\\n\\r\\ntr td:nth-child(3) {\\r\\n    text-align: center;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\ntr:hover td {\\r\\n    border-top-color: #333;\\r\\n    border-bottom-color: #333;\\r\\n    background: #fffdea;\\r\\n}\\r\\n\\r\\ntr:hover td:first-child {\\r\\n    border-left-color: #333;\\r\\n}\\r\\n\\r\\ntr:hover td:last-child {\\r\\n    border-right-color: #333;\\r\\n}\\r\\n\\r\\n#england-header {\\r\\n    position: relative;\\r\\n    min-width: 386px;\\r\\n}\\r\\n\\r\\n.export-chart-box, .export-chart-box-csv {\\r\\n    padding-top: 20px;\\r\\n}\\r\\n\\r\\n#single-area-table {\\r\\n    table-layout: auto;\\r\\n    margin: 8px auto 30px auto;\\r\\n}\\r\\n\\r\\n#no-spine-box {\\r\\n    width: 233px;\\r\\n    top: 94px;\\r\\n    left: 75px;\\r\\n    line-height: 1.5em;\\r\\n    font-weight: normal;\\r\\n    position: absolute;\\r\\n    border: 2px solid #ddd;\\r\\n    background: #FFFFF0;\\r\\n    z-index: 10;\\r\\n    -webkit-box-shadow: 0 0 2px #888;\\r\\n            box-shadow: 0 0 2px #888;\\r\\n}\\r\\n\\r\\n#no-spine-box p {\\r\\n    padding: 5px;\\r\\n    margin: 0;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/area-profile/area-profile.component.css\n// module id = ./src/app/area-profile/area-profile.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"isAnyData\\\" id=\\\"area-profile-container\\\" style=\\\"display:none;\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n            <ft-legend [pageType]=\\\"pageType\\\" [showRAG3]=\\\"showRAG3\\\" [showRAG5]=\\\"showRAG5\\\" [showBOB]=\\\"showBOB\\\"\\r\\n                [showQuintilesRAG]=\\\"showQuintilesRAG\\\" [showQuintilesBOB]=\\\"showQuintilesBOB\\\" [showRecentTrends]=\\\"showRecentTrends\\\"></ft-legend>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"export-chart-box col-md-3\\\">\\r\\n            <a class=\\\"export-link\\\" (click)=\\\"onExportClick($event)\\\">Export table as image</a>\\r\\n        </div>\\r\\n        <div class=\\\"export-chart-box-csv col-md-4\\\">\\r\\n            <a class=\\\"export-link-csv hidden\\\" (click)=\\\"onExportCsvFileClick($event)\\\">Export table as CSV file</a>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-5 text-right\\\"> <img src=\\\"{{spineChartImageUrl}}\\\" />\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n            <table id=\\\"single-area-table\\\" class=\\\"bordered-table\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th id=\\\"spine-indicator-header\\\" rowspan=\\\"2\\\">Indicator</th>\\r\\n                        <th id=\\\"spine-period-header\\\" rowspan=\\\"2\\\">Period</th>\\r\\n                        <th style=\\\"position: relative;\\\" class=\\\"numericHeader areaName topRow\\\" [attr.colspan]=\\\"trendColSpan\\\">\\r\\n                            <div>{{shortAreaName}}</div>&nbsp;\\r\\n                        </th>\\r\\n                        <th *ngIf=\\\"!isParentUk && isNationalAndRegional && isNotNN\\\" class=\\\"numericHeader topRow parent-area-type\\\">{{parentType}}</th>\\r\\n                        <th *ngIf=\\\"!isParentUk && isNationalAndRegional\\\" class=\\\"numericHeader topRow\\\" style=\\\"position:relative;\\\">England\\r\\n                        </th>\\r\\n                        <th id=\\\"england-header\\\" *ngIf=\\\"!isParentUk\\\" [attr.colspan]=\\\"colSpan\\\" class=\\\"numericHeader topRow\\\" style=\\\"width: 390px;\\\">{{benchmarkName}}\\r\\n                            <div *ngIf=\\\"isAreaIgnored\\\" id=\\\"no-spine-box\\\">\\r\\n                                <p>Due to its small population <i>{{areaName}}</i> is not used to determine the lowest,\\r\\n                                    highest and percentile values required for the spine charts. However the area value\\r\\n                                    is included in the <i>{{benchmarkName}}</i> average.</p>\\r\\n                            </div>\\r\\n                        </th>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <th *ngIf=\\\"areRecentTrendsDisplayed\\\" class=\\\"numericHeader\\\">Recent Trend</th>\\r\\n                        <th class=\\\"numericHeader\\\">Count</th>\\r\\n                        <th class=\\\"numericHeader\\\">Value</th>\\r\\n                        <th *ngIf=\\\"!isParentUk && isNationalAndRegional && isNotNN\\\" class=\\\"numericHeader\\\">Value</th>\\r\\n                        <th *ngIf=\\\"!isParentUk\\\" class=\\\"numericHeader\\\">Value</th>\\r\\n                        <th *ngIf=\\\"!isParentUk\\\" class=\\\"numericHeader\\\">{{lowest}}</th>\\r\\n                        <th *ngIf=\\\"!isParentUk\\\" class=\\\"spine250\\\">Range</th>\\r\\n                        <th *ngIf=\\\"!isParentUk\\\" class=\\\"numericHeader\\\">{{highest}}</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody id=\\\"spine-body\\\">\\r\\n                    <tr *ngFor=\\\"let row of indicatorRows\\\">\\r\\n                        <td [innerHtml]=\\\"getIndicatorNameHtml(row)\\\" (click)=\\\"goToBarChart(row)\\\" (mouseover)=\\\"showIndicatorTooltip($event,row)\\\"\\r\\n                            (mouseout)=\\\"hideTooltip()\\\" (mousemove)=\\\"repositionTooltip($event)\\\"></td>\\r\\n                        <td [innerHtml]=\\\"row.period\\\"></td>\\r\\n                        <td *ngIf=\\\"areRecentTrendsDisplayed\\\" [innerHtml]=\\\"row.recentTrendImage\\\" (click)=\\\"goToTrends(row)\\\"\\r\\n                            (mouseover)=\\\"showRecentTrendTooltip($event,row)\\\" (mouseout)=\\\"hideTooltip()\\\" (mousemove)=\\\"repositionTooltip($event)\\\"></td>\\r\\n                        <td class=\\\"numeric\\\" [innerHtml]=\\\"row.areaCount\\\"></td>\\r\\n                        <td class=\\\"numeric\\\" [innerHtml]=\\\"row.areaValue\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\"\\r\\n                            title=\\\"{{row.areaValueTooltip}}\\\"></td>\\r\\n                        <td *ngIf=\\\"!isParentUk && isNationalAndRegional && isNotNN\\\" class=\\\"numeric\\\" [innerHtml]=\\\"row.subnationalValue\\\"\\r\\n                            data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" title=\\\"{{row.subnationalValueTooltip}}\\\"></td>\\r\\n                        <td *ngIf=\\\"!isParentUk\\\" class=\\\"numeric\\\" [innerHtml]=\\\"row.englandValue\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\"\\r\\n                            title=\\\"{{row.englandValueTooltip}}\\\"></td>\\r\\n                        <td *ngIf=\\\"!isParentUk\\\" class=\\\"numeric\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" [innerHtml]=\\\"row.englandMin\\\"\\r\\n                            title=\\\"{{row.minTooltip}}\\\"></td>\\r\\n                        <td *ngIf=\\\"!isParentUk\\\" >\\r\\n                            <ft-spine-chart [dimensions]=\\\"row.spineChartDimensions\\\" [tooltip]=\\\"tooltip\\\" [indicatorRow]=\\\"row\\\"></ft-spine-chart>\\r\\n                        </td>\\r\\n                        <td *ngIf=\\\"!isParentUk\\\" class=\\\"numeric\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" [innerHtml]=\\\"row.englandMax\\\"\\r\\n                            title=\\\"{{row.maxTooltip}}\\\"></td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/area-profile/area-profile.component.html\n// module id = ./src/app/area-profile/area-profile.component.html\n// module chunks = main","import { Component, HostListener } from '@angular/core';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport { IndicatorService } from '../shared/service/api/indicator.service';\r\nimport {\r\n  IndicatorStats, FTModel, FTConfig, IndicatorMetadata, IndicatorFormatter,\r\n  GroupRoot, CoreDataSet, IndicatorStatsPercentilesFormatted, IndicatorStatsPercentiles, ComparisonConfig, TrendMarkerResult, Area\r\n} from '../typings/FT';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { UIService } from '../shared/service/helper/ui.service';\r\nimport {\r\n  ParentDisplay, AreaTypeIds, ComparatorIds, GroupRootHelper, CoreDataListHelper,\r\n  ValueTypeIds, AreaHelper, PolarityIds, TrendMarkerValue, TooltipHelper, ComparatorMethodIds,\r\n  SpineChartMinMaxLabelDescription, SpineChartMinMaxLabel\r\n} from '../shared/shared';\r\nimport * as _ from 'underscore';\r\nimport { SpineChartCalculator, SpineChartDimensions } from './spine-chart.classes';\r\nimport { PageType } from 'app/shared/component/legend/legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-area-profile',\r\n  templateUrl: './area-profile.component.html',\r\n  styleUrls: ['./area-profile.component.css']\r\n})\r\nexport class AreaProfileComponent {\r\n\r\n  public areRecentTrendsDisplayed = false;\r\n  public spineChartImageUrl: string = null;\r\n  public lowest: string;\r\n  public highest: string;\r\n  public parentType: string;\r\n  public shortAreaName: string;\r\n  public areaName: string;\r\n  public benchmarkName: string;\r\n  public isParentUk = false;\r\n  public isNationalAndRegional = false;\r\n  public isNotNN = false;\r\n  public trendColSpan = 0;\r\n  public colSpan = 0;\r\n  public indicatorRows: IndicatorRow[];\r\n  public isAnyData: boolean = false;\r\n\r\n  private model: FTModel;\r\n  private config: FTConfig;\r\n  private imgUrl: string;\r\n  private tooltip: TooltipHelper;\r\n\r\n  private scrollTop: number;\r\n  private isAreaIgnored: boolean;\r\n  private currentTooltipHtml: string;\r\n  private area: Area;\r\n\r\n  // Data from AJAX\r\n  private indicatorStats: IndicatorStats[];\r\n  private metadataHash: Map<number, IndicatorMetadata>;\r\n\r\n  // HTML\r\n  private NoData = '<div class=\"no-data\">-</div>';\r\n\r\n  // Legend display properties\r\n  pageType = PageType.None;\r\n  showRAG3 = false;\r\n  showRAG5 = false;\r\n  showBOB = false;\r\n  showQuintilesRAG = false;\r\n  showQuintilesBOB = false;\r\n  showRecentTrends = false;\r\n\r\n  constructor(private ftHelperService: FTHelperService, private indicatorService: IndicatorService,\r\n    private uiService: UIService) { }\r\n\r\n  @HostListener('window:AreaProfileSelected', ['$event'])\r\n  public onOutsideEvent(event) {\r\n    let ftHelper = this.ftHelperService;\r\n\r\n    const groupRoots = ftHelper.getAllGroupRoots();\r\n    this.model = ftHelper.getFTModel();\r\n    this.config = ftHelper.getFTConfig();\r\n    this.isAnyData = groupRoots.length > 0;\r\n\r\n    this.scrollTop = this.uiService.getScrollTop();\r\n\r\n    let comparatorId = ftHelper.getComparatorId();\r\n    let parentAreaCode = ftHelper.getComparatorById(comparatorId).Code;\r\n\r\n    this.setDisplayConfig();\r\n    this.setIsAreaIgnored();\r\n\r\n    // AJAX calls\r\n    let indicatorStatisticsObservable = this.indicatorService.getIndicatorStatistics(this.model.areaTypeId,\r\n      parentAreaCode, this.model.profileId, this.model.groupId);\r\n\r\n    Observable.forkJoin([indicatorStatisticsObservable]).subscribe(results => {\r\n\r\n      this.indicatorStats = _.values(results[0]);\r\n      this.metadataHash = ftHelper.getMetadataHash();\r\n\r\n      this.setAreaProfileHtml();\r\n\r\n      // Unlock UI\r\n      ftHelper.showAndHidePageElements();\r\n      ftHelper.showDataQualityLegend();\r\n      ftHelper.showTargetBenchmarkOption(groupRoots);\r\n      this.uiService.setScrollTop(this.scrollTop);\r\n\r\n      // Legend display configurations\r\n      this.pageType = PageType.AreaProfiles;\r\n      this.showRecentTrends = this.areRecentTrendsDisplayed;\r\n\r\n      ftHelper.unlock();\r\n    });\r\n\r\n    this.tooltip = new TooltipHelper(this.ftHelperService.newTooltipManager());\r\n  }\r\n\r\n  setAreaProfileHtml() {\r\n\r\n    let ftHelper = this.ftHelperService;\r\n\r\n    // Benchmark\r\n    let comparatorId = ftHelper.getComparatorId();\r\n    let isNationalBenchmark = (comparatorId === ComparatorIds.National);\r\n    let benchmark = isNationalBenchmark ?\r\n      ftHelper.getNationalComparator() :\r\n      ftHelper.getParentArea();\r\n\r\n    let areaCode = this.model.areaCode;\r\n    this.area = ftHelper.getArea(areaCode);\r\n\r\n    this.uiService.toggleQuintileLegend($('#quintile-key'), false);\r\n\r\n    let isSubnationalColumn = !this.model.isNearestNeighbours() && ftHelper.isSubnationalColumn();\r\n\r\n    let indicatorRows = [];\r\n    let rootIndex = 0;\r\n    let groupRoots = ftHelper.getAllGroupRoots();\r\n\r\n    for (let root of groupRoots) {\r\n\r\n      let metadata = this.metadataHash[root.IID];\r\n      let areaData = new CoreDataListHelper(root.Data).findByAreaCode(areaCode);\r\n\r\n      // Create indicator row\r\n      let row = new IndicatorRow();\r\n      row.rootIndex = rootIndex;\r\n      indicatorRows.push(row);\r\n      rootIndex += 1;\r\n\r\n      row.comparisonConfig = ftHelper.newComparisonConfig(root, metadata);\r\n      this.assignStatsToRow(root, row);\r\n\r\n      // Parent data\r\n      let subnationalData = ftHelper.getRegionalComparatorGrouping(root).ComparatorData;\r\n      let nationalData = ftHelper.getNationalComparatorGrouping(root).ComparatorData;\r\n      let benchmarkData = isNationalBenchmark ?\r\n        nationalData :\r\n        subnationalData;\r\n      row.benchmarkData = benchmarkData;\r\n\r\n      // Init formatter\r\n      let formatter = ftHelper.newIndicatorFormatter(root, metadata, areaData, row.statsF);\r\n      formatter.averageData = benchmarkData;\r\n\r\n      // Value displayer\r\n      var unit = !!metadata ? metadata.Unit : null;\r\n      var valueDisplayer = ftHelper.newValueDisplayer(unit);\r\n\r\n      // Set piggy back object\r\n      row.formatter = formatter;\r\n      row.areaData = areaData;\r\n      row.groupRoot = root;\r\n      row.indicatorMetadata = metadata;\r\n      row.area = this.area;\r\n\r\n      // Set display properties\r\n      row.period = root.Grouping[0].Period;\r\n      row.areaCount = formatter.getAreaCount();\r\n      row.areaValue = formatter.getAreaValue();\r\n\r\n      // Area data note tooltip\r\n      var dataInfo = ftHelper.newCoreDataSetInfo(row.areaData);\r\n      if (dataInfo.isNote()) {\r\n        row.areaValueTooltip = ftHelper.getValueNoteById(areaData.NoteId).Text;\r\n      }\r\n\r\n      // England value\r\n      let nationalDataInfo = ftHelper.newCoreDataSetInfo(nationalData);\r\n      row.englandValue = valueDisplayer.byDataInfo(nationalDataInfo, { noCommas: 'y' })\r\n      if (nationalDataInfo.isNote()) {\r\n        row.englandValueTooltip = ftHelper.getValueNoteById(nationalData.NoteId).Text;\r\n      }\r\n\r\n      // Subnational value\r\n      if (isSubnationalColumn) {\r\n        let subnationalDataInfo = ftHelper.newCoreDataSetInfo(subnationalData);\r\n        row.subnationalValue = valueDisplayer.byDataInfo(subnationalDataInfo, { noCommas: 'y' });\r\n        if (subnationalDataInfo.isNote()) {\r\n          row.subnationalValueTooltip = ftHelper.getValueNoteById(subnationalData.NoteId).Text;\r\n        }\r\n      }\r\n\r\n      this.setSpineChartDimensions(row);\r\n\r\n      // Min / Max\r\n      let dimensions = row.spineChartDimensions\r\n      if (dimensions.isAnyData && dimensions.isSufficientData) {\r\n        // Data available\r\n        row.englandMin = formatter.getMin();\r\n        row.englandMax = formatter.getMax();\r\n        row.minTooltip = this.polarityToText(root.PolarityId, true);\r\n        row.maxTooltip = this.polarityToText(root.PolarityId, false);\r\n      } else {\r\n        // No data\r\n        row.englandMin = this.NoData;\r\n        row.englandMax = this.NoData;\r\n      }\r\n\r\n      // Trend\r\n      if (root.RecentTrends) {\r\n\r\n        let trendMarkerValue, polarityId;\r\n        if (areaData) {\r\n          var recentTrends = root.RecentTrends[areaData.AreaCode];\r\n          trendMarkerValue = recentTrends.Marker;\r\n          polarityId = root.PolarityId;\r\n          row.trendMarkerResult = recentTrends;\r\n        } else {\r\n          trendMarkerValue = TrendMarkerValue.CannotCalculate;\r\n          polarityId = 0;\r\n        }\r\n        row.recentTrendImage = ftHelper.getTrendMarkerImage(trendMarkerValue, polarityId);\r\n      }\r\n\r\n      if (this.isAreaIgnored) {\r\n        // Do not show any message or chart if area is ignored for spine chart\r\n        dimensions.isAnyData = false;\r\n      }\r\n    }\r\n\r\n    this.setAreaHeadings(benchmark);\r\n    this.indicatorRows = indicatorRows;\r\n\r\n    this.setLegendDisplay(groupRoots);\r\n\r\n    ftHelper.initBootstrapTooltips();\r\n  }\r\n\r\n  setLegendDisplay(groupRoots: GroupRoot[]) {\r\n    this.showRAG3 = false;\r\n    this.showRAG5 = false;\r\n    this.showBOB = false;\r\n    this.showQuintilesRAG = false;\r\n    this.showQuintilesBOB = false;\r\n\r\n    // Show Quintile BOB legend\r\n    if (groupRoots.findIndex(x => x.ComparatorMethodId === ComparatorMethodIds.Quintiles && x.PolarityId === PolarityIds.NotApplicable) > -1) {\r\n      this.showQuintilesBOB = true;\r\n    }\r\n\r\n    // Show Quintile RAG legend\r\n    if (groupRoots.findIndex(x => x.ComparatorMethodId === ComparatorMethodIds.Quintiles && (x.PolarityId === PolarityIds.RAGLowIsGood || x.PolarityId === PolarityIds.RAGHighIsGood)) > -1) {\r\n      this.showQuintilesRAG = true;\r\n    }\r\n\r\n    // Show RAG5 legend\r\n    if (groupRoots.findIndex(x => x.ComparatorMethodId === ComparatorMethodIds.SingleOverlappingCIsForTwoCiLevels) > -1) {\r\n      this.showRAG5 = true;\r\n    } else {\r\n      // Show RAG3 legend\r\n      if (groupRoots.findIndex(x => x.ComparatorMethodId === ComparatorMethodIds.SingleOverlappingCIsForOneCiLevel) > -1) {\r\n        this.showRAG3 = true;\r\n      }\r\n\r\n      if (this.showRAG3 === false &&\r\n        (groupRoots.findIndex(x => x.PolarityId === PolarityIds.RAGHighIsGood) > -1 ||\r\n          groupRoots.findIndex(x => x.PolarityId === PolarityIds.RAGLowIsGood) > -1)) {\r\n\r\n        this.showRAG3 = true;\r\n      }\r\n    }\r\n\r\n    // Show BOB legend\r\n    if (groupRoots.findIndex(x => x.PolarityId === PolarityIds.BlueOrangeBlue) > -1) {\r\n      this.showBOB = true;\r\n    }\r\n  }\r\n\r\n  polarityToText(polarity, isForLowest) {\r\n\r\n    if (polarity === PolarityIds.RAGLowIsGood || polarity === PolarityIds.RAGHighIsGood) {\r\n      return isForLowest ? 'Worst' : 'Best';\r\n    }\r\n    return isForLowest ? 'Lowest' : 'Highest';\r\n  }\r\n\r\n  assignStatsToRow(root: GroupRoot, row: IndicatorRow) {\r\n\r\n    let statsBase: IndicatorStats =\r\n      new GroupRootHelper(root).findMatchingItemBySexAgeAndIndicatorId(this.indicatorStats);\r\n\r\n    if (statsBase) {\r\n      row.statsF = statsBase.StatsF;\r\n      row.stats = statsBase.Stats;\r\n      row.haveRequiredValuesForSpineChart = statsBase.HaveRequiredValues;\r\n    }\r\n  }\r\n\r\n  setSpineChartDimensions(row: IndicatorRow): void {\r\n\r\n    let ftHelper = this.ftHelperService;\r\n    var benchmarkDataInfo = ftHelper.newCoreDataSetInfo(row.benchmarkData);\r\n\r\n    let isValidBenchmarkValue = benchmarkDataInfo.isValue();\r\n\r\n    if (isValidBenchmarkValue && !row.haveRequiredValuesForSpineChart) {\r\n      // Should show not enough values message\r\n      let dimensions = new SpineChartDimensions();\r\n      dimensions.isSufficientData = false;\r\n      row.spineChartDimensions = dimensions;\r\n    } else if (!row.stats ||\r\n      !isValidBenchmarkValue ||\r\n      row.indicatorMetadata.ValueType.Id === ValueTypeIds.Count) {\r\n      // Should show no data message\r\n      let dimensions = new SpineChartDimensions();\r\n      dimensions.isAnyData = false;\r\n      row.spineChartDimensions = dimensions;\r\n    } else {\r\n      // Have data can show spine chart\r\n      var polarityId = row.groupRoot.PolarityId;\r\n      let spineChart = new SpineChartCalculator();\r\n      var proportions = spineChart.getSpineProportions(row.benchmarkData.Val, row.stats, polarityId);\r\n\r\n      var dataInfo = ftHelper.newCoreDataSetInfo(row.areaData);\r\n      var spineDimensions = spineChart.getDimensions(proportions, dataInfo, this.imgUrl, row.comparisonConfig,\r\n        row.indicatorMetadata.IID, ftHelper.getMarkerImageFromSignificance);\r\n\r\n      row.spineChartDimensions = spineDimensions;\r\n    }\r\n  }\r\n\r\n  public getIndicatorNameHtml(row: IndicatorRow): string {\r\n\r\n    let formatter = row.formatter;\r\n    let ftHelper = this.ftHelperService;\r\n    let root = row.groupRoot;\r\n    let metadata = row.indicatorMetadata;\r\n\r\n    // Indicator name & data quality\r\n    let html = [\r\n      formatter.getIndicatorName(),\r\n      this.ftHelperService.getIndicatorDataQualityHtml(formatter.getDataQuality())\r\n    ];\r\n\r\n    // New data badge\r\n    if (ftHelper.hasDataChanged(root)) {\r\n      html.push('&nbsp;<span style=\"margin-right:8px;\" class=\"badge badge-success\">New data</span>');\r\n    }\r\n\r\n    // Target legend\r\n    var targetLegend = ftHelper.getTargetLegendHtml(row.comparisonConfig, metadata);\r\n    if (targetLegend) {\r\n      html.push('<br>', targetLegend);\r\n    }\r\n\r\n    return html.join('');\r\n  }\r\n\r\n  setAreaHeadings(benchmark) {\r\n    this.shortAreaName = new AreaHelper(this.area).getShortAreaNameToDisplay();\r\n    this.areaName = this.area.Name;\r\n    this.benchmarkName = benchmark.Name;\r\n  }\r\n\r\n  setDisplayConfig() {\r\n    let ftHelper = this.ftHelperService;\r\n\r\n    let urls = ftHelper.getURL();\r\n    this.imgUrl = urls.img;\r\n\r\n    let groupRoots = ftHelper.getAllGroupRoots();\r\n\r\n    this.isParentUk = ftHelper.isParentUk();\r\n    this.isNationalAndRegional = ftHelper.getEnumParentDisplay() === ParentDisplay.NationalAndRegional &&\r\n      this.model.parentTypeId !== AreaTypeIds.Country;\r\n\r\n    let trendMarkerFound = groupRoots && groupRoots[0] && groupRoots[0].RecentTrends;\r\n\r\n    this.trendColSpan = trendMarkerFound ? 3 : 2;\r\n    this.areRecentTrendsDisplayed = trendMarkerFound && this.config.hasRecentTrends;\r\n\r\n    this.isNotNN = !this.model.isNearestNeighbours()\r\n    this.colSpan = this.isNationalAndRegional && !this.model.isNearestNeighbours() ? 3 : 4;\r\n\r\n    this.parentType = ftHelper.getParentTypeName();\r\n\r\n    this.setSpineHeadersAndChartLabelImage(urls.img, groupRoots);\r\n\r\n    this.lowest = this.config.spineHeaders.min;\r\n    this.highest = this.config.spineHeaders.max;\r\n  }\r\n\r\n  setSpineHeadersAndChartLabelImage(imageUrl: string, groupRoots: GroupRoot[]) {\r\n    if (groupRoots.findIndex(x => x.ComparatorMethodId === ComparatorMethodIds.SingleOverlappingCIsForOneCiLevel) > -1 ||\r\n      groupRoots.findIndex(x => x.ComparatorMethodId === ComparatorMethodIds.SingleOverlappingCIsForTwoCiLevels) > -1) {\r\n\r\n      this.config.spineHeaders.min = SpineChartMinMaxLabelDescription.Worst;\r\n      this.config.spineHeaders.max = SpineChartMinMaxLabelDescription.Best;\r\n      this.config.spineChartMinMaxLabelId = SpineChartMinMaxLabel.WorstAndBest;\r\n    } else {\r\n\r\n      if (groupRoots.findIndex(x => x.PolarityId === PolarityIds.RAGHighIsGood) > -1 ||\r\n        groupRoots.findIndex(x => x.PolarityId === PolarityIds.RAGLowIsGood) > -1) {\r\n\r\n        this.config.spineHeaders.min = SpineChartMinMaxLabelDescription.Worst;\r\n        this.config.spineHeaders.max = SpineChartMinMaxLabelDescription.Best;\r\n        this.config.spineChartMinMaxLabelId = SpineChartMinMaxLabel.WorstAndBest;\r\n      }\r\n    }\r\n\r\n    if (groupRoots.findIndex(x => x.PolarityId === PolarityIds.BlueOrangeBlue) > -1) {\r\n      if (this.config.spineChartMinMaxLabelId === SpineChartMinMaxLabel.WorstAndBest) {\r\n\r\n        this.config.spineHeaders.min = SpineChartMinMaxLabelDescription.WorstLowest;\r\n        this.config.spineHeaders.max = SpineChartMinMaxLabelDescription.BestHighest;\r\n        this.config.spineChartMinMaxLabelId = SpineChartMinMaxLabel.WorstLowestAndBestHighest;\r\n      } else {\r\n\r\n        this.config.spineHeaders.min = SpineChartMinMaxLabelDescription.Lowest;\r\n        this.config.spineHeaders.max = SpineChartMinMaxLabelDescription.Highest;\r\n        this.config.spineChartMinMaxLabelId = SpineChartMinMaxLabel.LowestAndHighest;\r\n      }\r\n    }\r\n\r\n    this.spineChartImageUrl = imageUrl + 'spine-key-label-id-' + this.config.spineChartMinMaxLabelId + '.png';\r\n  }\r\n\r\n  /** Whether the current area should is ignored for the spine charts */\r\n  setIsAreaIgnored(): void {\r\n\r\n    let ignoredSpineChartAreas = this.config.ignoredSpineChartAreas;\r\n\r\n    // Is area too small for spine charts\r\n    var isIgnored = false;\r\n    if (ignoredSpineChartAreas) {\r\n      let areaCode = this.model.areaCode;\r\n\r\n      let areas = ignoredSpineChartAreas.split(',');\r\n      isIgnored = _.any(areas, function (area) {\r\n        return area === areaCode;\r\n      });\r\n    }\r\n\r\n    this.isAreaIgnored = isIgnored;\r\n  }\r\n\r\n  goToBarChart(row: IndicatorRow) {\r\n    this.ftHelperService.goToBarChartPage(row.rootIndex);\r\n  }\r\n\r\n  goToTrends(row: IndicatorRow) {\r\n    this.ftHelperService.goToAreaTrendsPage(row.rootIndex);\r\n  }\r\n\r\n  onExportClick(event: MouseEvent) {\r\n    this.ftHelperService.exportTableAsImage('area-profile-container',\r\n      'AreaProfilesTable', '#key-spine-chart,#spine-range-key');\r\n  }\r\n\r\n  onExportCsvFileClick(event: MouseEvent) {\r\n    alert('It works!');\r\n  }\r\n\r\n  public showIndicatorTooltip(event: MouseEvent, row: IndicatorRow) {\r\n    this.currentTooltipHtml = this.ftHelperService.getIndicatorNameTooltip(row.rootIndex, this.area);\r\n    this.tooltip.displayHtml(event, this.currentTooltipHtml);\r\n  }\r\n\r\n  public showRecentTrendTooltip(event: MouseEvent, row: IndicatorRow) {\r\n    let tooltipProvider = this.ftHelperService.newRecentTrendsTooltip();\r\n    this.currentTooltipHtml = tooltipProvider.getTooltipByData(row.trendMarkerResult);\r\n    this.tooltip.displayHtml(event, this.currentTooltipHtml);\r\n  }\r\n\r\n  public hideTooltip() {\r\n    this.tooltip.hide();\r\n    this.currentTooltipHtml = null;\r\n  }\r\n\r\n  public repositionTooltip(event: MouseEvent) {\r\n    this.tooltip.reposition(event);\r\n  }\r\n}\r\n\r\nexport class IndicatorRow {\r\n  // Displayed properties\r\n  period: string;\r\n  recentTrendImage: string;\r\n  areaCount: string;\r\n  areaValue: string;\r\n  subnationalValue: string;\r\n  englandValue: string;\r\n  englandMin: string;\r\n  englandMax: string;\r\n  minTooltip: string;\r\n  maxTooltip: string;\r\n  areaValueTooltip: string;\r\n  subnationalValueTooltip: string;\r\n  englandValueTooltip: string;\r\n  spineChartDimensions: SpineChartDimensions;\r\n\r\n  // Piggy backing objects\r\n  formatter: IndicatorFormatter;\r\n  groupRoot: GroupRoot;\r\n  indicatorMetadata: IndicatorMetadata;\r\n  areaData: CoreDataSet;\r\n  benchmarkData: CoreDataSet;\r\n  stats: IndicatorStatsPercentiles = null;\r\n  statsF: IndicatorStatsPercentilesFormatted = null;\r\n  haveRequiredValuesForSpineChart: boolean = false;\r\n  comparisonConfig: ComparisonConfig;\r\n  rootIndex: number;\r\n  trendMarkerResult: TrendMarkerResult;\r\n  area: Area;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/area-profile/area-profile.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AreaProfileComponent } from './area-profile.component';\r\nimport { SpineChartComponent } from './spine-chart/spine-chart.component';\r\nimport { LegendModule } from 'app/shared/component/legend/legend.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LegendModule\r\n  ],\r\n  declarations: [\r\n    AreaProfileComponent,\r\n    SpineChartComponent,\r\n  ],\r\n  exports: [\r\n    AreaProfileComponent,\r\n    SpineChartComponent\r\n  ]\r\n})\r\n\r\nexport class AreaProfileModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/area-profile/area-profile.module.ts","import { IndicatorStatsPercentiles, CoreDataSet, CoreDataSetInfo, ComparisonConfig } from \"../typings/FT\";\r\n\r\nexport class SpineChartCalculator {\r\n\r\n    // Not 1 for float precision reasons\r\n    private one = 0.9999;\r\n    private halfMarkerWidth = 18 / 2;\r\n\r\n    public getSpineProportions(average: number, stats: IndicatorStatsPercentiles, polarityId: number) {\r\n\r\n        let min, max, p25, p75;\r\n\r\n        let prop = new SpineChartProportions();\r\n        prop.isHighestLeft = this.isHighestLeft(polarityId)\r\n\r\n        if (prop.isHighestLeft) {\r\n            min = stats.Max;\r\n            max = stats.Min;\r\n            p25 = stats.P75;\r\n            p75 = stats.P25;\r\n        } else {\r\n            min = stats.Min;\r\n            max = stats.Max;\r\n            p25 = stats.P25;\r\n            p75 = stats.P75;\r\n        }\r\n\r\n        // Q1 Offset\r\n        let minAverageDifference = Math.abs(average - min);\r\n        let maxAverageDifference = Math.abs(average - max);\r\n        if (minAverageDifference > maxAverageDifference) {\r\n            prop.unitsOfLargestSide = minAverageDifference;\r\n            prop.q1Offset = 0;\r\n        } else {\r\n            prop.unitsOfLargestSide = maxAverageDifference;\r\n            prop.q1Offset = (maxAverageDifference - minAverageDifference);\r\n        }\r\n\r\n        prop.q1 = Math.abs(p25 - min);\r\n        prop.q2 = Math.abs(p75 - p25);\r\n        prop.q4 = Math.abs(max - p75);\r\n        prop.min = min;\r\n\r\n        return prop;\r\n    }\r\n\r\n    isHighestLeft(polarityId: number): boolean {\r\n        return polarityId === 0;\r\n    }\r\n\r\n    public getDimensions(proportions: SpineChartProportions, dataInfo: CoreDataSetInfo, imgUrl: string,\r\n        comparisonConfig: ComparisonConfig, indicatorId: number, getMarkerImageFromSignificance): SpineChartDimensions {\r\n\r\n        var dimensions = new SpineChartDimensions();\r\n        dimensions.imgUrl = imgUrl;\r\n\r\n        let calc = new SpineChartDimensionCalculator(proportions.unitsOfLargestSide);\r\n\r\n        dimensions.q1 = calc.getDimension(proportions.q1);\r\n        dimensions.q2 = calc.getDimension(proportions.q2);\r\n        dimensions.q4 = calc.getDimension(proportions.q4);\r\n\r\n        dimensions.q1Offset = calc.getDimension(proportions.q1Offset);\r\n        dimensions.q1Offset += 12/*margin left*/;\r\n\r\n        dimensions.pixelPerUnit = calc.pixelPerUnit;\r\n\r\n        // Marker\r\n        if (dataInfo.isValue()) {\r\n\r\n            let markerOffset = calc.getMarkerOffset(dataInfo.data.Val, proportions);\r\n\r\n            dimensions.markerOffset = markerOffset + dimensions.q1Offset;\r\n\r\n            var suffix = comparisonConfig.useQuintileColouring\r\n                ? '_medium'\r\n                : '';\r\n            dimensions.markerImage = getMarkerImageFromSignificance(dataInfo.data.Sig[comparisonConfig.comparatorId],\r\n                comparisonConfig.useRagColours, suffix, comparisonConfig.useQuintileColouring, indicatorId, dataInfo.data.SexId, dataInfo.data.AgeId);\r\n        }\r\n\r\n        this.adjustDimensionsForRounding(dimensions, calc.roundDifference);\r\n\r\n        return dimensions;\r\n    }\r\n\r\n    adjustDimensionsForRounding(dimensions: SpineChartDimensions, roundDiff: number) {\r\n        //Note: q4 may not be most appropriate section to adjust\r\n        if (roundDiff <= -this.one) {\r\n            dimensions.q4 -= 1;\r\n        } else if (roundDiff >= this.one) {\r\n            dimensions.q4 += 1;\r\n        }\r\n    };\r\n\r\n}\r\n\r\nclass SpineChartDimensionCalculator {\r\n\r\n    public roundDifference = 0;\r\n    public pixelPerUnit: number;\r\n\r\n    private halfMarkerWidth = 18 / 2;\r\n\r\n    constructor(unitsOfLargestSide: number) {\r\n        let halfSpineChartWidth = 250 / 2;\r\n        this.pixelPerUnit = halfSpineChartWidth / unitsOfLargestSide;\r\n    }\r\n\r\n    public getDimension(proportion: number) {\r\n\r\n        let val = proportion * this.pixelPerUnit;\r\n        let rounded = Math.round(val);\r\n        this.roundDifference += val - rounded;\r\n        return rounded;\r\n    }\r\n\r\n    /** Left offset to position the centre of marker image appropriate for the value */\r\n    public getMarkerOffset(value: number, proportions: SpineChartProportions): number {\r\n\r\n        if (value) {\r\n            var min = proportions.min;\r\n            var marker = proportions.isHighestLeft ?\r\n                min - value :\r\n                value - min;\r\n\r\n            return Math.round((marker * this.pixelPerUnit) - this.halfMarkerWidth);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n/** Proportion values are expressed in the unit of the indicator */\r\nexport class SpineChartProportions {\r\n    q1Offset: number;\r\n    q1: number;\r\n    q2: number;\r\n    q4: number;\r\n    marker: number;\r\n    min: number;\r\n    unitsOfLargestSide: number;\r\n    isHighestLeft: boolean;\r\n}\r\n\r\nexport class SpineChartDimensions {\r\n    q1: number;\r\n    q2: number;\r\n    q4: number;\r\n    q1Offset: number;\r\n    pixelPerUnit: number;\r\n    imgUrl: string;\r\n    markerOffset: number;\r\n    markerImage: string;\r\n    isSufficientData = true;\r\n    isAnyData = true;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/area-profile/spine-chart.classes.ts","module.exports = \".spine250 {\\r\\n    width: 274px;\\r\\n    /*SPINE_WIDTH + (margin-left calculateSpineDimensions x2)*/\\r\\n    position: relative;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.average250 {\\r\\n    width: 2px;\\r\\n    left: 136px;\\r\\n    /*half spine250 width - 1(i.e. half average bar width)*/\\r\\n    position: absolute;\\r\\n    height: 23px;\\r\\n}\\r\\n\\r\\n.no-spine {\\r\\n    height: 23px;\\r\\n    line-height: 23px;\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    font-style: italic;\\r\\n    font-size: 11px;\\r\\n}\\r\\n\\r\\n.q1,\\r\\n.q2,\\r\\n.q4,\\r\\n.spine {\\r\\n    height: 23px;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.spine {\\r\\n    overflow: hidden;\\r\\n    padding: 0 0 0 0;\\r\\n}\\r\\n\\r\\n.marker {\\r\\n    position: absolute;\\r\\n    top: 2px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/area-profile/spine-chart/spine-chart.component.css\n// module id = ./src/app/area-profile/spine-chart/spine-chart.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"dimensions && dimensions.isSufficientData && dimensions.isAnyData\\\" class=\\\"spine spine250\\\">\\r\\n    <img src=\\\"{{dimensions.imgUrl}}lightgrey.png\\\" class=\\\"q1\\\" [style.width]=\\\"dimensions.q1 + 'px'\\\" [style.marginLeft]=\\\"dimensions.q1Offset + 'px'\\\" alt=\\\"\\\" (mouseover)=\\\"showLeftQuartileTooltip($event)\\\" (mouseout)=\\\"hideTooltip()\\\" (mousemove)=\\\"repositionTooltip($event)\\\"\\r\\n    />\\r\\n    <img src=\\\"{{dimensions.imgUrl}}darkgrey.png\\\" class=\\\"q2\\\" [style.width]=\\\"dimensions.q2 + 'px'\\\" alt=\\\"\\\" (mouseover)=\\\"showInnerQuartilesTooltip($event)\\\" (mouseout)=\\\"hideTooltip()\\\" (mousemove)=\\\"repositionTooltip($event)\\\" />\\r\\n    <img src=\\\"{{dimensions.imgUrl}}lightgrey.png\\\" class=\\\"q4\\\" [style.width]=\\\"dimensions.q4 + 'px'\\\" alt=\\\"\\\" (mouseover)=\\\"showRightQuartileTooltip($event)\\\" (mouseout)=\\\"hideTooltip()\\\" (mousemove)=\\\"repositionTooltip($event)\\\" />\\r\\n    <img src=\\\"{{dimensions.imgUrl}}red.png\\\" class=\\\"average250\\\" alt=\\\"\\\" (mouseover)=\\\"showBenchmarkTooltip($event)\\\" (mouseout)=\\\"hideTooltip()\\\" (mousemove)=\\\"repositionTooltip($event)\\\" />\\r\\n    <img src=\\\"{{dimensions.imgUrl}}{{dimensions.markerImage}}\\\" class=\\\"marker\\\" [style.left]=\\\"dimensions.markerOffset + 'px'\\\" alt=\\\"\\\" (mouseover)=\\\"showMarkerTooltip($event)\\\" (mouseout)=\\\"hideTooltip()\\\" (mousemove)=\\\"repositionTooltip($event)\\\" />\\r\\n</div>\\r\\n<div *ngIf=\\\"dimensions && dimensions.isAnyData && !dimensions.isSufficientData\\\" class=\\\"no-spine\\\">Insufficient number of values for a spine chart</div>\\r\\n<div *ngIf=\\\"dimensions && !dimensions.isAnyData\\\" class=\\\"no-spine\\\">-</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/area-profile/spine-chart/spine-chart.component.html\n// module id = ./src/app/area-profile/spine-chart/spine-chart.component.html\n// module chunks = main","import { Component, OnInit, Input } from '@angular/core';\r\nimport { SpineChartDimensions } from '../spine-chart.classes';\r\nimport { TooltipHelper } from 'app/shared/shared';\r\nimport { IndicatorRow } from '../area-profile.component';\r\nimport { FTHelperService } from 'app/shared/service/helper/ftHelper.service';\r\n\r\n@Component({\r\n  selector: 'ft-spine-chart',\r\n  templateUrl: './spine-chart.component.html',\r\n  styleUrls: ['./spine-chart.component.css']\r\n})\r\nexport class SpineChartComponent {\r\n\r\n  @Input() public dimensions: SpineChartDimensions;\r\n  @Input() public tooltip: TooltipHelper;\r\n  @Input() public indicatorRow: IndicatorRow;\r\n\r\n  private currentTooltipHtml: string;\r\n  private html: string[];\r\n\r\n  constructor(private ftHelperService: FTHelperService) { }\r\n\r\n  public showMarkerTooltip(event: MouseEvent) {\r\n    this.html = [];\r\n    let formatter = this.indicatorRow.formatter;\r\n\r\n    // Value\r\n    this.addDataText(formatter.getAreaValue() + formatter.getSuffixIfNoShort());\r\n\r\n    // Area name\r\n    var areaName = this.ftHelperService.getAreaNameToDisplay(this.indicatorRow.area);\r\n    this.html.push('<span id=\"tooltipArea\">', areaName, '</span>');\r\n\r\n    this.addIndicatorName();\r\n    this.addValueNote();\r\n\r\n    this.showTooltip(event);\r\n  }\r\n\r\n  public showInnerQuartilesTooltip(event: MouseEvent) {\r\n\r\n    let formatter = this.indicatorRow.formatter;\r\n\r\n    let values = formatter.get25() + ' - ' + formatter.get75();\r\n    let labels = '25th Percentile to 75th Percentile';\r\n\r\n    this.showRangeTooltip(event, values, labels);\r\n  }\r\n\r\n  public showLeftQuartileTooltip(event: MouseEvent) {\r\n\r\n    let formatter = this.indicatorRow.formatter;\r\n\r\n    let values = formatter.getMin() + ' - ' + formatter.get25();\r\n    let labels = this.getSpineHeaders().min + ' to 25th Percentile';\r\n\r\n    this.showRangeTooltip(event, values, labels);\r\n  }\r\n\r\n  public showRightQuartileTooltip(event: MouseEvent) {\r\n\r\n    let formatter = this.indicatorRow.formatter;\r\n\r\n    let values = formatter.get75() + ' - ' + formatter.getMax();\r\n    let labels = '75th Percentile to ' + this.getSpineHeaders().max;\r\n\r\n    this.showRangeTooltip(event, values, labels);\r\n  }\r\n\r\n  public showBenchmarkTooltip(event: MouseEvent) {\r\n    this.html = [];\r\n    let formatter = this.indicatorRow.formatter;\r\n\r\n    this.addDataText(formatter.getAverage() + formatter.getSuffixIfNoShort());\r\n    this.addComparatorName();\r\n    this.addIndicatorName();\r\n\r\n    this.showTooltip(event);\r\n  }\r\n\r\n  private addDataText(text: string) {\r\n    this.html.push('<span id=\"tooltipData\">', text, '</span>');\r\n  }\r\n\r\n  private showRangeTooltip(event: MouseEvent, values: string, labels: string) {\r\n    this.html = [];\r\n    let formatter = this.indicatorRow.formatter;\r\n\r\n    this.addDataText(values);\r\n    this.addRangeText(labels);\r\n    this.addComparatorName();\r\n    this.addIndicatorName();\r\n\r\n    this.showTooltip(event);\r\n  }\r\n\r\n  private addComparatorName() {\r\n    this.html.push('<span id=\"tooltipArea\">', this.ftHelperService.getCurrentComparator().Name, '</span>');\r\n  }\r\n\r\n  private getSpineHeaders() {\r\n    return this.ftHelperService.getFTConfig().spineHeaders;\r\n  }\r\n\r\n  private addIndicatorName() {\r\n    this.html.push('<span id=\"tooltipIndicator\">',\r\n      this.indicatorRow.formatter.getIndicatorName(), '</span>');\r\n  }\r\n\r\n  private addRangeText(text: string) {\r\n    this.html.push('<span id=\"range-text\">', text, '</span>');\r\n  }\r\n\r\n  private addValueNote() {\r\n    let noteId = this.indicatorRow.areaData.NoteId;\r\n    if (noteId) {\r\n      var valueNoteHtml = this.ftHelperService.newValueNoteTooltipProvider().getHtmlFromNoteId(noteId);\r\n\r\n      // Add extra CSS class\r\n      valueNoteHtml = valueNoteHtml.replace('tooltipValueNote',\r\n        'tooltipValueNote tooltip-value-vote-spine-chart');\r\n\r\n      this.html.push(valueNoteHtml);\r\n    }\r\n  }\r\n\r\n  private showTooltip(event: MouseEvent) {\r\n    this.currentTooltipHtml = this.html.join('');\r\n    this.tooltip.displayHtml(event, this.currentTooltipHtml);\r\n  }\r\n\r\n  public hideTooltip() {\r\n    this.tooltip.hide();\r\n    this.currentTooltipHtml = null;\r\n  }\r\n\r\n  public repositionTooltip(event: MouseEvent) {\r\n    this.tooltip.reposition(event);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/area-profile/spine-chart/spine-chart.component.ts","module.exports = \"#div-content a.btn {\\r\\n    text-decoration: none;\\r\\n    color: #ffffff;\\r\\n}\\r\\n\\r\\n.webgrid-table {\\r\\n    font-family: \\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif;\\r\\n    font-size: 1.1em;\\r\\n    width: 100%;\\r\\n    display: table;\\r\\n    border-collapse: collapse;\\r\\n    border: solid 1px #98BF21;\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.webgrid-table td,\\r\\nth {\\r\\n    border: 1px solid #98BF21;\\r\\n    padding: 3px 7px 2px;\\r\\n}\\r\\n\\r\\n.webgrid-header {\\r\\n    padding-bottom: 4px;\\r\\n    padding-top: 5px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.webgrid-header th {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.webgrid-row-style {\\r\\n    padding: 3px 7px 2px;\\r\\n}\\r\\n\\r\\n.webgrid-row-style a,\\r\\n.webgrid-alternating-row a {\\r\\n    text-decoration: none;\\r\\n    color: #ffffff;\\r\\n}\\r\\n\\r\\n.webgrid-alternating-row {\\r\\n    padding: 3px 7px 2px;\\r\\n}\\r\\n\\r\\nthead tr th:first-child,\\r\\ntbody tr td:first-child {\\r\\n    width: 40em;\\r\\n}\\r\\n\\r\\n.list-name {\\r\\n    color: #2e3191;\\r\\n    font-weight: bold;\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n#lightBox {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n#infoBox {\\r\\n    display: none;\\r\\n    width: 438px;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    margin-top: -50px;\\r\\n    margin-left: -50px;\\r\\n}\\r\\n\\r\\n.help-link-button {\\r\\n    text-decoration: underline;\\r\\n    color: #2e3191;\\r\\n    float: right;\\r\\n    z-index: 1000;\\r\\n    margin-top: -59px;\\r\\n    padding-right: 0px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/arealist/arealist-index/arealist-index.component.css\n// module id = ./src/app/arealist/arealist-index/arealist-index.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row\\\" *ngIf=\\\"displayPage()\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <button id=\\\"help-view-area-list-on-data-page\\\" class=\\\"btn btn-link help-link-button\\\" (click)=\\\"helpViewAreaListOnDataPage()\\\">\\r\\n            How do I view my area lists?\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div id=\\\"grid-content\\\" class=\\\"col-md-12\\\" *ngIf=\\\"isAnyData()\\\">\\r\\n        <table class=\\\"webgrid-table\\\">\\r\\n            <thead>\\r\\n                <tr class=\\\"webgrid-header\\\">\\r\\n                    <th scope=\\\"col\\\">\\r\\n                        <button class=\\\"btn btn-link list-name\\\" (click)=\\\"sort(1)\\\">\\r\\n                            <u>List name</u>\\r\\n                        </button>\\r\\n                    </th>\\r\\n                    <th scope=\\\"col\\\">\\r\\n                        <button class=\\\"btn btn-link list-name\\\" (click)=\\\"sort(2)\\\">\\r\\n                            <u>Area type</u>\\r\\n                        </button>\\r\\n                    </th>\\r\\n                    <th scope=\\\"col\\\">\\r\\n                        Edit\\r\\n                    </th>\\r\\n                    <th scope=\\\"col\\\">\\r\\n                        Copy\\r\\n                    </th>\\r\\n                    <th scope=\\\"col\\\">\\r\\n                        Delete\\r\\n                    </th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let areaListRow of areaListRows; let last=last\\\" class=\\\"webgrid-row-style\\\">\\r\\n                    <td>\\r\\n                        {{areaListRow.AreaListName}} {{last? hideSpinner() : ''}}\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        {{areaListRow.AreaTypeName}}\\r\\n                    </td>\\r\\n                    <td class=\\\"center\\\">\\r\\n                        <a id=\\\"edit-area-list\\\" href=\\\"area-list/edit?list_id={{areaListRow.PublicId}}\\\" class=\\\"btn btn-outline-primary edit-link-button\\\">Edit</a>\\r\\n                    </td>\\r\\n                    <td class=\\\"center\\\">\\r\\n                        <button id=\\\"copy-area-list\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"copyAreaListConfirmation(areaListRow.AreaListId)\\\">Copy</button>\\r\\n                    </td>\\r\\n                    <td class=\\\"center\\\">\\r\\n                        <button id=\\\"delete-area-list\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"deleteAreaListConfirmation(areaListRow)\\\">Delete</button>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n<ft-light-box [lightBoxConfig]=\\\"lightBoxConfig\\\" (emitLightBoxActionConfirmed)=\\\"updateLightBoxActionConfirmed($event)\\\"></ft-light-box>\\r\\n<ft-light-box-with-input [lightBoxWithInputConfig]=\\\"lightBoxWithInputConfig\\\" (emitLightBoxWithInputActionConfirmed)=\\\"updateLightBoxWithInputActionConfirmed($event)\\\" (emitLightBoxInputText)=\\\"updateLightBoxInputText($event)\\\"></ft-light-box-with-input>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/arealist/arealist-index/arealist-index.component.html\n// module id = ./src/app/arealist/arealist-index/arealist-index.component.html\n// module chunks = main","import { Component, ChangeDetectorRef } from '@angular/core';\r\nimport { AreaService } from '../../shared/service/api/area.service';\r\nimport { AreaListService } from '../../shared/service/api/arealist.service';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AreaList, AreaType } from '../../typings/FT.d';\r\nimport { LightBoxTypes, LightBoxConfig } from '../../shared/component/light-box/light-box.component';\r\nimport { LightBoxWithInputTypes, LightBoxWithInputConfig } from 'app/shared/component/light-box-with-input/light-box-with-input.component';\r\n\r\n@Component({\r\n  selector: 'ft-arealist-index',\r\n  templateUrl: './arealist-index.component.html',\r\n  styleUrls: ['./arealist-index.component.css'],\r\n  providers: [AreaListService]\r\n})\r\nexport class ArealistIndexComponent {\r\n\r\n  userId: string;\r\n  areaListId: number;\r\n  areaListName: string;\r\n  selectedRecordUserId: string;\r\n  publicId: string;\r\n  areaLists: AreaList[] = [];\r\n  areaTypes: AreaType[] = [];\r\n  areaListRows: AreaListRow[] = [];\r\n\r\n  sortOrder = false;\r\n  sortOrderAreaListName = false;\r\n  sortOrderAreaTypeName = false;\r\n\r\n  lightBoxConfig: LightBoxConfig;\r\n  lightBoxWithInputConfig: LightBoxWithInputConfig;\r\n\r\n  actionType: ActionTypes;\r\n\r\n  constructor(private areaListService: AreaListService, private areaService: AreaService, private ref: ChangeDetectorRef) { }\r\n\r\n  ngOnInit() {\r\n    this.userId = document.getElementById('ft-arealist-index').getAttribute('user-id');\r\n\r\n    const areaListsObservable = this.areaListService.getAreaLists(this.userId);\r\n    const areaTypesObservable = this.areaService.getAreaTypes();\r\n\r\n    Observable.forkJoin([areaListsObservable, areaTypesObservable]).subscribe(results => {\r\n      this.areaLists = <AreaList[]>results[0];\r\n      this.areaTypes = <AreaType[]>results[1];\r\n\r\n      this.areaLists.forEach(element => {\r\n        const row: AreaListRow = new AreaListRow();\r\n        row.AreaListId = element.Id;\r\n        row.AreaListName = element.ListName;\r\n        row.AreaTypeId = element.AreaTypeId;\r\n        row.AreaTypeName = this.areaTypes.find(x => x.Id === element.AreaTypeId).Short;\r\n        row.UserId = element.UserId;\r\n        row.PublicId = element.PublicId;\r\n\r\n        this.areaListRows.push(row)\r\n      });\r\n\r\n      this.hideSpinner();\r\n    });\r\n  }\r\n\r\n  displayPage(): boolean {\r\n    const windowLocationHref = window.location.href.trim().toLowerCase();\r\n    if (windowLocationHref.indexOf('area-list') > 0 &&\r\n      windowLocationHref.indexOf('create') <= 0 &&\r\n      windowLocationHref.indexOf('edit') <= 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isAnyData(): boolean {\r\n    if (this.areaLists.length > 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  hideSpinner() {\r\n    $('#spinner').hide();\r\n  }\r\n\r\n  sort(column: number) {\r\n    let tempAreaListRows: Array<AreaListRow>;\r\n    tempAreaListRows = this.areaListRows.slice(0);\r\n\r\n    this.sortOrder = this.getSortOrder(column);\r\n\r\n    tempAreaListRows.sort((a, b) => {\r\n      if (this.sortOrder) {\r\n        switch (column) {\r\n          case SortColumns.AreaListName:\r\n            if (a.AreaListName.toLowerCase() < b.AreaListName.toLowerCase()) {\r\n              return -1;\r\n            } else if (a.AreaListName.toLowerCase() > b.AreaListName.toLowerCase()) {\r\n              return 1;\r\n            } else {\r\n              return 0;\r\n            }\r\n          case SortColumns.AreaTypeName:\r\n            if (a.AreaTypeName.toLowerCase() < b.AreaTypeName.toLowerCase()) {\r\n              return -1;\r\n            } else if (a.AreaTypeName.toLowerCase() > b.AreaTypeName.toLowerCase()) {\r\n              return 1;\r\n            } else {\r\n              return 0;\r\n            }\r\n        }\r\n      } else {\r\n        switch (column) {\r\n          case SortColumns.AreaListName:\r\n            if (a.AreaListName.toLowerCase() < b.AreaListName.toLowerCase()) {\r\n              return 1;\r\n            } else if (a.AreaListName.toLowerCase() > b.AreaListName.toLowerCase()) {\r\n              return -1;\r\n            } else {\r\n              return 0;\r\n            }\r\n          case SortColumns.AreaTypeName:\r\n            if (a.AreaTypeName.toLowerCase() < b.AreaTypeName.toLowerCase()) {\r\n              return 1;\r\n            } else if (a.AreaTypeName.toLowerCase() > b.AreaTypeName.toLowerCase()) {\r\n              return -1;\r\n            } else {\r\n              return 0;\r\n            }\r\n        }\r\n      }\r\n    });\r\n\r\n    this.areaListRows = tempAreaListRows;\r\n  }\r\n\r\n  getSortOrder(column: number): boolean {\r\n    let sortOrder = false;\r\n\r\n    switch (column) {\r\n      case SortColumns.AreaListName:\r\n        this.sortOrderAreaListName = !this.sortOrderAreaListName;\r\n        sortOrder = this.sortOrderAreaListName;\r\n        break;\r\n      case SortColumns.AreaTypeName:\r\n        this.sortOrderAreaTypeName = !this.sortOrderAreaTypeName;\r\n        sortOrder = this.sortOrderAreaTypeName;\r\n        break;\r\n    }\r\n\r\n    return sortOrder;\r\n  }\r\n\r\n  helpViewAreaListOnDataPage() {\r\n    // Show light box\r\n    const config = new LightBoxConfig();\r\n    config.Type = LightBoxTypes.Ok;\r\n    config.Title = 'How to view your area lists';\r\n    config.Html = 'When viewing the data for a profile select the \"Your area lists\" option in the \"Areas grouped by\" menu.<br><br>' +\r\n      '<img src=\"../images/help-view-area-list-on-data-page.png\"><br><br>' +\r\n      'You will then be able to view any existing area lists or else create new ones.';\r\n    config.Height = 540;\r\n    config.Top = 200;\r\n    this.lightBoxConfig = config;\r\n  }\r\n\r\n  deleteAreaListConfirmation(row: AreaListRow) {\r\n    this.areaListId = row.AreaListId;\r\n    this.selectedRecordUserId = row.UserId;\r\n    this.publicId = row.PublicId;\r\n    this.actionType = ActionTypes.Delete;\r\n\r\n    // Show light box for delete\r\n    const config = new LightBoxConfig();\r\n    config.Top = 400;\r\n    config.Type = LightBoxTypes.OkCancel;\r\n    config.Title = 'Delete';\r\n    config.Html = 'Are you sure you want to delete this list?';\r\n    this.lightBoxConfig = config;\r\n  }\r\n\r\n  updateLightBoxActionConfirmed(actionConfirmed: boolean) {\r\n    if (actionConfirmed) {\r\n      if (this.actionType === ActionTypes.Delete) {\r\n        this.deleteAreaList();\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteAreaList() {\r\n    const formData: FormData = new FormData();\r\n    formData.append('areaListId', this.areaListId.toString());\r\n    formData.append('userId', this.selectedRecordUserId.toString());\r\n    formData.append('publicId', this.publicId.toString());\r\n\r\n    this.areaListService.deleteAreaList(formData)\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            window.location.reload(true);\r\n          }\r\n        },\r\n        (error) => {\r\n          // Show light box\r\n          const config = new LightBoxConfig();\r\n          config.Top = 400;\r\n          config.Type = LightBoxTypes.OkCancel;\r\n          config.Title = 'Failed';\r\n          config.Html = 'Failed to delete the area list, please try again.<br>' +\r\n            'If the issue persists then please contact the administrator.';\r\n          this.lightBoxConfig = config;\r\n        }\r\n      );\r\n  }\r\n\r\n  copyAreaListConfirmation(areaListId: number) {\r\n    this.areaListId = areaListId;\r\n    this.areaListName = this.areaLists.find(x => x.Id === areaListId).ListName;\r\n    this.actionType = ActionTypes.Copy;\r\n\r\n    // Show light box\r\n    const config = new LightBoxWithInputConfig();\r\n    config.Type = LightBoxWithInputTypes.OkCancel;\r\n    config.Title = 'Copy area list';\r\n    config.Html = 'Name of new list';\r\n    config.InputText = this.areaListName + ' copy';\r\n    this.lightBoxWithInputConfig = config;\r\n  }\r\n\r\n  updateLightBoxInputText(areaListName: string) {\r\n    this.areaListName = areaListName;\r\n  }\r\n\r\n  updateLightBoxWithInputActionConfirmed(actionConfirmed: boolean) {\r\n    if (actionConfirmed) {\r\n      if (this.actionType === ActionTypes.Copy) {\r\n        this.copyAreaList();\r\n      }\r\n    }\r\n  }\r\n\r\n  copyAreaList() {\r\n    const areaList = this.areaLists.find(x => x.ListName === this.areaListName);\r\n    if (areaList === undefined || areaList === null) {\r\n      const formData: FormData = new FormData();\r\n      formData.append('areaListId', this.areaListId.toString());\r\n      formData.append('areaListName', this.areaListName);\r\n      formData.append('userId', this.userId);\r\n\r\n      this.areaListService.copyAreaList(formData)\r\n        .subscribe(\r\n          (response) => {\r\n            if (response.status === 200) {\r\n              window.location.reload(true);\r\n            }\r\n          },\r\n          (error) => {\r\n            // Show light box\r\n            const config = new LightBoxConfig();\r\n            config.Type = LightBoxTypes.OkCancel;\r\n            config.Title = 'Failed';\r\n            config.Html = 'Failed to copy the area list, please try again.<br>' +\r\n              'If the issue persists then please contact the administrator.';\r\n            this.lightBoxConfig = config;\r\n          }\r\n        );\r\n    } else {\r\n      // Show light box\r\n      const config = new LightBoxConfig();\r\n      config.Type = LightBoxTypes.Ok;\r\n      config.Title = 'Area list name already taken';\r\n      config.Html = 'Another area list already has that name. Please choose a different one.';\r\n      this.lightBoxConfig = config;\r\n    }\r\n  }\r\n}\r\n\r\nexport class AreaListRow {\r\n  AreaListId: number;\r\n  AreaListName: string;\r\n  AreaTypeId: number\r\n  AreaTypeName: string;\r\n  UserId: string;\r\n  PublicId: string;\r\n}\r\n\r\nexport class SortColumns {\r\n  public static readonly AreaListName = 1;\r\n  public static readonly AreaTypeName = 2;\r\n};\r\n\r\nexport class ActionTypes {\r\n  public static readonly Info = \"INFO\";\r\n  public static readonly Delete = \"DELETE\";\r\n  public static readonly Copy = \"COPY\";\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/arealist/arealist-index/arealist-index.component.ts","module.exports = \".top-margin {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.available-areas-list {\\r\\n    height: 400px;\\r\\n    overflow-y: scroll;\\r\\n}\\r\\n\\r\\n.available-areas,\\r\\n.searched-areas,\\r\\n.selected-areas {\\r\\n    border-top: 1px solid #ccc;\\r\\n    margin: 0px;\\r\\n    padding-top: 5px;\\r\\n    padding-bottom: 5px;\\r\\n}\\r\\n\\r\\n.cursor-pointer {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#areaSearchText {\\r\\n    background: #FFF url(\\\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAZAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQICAgICAgICAgICAwMDAwMDAwMDAwEBAQEBAQECAQECAgIBAgIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD/8AAEQgAGAAYAwERAAIRAQMRAf/EAFwAAQEBAQAAAAAAAAAAAAAAAAgHBAoBAQAAAAAAAAAAAAAAAAAAAAAQAAIDAQABBQADAQAAAAAAAAIDAQQFBgcAERITCCExQSIRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AO93pOjxOQwdbp+k0UZODhUX6Wro2fslVSnWCTayQSDXtP8AwFrE2MOYERIpiJAi0/3L45ZYzb+rwnlrnOA2b45uT5Q3OOmrxNpxt+oLE313XMikRCc/JYtaIj7ksf8Ar4Az69hFtCLVV6bNWylditZrsByLCHALEvQ5ZEtqWrKCEhmRIZiYn29Adv1rwnTeSPAPectyCXXN56cjSq5aCkW668Tczte1mpj5hDbDq1IySufl9rgAIj3KJgCP5e/Y3h3rPz90fA4vN7Ydjr8m3mm+PbHOXaiOKfTqKW67at/QvOHP5Y60urfURNg66/sUqPl8QbP5t08jT8EeKSxt+p0lbP4bm8exo1GGYBoZOVVo36DQbA2K7s2ykkktogwYCPcY/r0Fu9BkZn0HFYNtKo07iCq2yZWSZWqxj8Dr2CIJl6CCPaQL3GY/j29BKPFPgzhfDNztLHCq1M+n22ynatYjtJz8LGYivKYq4GZ7AihWJjDOZmDbIyK/n9SlAAf/2Q==\\\") right center no-repeat;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.clear-list-button {\\r\\n    padding: 0px;\\r\\n    font-size: 14px;\\r\\n    text-decoration: underline;\\r\\n    color: #2e3191;\\r\\n}\\r\\n\\r\\n#spinner {\\r\\n    margin: 200px 0;\\r\\n    color: #999;\\r\\n    font-size: 10px;\\r\\n    text-align: center;\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n#lightBox {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n#infoBox {\\r\\n    display: none;\\r\\n    width: 438px;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    margin-top: -50px;\\r\\n    margin-left: -50px;\\r\\n}\\r\\n\\r\\n.btn-link {\\r\\n    color: #2e3191;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/arealist/arealist-manage/arealist-manage.component.css\n// module id = ./src/app/arealist/arealist-manage/arealist-manage.component.css\n// module chunks = main","module.exports = \"<form [formGroup]=\\\"arealistForm\\\" *ngIf=\\\"isAnyData()\\\">\\r\\n    <div formGroupName=\\\"arealist\\\">\\r\\n        <div class=\\\"row top-margin\\\">\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n                <h6 class=\\\"font-weight-bold\\\">Area type</h6>\\r\\n                <select id=\\\"areaTypeList\\\" formControlName=\\\"areaTypeList\\\" class=\\\"form-control\\\" (change)=\\\"changeAreaTypeList()\\\"\\r\\n                    *ngIf=\\\"isCreate()\\\">\\r\\n                    <option [value]=\\\"-1\\\">SELECT AREA TYPE</option>\\r\\n                    <option *ngFor=\\\"let areaType of areaTypes; let last=last\\\" [value]=\\\"areaType.Id\\\">\\r\\n                        {{areaType.Short}} {{last? setDefaultOption() : ''}}\\r\\n                    </option>\\r\\n                </select>\\r\\n                <h6 id=\\\"areaTypeName\\\" [innerHtml]=\\\"areaTypeName\\\" *ngIf=\\\"!isCreate()\\\">\\r\\n                </h6>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n                <h6 class=\\\"font-weight-bold\\\">List name</h6>\\r\\n                <input type=\\\"text\\\" id=\\\"areaListName\\\" formControlName=\\\"areaListName\\\" class=\\\"form-control\\\" [value]=\\\"this.areaListName\\\">\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row top-margin\\\">\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n                <button id=\\\"btn-save-area-list\\\" class=\\\"btn btn-primary\\\" (click)=\\\"saveAreaList()\\\">Save list</button>\\r\\n                <button id=\\\"btn-cancel\\\" class=\\\"btn btn-default\\\" (click)=\\\"cancel()\\\">Cancel</button>\\r\\n                <br />\\r\\n                <div id=\\\"error-details\\\" class=\\\"top-margin text-danger\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <hr>\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"isPracticeSearch()\\\">\\r\\n            <div class=\\\"col-md-12\\\" id=\\\"practice-search-map\\\">\\r\\n                <ft-practice-search-simple [IsMapUpdateRequired]=\\\"updateMap\\\" [areaTypeId]=\\\"areaTypeId\\\"\\r\\n                    [selectedAreaAddresses]=\\\"selectedAreaAddresses\\\" [searchMode]=\\\"searchMode\\\" #practiceSearch\\r\\n                    (emitSelectedPractices)=\\\"updateSelectedPractices($event)\\\" (emitShowPracticesAsList)=\\\"showPracticesAsList($event)\\\"></ft-practice-search-simple>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"area-list-details\\\" class=\\\"row\\\" *ngIf=\\\"isCreateAndAreaTypeSelected()\\\">\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n                <div *ngIf=\\\"isList()\\\">\\r\\n                    <h3>Select an area to add it to your list</h3>\\r\\n                </div>\\r\\n                <div id=\\\"area-list-table\\\" class=\\\"top-margin\\\" *ngIf=\\\"isList()\\\">\\r\\n                    <div class=\\\"top-margin\\\">\\r\\n                        Map is not available for\\r\\n                        <span [innerHtml]=\\\"areaTypeName\\\"></span>\\r\\n                    </div>\\r\\n                    <ft-arealist-areas [areaTypeId]=\\\"areaTypeId\\\" [selectedAreas]=\\\"selectedAreas\\\" (emitAreas)=\\\"updateAvailableAreas($event)\\\"\\r\\n                        (emitSelectedArea)=\\\"updateSelectedArea($event)\\\" (emitDeSelectedArea)=\\\"updateDeSelectedArea($event)\\\"\\r\\n                        (emitMouseOverArea)=\\\"updateMouseOverArea($event)\\\" (emitMouseOutArea)=\\\"updateMouseOutArea($event)\\\">\\r\\n                    </ft-arealist-areas>\\r\\n                </div>\\r\\n                <div id=\\\"area-list-map\\\" *ngIf=\\\"isMap()\\\">\\r\\n                    <h3>Select an area on the map to add it to your list</h3>\\r\\n                    <button class=\\\"btn btn-link clear-list-button\\\" (click)=\\\"showMapList()\\\">Show all areas as a list</button>\\r\\n                    <div id=\\\"map-container\\\" class=\\\"standard-width clearfix\\\">\\r\\n                        <div class=\\\"top-margin\\\" style=\\\"display: none\\\">\\r\\n                            <button id=\\\"toggleMapHeading\\\" class=\\\"btn btn-link clear-list-button\\\" (click)=\\\"toggleMap()\\\">\\r\\n                                Show all areas as list\\r\\n                            </button>\\r\\n                        </div>\\r\\n                        <ft-google-map-simple (mapInit)=\\\"onMapInit($event)\\\" [areaTypeId]=\\\"areaTypeId\\\" [areaCode]=\\\"areaCode\\\"\\r\\n                            [selectedAreas]=\\\"selectedAreas\\\" [availableAreas]=\\\"availableAreas\\\" [mapAreaCodes]=\\\"mapAreaCodes\\\"\\r\\n                            [mapPolygonSelected]=\\\"mapPolygonSelected\\\" [areaSearchText]=\\\"areaSearchText\\\"\\r\\n                            (selectedAreaChanged)=\\\"onSelectedAreaChanged($event)\\\">\\r\\n                        </ft-google-map-simple>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div id=\\\"area-list-list\\\" *ngIf=\\\"isMapList()\\\">\\r\\n                    <h3>Select an area to add it to your list</h3>\\r\\n                    <button class=\\\"btn btn-link clear-list-button\\\" (click)=\\\"showMap()\\\">Show all areas as a map</button>\\r\\n                    <ft-arealist-areas [areaTypeId]=\\\"areaTypeId\\\" [selectedAreas]=\\\"selectedAreas\\\" (emitAreas)=\\\"updateAvailableAreas($event)\\\"\\r\\n                        (emitSelectedArea)=\\\"updateSelectedArea($event)\\\" (emitDeSelectedArea)=\\\"updateDeSelectedArea($event)\\\"\\r\\n                        (emitMouseOverArea)=\\\"updateMouseOverArea($event)\\\" (emitMouseOutArea)=\\\"updateMouseOutArea($event)\\\">\\r\\n                    </ft-arealist-areas>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\" *ngIf=\\\"displaySelectedAreasSection\\\">\\r\\n                <h3>Search for an area</h3>\\r\\n                <div>\\r\\n                    <input type=\\\"text\\\" id=\\\"areaSearchText\\\" formControlName=\\\"areaSearchText\\\" class=\\\"form-control\\\"\\r\\n                        (keyup)=\\\"searchArea()\\\" [value]=\\\"areaSearchText\\\">\\r\\n                </div>\\r\\n                <div class=\\\"top-margin\\\">\\r\\n                    <span *ngIf=\\\"searchedAreas.length > 0\\\">\\r\\n                        Select area to add it to your list\\r\\n                    </span>\\r\\n                    <div class=\\\"top-margin\\\">\\r\\n                        <div *ngFor=\\\"let area of searchedAreas; let last=last\\\" #elem [attr.id]=\\\"area.Code\\\" class=\\\"searched-areas searched-areas-{{area.Code}}\\\"\\r\\n                            (mouseover)=\\\"mouseOverArea('searched-areas', area.Code)\\\" (mouseout)=\\\"mouseOutArea('searched-areas', area.Code)\\\"\\r\\n                            (click)=\\\"moveArea(area.Code)\\\">\\r\\n                            {{area.Name}} {{last ? decorateSearchedAreasAfterInitialLoad() : ''}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\" *ngIf=\\\"displaySelectedAreasSection\\\">\\r\\n                <h3>\\r\\n                    Areas in your list\\r\\n                    <br />\\r\\n                    <button class=\\\"btn btn-link clear-list-button\\\" (click)=\\\"clearList()\\\">Clear list</button>\\r\\n                </h3>\\r\\n                <div class=\\\"top-margin\\\">\\r\\n                    <span *ngIf=\\\"selectedAreas.length > 0\\\">\\r\\n                        Select an area below to remove it from your list\\r\\n                    </span>\\r\\n                    <div class=\\\"top-margin\\\">\\r\\n                        <div *ngFor=\\\"let area of selectedAreas; let last=last\\\" #elem [attr.id]=\\\"area.Code\\\" class=\\\"selected-areas selected-areas-{{area.Code}}\\\"\\r\\n                            (mouseover)=\\\"mouseOverArea('selected-areas', area.Code)\\\" (mouseout)=\\\"mouseOutArea('selected-areas', area.Code)\\\"\\r\\n                            (click)=\\\"moveAreaOut('selected-areas', area.Code)\\\">\\r\\n                            {{area.Name}} {{last ? decorateAvailableAreasAfterInitialLoad() : ''}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <ft-light-box [lightBoxConfig]=\\\"lightBoxConfig\\\" (emitLightBoxActionConfirmed)=\\\"updateLightBoxActionConfirmed($event)\\\"></ft-light-box>\\r\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/arealist/arealist-manage/arealist-manage.component.html\n// module id = ./src/app/arealist/arealist-manage/arealist-manage.component.html\n// module chunks = main","import { Component, ChangeDetectorRef } from '@angular/core';\r\nimport { FormControl, FormGroup, } from '@angular/forms';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport { AreaService } from '../../shared/service/api/area.service';\r\nimport { AreaListService } from '../../shared/service/api/arealist.service';\r\nimport { Observable } from '../../../../node_modules/rxjs';\r\nimport { Area, AreaType, AreaList, AreaAddress } from '../../typings/FT.d';\r\nimport { AreaTypeIds } from '../../shared/shared';\r\nimport { Practice } from '../../map/practice-search/practice-search';\r\nimport { LightBoxTypes, LightBoxConfig } from '../../shared/component/light-box/light-box.component';\r\n\r\n@Component({\r\n  selector: 'ft-arealist-manage',\r\n  templateUrl: './arealist-manage.component.html',\r\n  styleUrls: ['./arealist-manage.component.css'],\r\n  providers: [AreaListService]\r\n})\r\n\r\nexport class ArealistManageComponent {\r\n  // Initialise variables\r\n  userId: string;\r\n  areaListId: number;\r\n  publicId: string;\r\n  actionType: string;\r\n\r\n  practicesAsList: boolean;\r\n\r\n  isInitialised = false;\r\n  map: google.maps.Map;\r\n\r\n  areaTypeId: number;\r\n  resetAreaTypeId: number;\r\n  areaTypeName: string;\r\n  currentAreaCode: string;\r\n  areaCodeColour: Map<string, string> = new Map();\r\n  areaCodeColourValue: Map<string, MapColourData> = new Map();\r\n  refreshColour = 0;\r\n  isBoundaryNotSupported = false;\r\n  mapColourSelectedValue = 'benchmark';\r\n  updateMap: boolean;\r\n  searchMode: boolean;\r\n  searchModeNoDisplay: boolean;\r\n\r\n  selectedAreaList: Array<string> = new Array<string>();\r\n\r\n  create: boolean;\r\n\r\n  arealistForm: FormGroup;\r\n  areaSearchText: string;\r\n  areaListName: string;\r\n  public flag = true;\r\n\r\n  public datasource: Observable<any>;\r\n\r\n  areas: Area[] = [];\r\n  areaTypes: AreaType[] = [];\r\n  areaLists: AreaList[] = [];\r\n\r\n  availableAreas: Area[] = [];\r\n  searchedAreas: Area[] = [];\r\n  selectedAreas: Area[] = [];\r\n  availablePractices: Area[] = [];\r\n\r\n  areaList: AreaList;\r\n  areaCodes: string[] = [];\r\n  mapAreaCodes: string[] = [];\r\n  areaCode: string;\r\n  mapPolygonSelected: boolean;\r\n\r\n  selectedPractices: Practice[] = [];\r\n  selectedAreaAddresses: AreaAddress[] = [];\r\n\r\n  firstTimeLoad = true;\r\n  displayMap = true;\r\n  displaySelectedAreasSection = false;\r\n  parentUrl: string;\r\n\r\n  lightBoxConfig: LightBoxConfig;\r\n\r\n  constructor(private ftHelperService: FTHelperService, private areaService: AreaService,\r\n    private arealistService: AreaListService, private ref: ChangeDetectorRef) {\r\n    // Setup new form group and form controls\r\n    this.arealistForm = new FormGroup({\r\n      'arealist': new FormGroup({\r\n        'areaSearchText': new FormControl(null),\r\n        'areaTypeList': new FormControl(null),\r\n        'areaListName': new FormControl(null)\r\n      })\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.userId = document.getElementById('ft-arealist-manage').getAttribute('user-id');\r\n    this.publicId = document.getElementById('ft-arealist-manage').getAttribute('public-id');\r\n    this.actionType = document.getElementById('ft-arealist-manage').getAttribute('action-type');\r\n    this.areaSearchText = '';\r\n\r\n    this.resolveQueryStringParams();\r\n\r\n    if (this.actionType === 'create') {\r\n      this.create = true;\r\n      this.areaListName = '';\r\n    } else {\r\n      $('#spinner').show();\r\n      this.create = false;\r\n      this.arealistService.getAreaListByPublicId(this.publicId, this.userId)\r\n        .subscribe((areaListResult: any) => {\r\n          this.areaList = <AreaList>areaListResult;\r\n          this.areaListName = this.areaList.ListName;\r\n          this.areaTypeId = this.areaList.AreaTypeId;\r\n\r\n          this.areaService.getAreas(this.areaTypeId)\r\n            .subscribe((areaResult: any) => {\r\n              this.availableAreas = <Area[]>areaResult;\r\n              this.ignoreLegacyAreas();\r\n            });\r\n\r\n          this.areaList.AreaListAreaCodes.forEach(element => {\r\n            this.areaCodes.push(element.AreaCode);\r\n          });\r\n\r\n          if (this.areaTypeId === AreaTypeIds.Practice) {\r\n            this.LoadSelectedPractices();\r\n          } else {\r\n            this.loadSelectedAreas();\r\n          }\r\n        });\r\n\r\n      this.displaySelectedAreasSection = true;\r\n\r\n      this.ref.detectChanges();\r\n    }\r\n\r\n    this.loadAvailableAreaLists();\r\n    this.loadAreaTypes();\r\n  }\r\n\r\n  ignoreLegacyAreas() {\r\n    let areaCodesToIgnore: String[] = [];\r\n    areaCodesToIgnore.push('09');\r\n    areaCodesToIgnore.forEach(areaCode => {\r\n      let areaCodeIndex = this.availableAreas.findIndex(x => x.Code === areaCode);\r\n      this.availableAreas.splice(areaCodeIndex, 1);\r\n    });\r\n  }\r\n\r\n  loadAvailableAreaLists() {\r\n    this.arealistService.getAreaLists(this.userId)\r\n      .subscribe((result: any) => {\r\n        this.areaLists = <AreaList[]>result;\r\n      });\r\n  }\r\n\r\n  loadAreaTypes() {\r\n    this.areaService.getAreaTypes()\r\n      .subscribe((result: any) => {\r\n        this.areaTypes = <AreaType[]>result;\r\n        if (this.actionType === 'edit') {\r\n          const areaType = this.areaTypes.find(x => x.Id === this.areaTypeId);\r\n          if (areaType !== undefined && areaType !== null) {\r\n            this.areaTypeName = this.areaTypes.find(x => x.Id === this.areaTypeId).Short;\r\n          } else {\r\n            this.areaTypeName = '';\r\n          }\r\n        }\r\n        $('#spinner').hide();\r\n      });\r\n  }\r\n\r\n  loadAvailableAreas() {\r\n    this.areaService.getAreas(this.areaTypeId)\r\n      .subscribe((result: any) => {\r\n        this.availableAreas = <Area[]>result;\r\n        this.ignoreLegacyAreas();\r\n      });\r\n  }\r\n\r\n  loadSelectedAreas() {\r\n    this.arealistService.getAreasFromAreaListAreaCodes(this.areaCodes)\r\n      .subscribe((result: any) => {\r\n        const selectedAreas = <Area[]>result;\r\n        let tempSelectedAreas: Area[];\r\n\r\n        if (selectedAreas.length > 0) {\r\n          tempSelectedAreas = selectedAreas.slice(0);\r\n          tempSelectedAreas.sort((a, b) => {\r\n            if (a.Name < b.Name) {\r\n              return -1;\r\n            } else if (a.Name > b.Name) {\r\n              return 1;\r\n            } else {\r\n              return 0;\r\n            }\r\n          });\r\n        }\r\n\r\n        this.selectedAreas = tempSelectedAreas;\r\n      });\r\n  }\r\n\r\n  LoadSelectedPractices() {\r\n    this.arealistService.getAreasWithAddressFromAreaListAreaCodes(this.areaCodes)\r\n      .subscribe((result: any) => {\r\n        this.selectedAreaAddresses = <AreaAddress[]>result;\r\n      });\r\n  }\r\n\r\n  // Initialise the map\r\n  onMapInit(mapInfo: { map: google.maps.Map }) {\r\n    this.map = mapInfo.map;\r\n  }\r\n\r\n  // Capture the event emitted by google maps component when polygon (area) gets changed\r\n  onSelectedAreaChanged(eventDetail: { areaCode: string, add: boolean }) {\r\n    // Find the selected area from the list of available areas\r\n    const areaSelected = this.availableAreas.find(x => x.Code === eventDetail.areaCode);\r\n\r\n    // If area on the map is selected then add to the selected areas array\r\n    if (eventDetail.add) {\r\n      const areaToAdd = this.selectedAreas.find(x => x.Code === eventDetail.areaCode);\r\n      if (areaToAdd === undefined) {\r\n        this.selectedAreas.push(areaSelected);\r\n      }\r\n    } else {\r\n      // If the area already exists in the selected areas array, then remove it\r\n      const indexOfSelectedArea = this.selectedAreas.findIndex(x => x.Code === areaSelected.Code);\r\n      this.selectedAreas.splice(indexOfSelectedArea, 1);\r\n    }\r\n\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  changeAreaTypeList() {\r\n    const tempAreaTypeId: number = this.areaTypeId;\r\n    const tempAvailableAreas: Area[] = this.availableAreas;\r\n    this.areaTypeId = Number(this.arealistForm.get('arealist').get('areaTypeList').value);\r\n    if (this.selectedAreas.length > 0 || this.selectedPractices.length > 0) {\r\n      this.arealistForm.get('arealist').get('areaTypeList').setValue(tempAreaTypeId);\r\n      this.areaTypeId = tempAreaTypeId;\r\n      this.availableAreas = tempAvailableAreas;\r\n\r\n      // Show lightbox\r\n      this.showAreaTypes();\r\n\r\n    } else {\r\n      this.loadAvailableAreas();\r\n      if (this.areaTypeId !== -1) {\r\n        this.areaTypeName = this.areaTypes.find(x => x.Id === this.areaTypeId).Short;\r\n      }\r\n\r\n      this.displayMap = true;\r\n    }\r\n\r\n    this.displaySelectedAreasSection = true;\r\n  }\r\n\r\n  showAreaTypes() {\r\n    const config = new LightBoxConfig();\r\n    config.Type = LightBoxTypes.Ok;\r\n    config.Title = 'One area type per list';\r\n    config.Html = 'All the areas in a list must be from the same area type.<br />' +\r\n      'Please clear the list first if you need to use a different area type.';\r\n    config.Height = 200;\r\n    this.lightBoxConfig = config;\r\n  }\r\n\r\n  setDefaultOption() {\r\n    if (this.areaTypeId === undefined) {\r\n      if (this.firstTimeLoad) {\r\n        this.arealistForm.get('arealist').get('areaTypeList').setValue('-1');\r\n        this.areaTypeId = -1;\r\n        this.firstTimeLoad = false;\r\n      }\r\n    } else {\r\n      this.arealistForm.get('arealist').get('areaTypeList').setValue(this.areaTypeId);\r\n      this.loadAvailableAreas();\r\n      if (this.availableAreas.length > 0) {\r\n        this.displaySelectedAreasSection = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  updateAvailableAreas(areas) {\r\n    this.availableAreas = areas;\r\n  }\r\n\r\n  updateSelectedPractices(selectedPractices) {\r\n    this.selectedPractices = selectedPractices;\r\n  }\r\n\r\n  updateSelectedArea(selectedArea) {\r\n    this.moveArea(selectedArea.Code);\r\n  }\r\n\r\n  updateDeSelectedArea(deselectedArea) {\r\n    this.moveArea(deselectedArea.Code);\r\n  }\r\n\r\n  updateMouseOverArea(area) {\r\n    this.mouseOverArea('areas', area.Code);\r\n  }\r\n\r\n  updateMouseOutArea(area) {\r\n    this.mouseOutArea('areas', area.Code);\r\n  }\r\n\r\n  updateLightBoxActionConfirmed(actionConfirmed: boolean) {\r\n  }\r\n\r\n  showPracticesAsList() {\r\n    this.practicesAsList = true;\r\n  }\r\n\r\n  // Method to decide whether a map can be displayed\r\n  canAreaTypeBeDisplayedOnMap(): boolean {\r\n    if (this.areaTypeId === null || this.areaTypeId === -1) {\r\n      return false;\r\n    }\r\n\r\n    if (this.areaTypes === null || this.areaTypes.length === 0) {\r\n      return false;\r\n    }\r\n\r\n    return this.areaTypes.find(x => x.Id === this.areaTypeId).CanBeDisplayedOnMap;\r\n  }\r\n\r\n  // Method to decide whether to load the contents of the page during initial load\r\n  // The loading of the content is decided based on the url\r\n  isAnyData(): boolean {\r\n    const windowLocationHref = window.location.href.trim().toLowerCase();\r\n    if (windowLocationHref.indexOf('area-list') > 0 &&\r\n      (windowLocationHref.indexOf('create') > 0 ||\r\n        windowLocationHref.indexOf('edit') > 0)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isList(): boolean {\r\n    if (this.areaTypeId === null || this.areaTypeId === -1) {\r\n      return false;\r\n    }\r\n\r\n    if (!this.canAreaTypeBeDisplayedOnMap() && !this.isPracticeSearch()) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Method to decided whether the page contains a map\r\n  isMap(): boolean {\r\n    if (this.canAreaTypeBeDisplayedOnMap() && !this.isPracticeSearch() && this.displayMap) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isMapList(): boolean {\r\n    if (this.canAreaTypeBeDisplayedOnMap() && !this.isPracticeSearch() && !this.displayMap) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isPracticeSearch(): boolean {\r\n    if (this.areaTypeId !== undefined && this.areaTypeId === AreaTypeIds.Practice) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isCreate() {\r\n    if (this.actionType === 'create') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  showMap() {\r\n    this.displayMap = true;\r\n  }\r\n\r\n  showMapList() {\r\n    this.displayMap = false;\r\n  }\r\n\r\n  // Display the bottom section of the page only if at least one of the below condition satisfy\r\n  // 1) Edit area list functionality\r\n  // 2) Create area list functionality with area type selected\r\n  isCreateAndAreaTypeSelected() {\r\n    if (this.actionType === 'edit' && this.areaTypeId !== undefined && this.areaTypeId !== AreaTypeIds.Practice) {\r\n      return true;\r\n    } else if (this.actionType === 'create' && this.areaTypeId !== undefined && this.areaTypeId !== AreaTypeIds.Practice) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Method for auto-complete search\r\n  searchArea() {\r\n    // Read the characters typed by the user and convert it to lower case\r\n    this.areaSearchText = this.arealistForm.get('arealist').get('areaSearchText').value.toLowerCase();\r\n\r\n    // If the user has edited the area search text\r\n    if (this.areaSearchText !== undefined && this.areaSearchText !== null) {\r\n      // Clear the areas searches array\r\n      this.searchedAreas.length = 0;\r\n\r\n      // populate the areas searched array based on the user input\r\n      this.availableAreas.forEach(element => {\r\n        if (this.areaSearchText.length > 0 && element.Name.toLowerCase().indexOf(this.areaSearchText) > -1) {\r\n          this.searchedAreas.push(element);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  decorateSearchedAreasAfterInitialLoad() {\r\n    this.decorateAreas('.searched-areas-', this.searchedAreas);\r\n  }\r\n\r\n  decorateAvailableAreasAfterInitialLoad() {\r\n    this.decorateAreas('.areas-', this.selectedAreas);\r\n  }\r\n\r\n  decorateAreas(className: string, areas: Area[]) {\r\n    areas.forEach(element => {\r\n      const elementInSelectedAreas = this.selectedAreas.find(x => x.Code === element.Code);\r\n      if (elementInSelectedAreas !== null && elementInSelectedAreas !== undefined) {\r\n        $(className + element.Code).addClass('bg-info bg-primary text-white');\r\n      }\r\n    });\r\n  }\r\n\r\n  mouseOverArea(itemType, item) {\r\n    if (!$('.' + itemType + '-' + item).hasClass('bg-info')) {\r\n      $('.' + itemType + '-' + item).addClass('bg-primary text-white cursor-pointer');\r\n    }\r\n  }\r\n\r\n  mouseOutArea(itemType, item) {\r\n    if (!$('.' + itemType + '-' + item).hasClass('bg-info')) {\r\n      $('.' + itemType + '-' + item).removeClass('bg-primary text-white cursor-pointer');\r\n    }\r\n  }\r\n\r\n  moveArea(item) {\r\n    const areaInAvailableAreas = this.availableAreas.find(x => x.Code === item);\r\n    let areaInSearchedAreas: Area;\r\n    let areaInSelectedAreas: Area;\r\n    let areaSelected: Area;\r\n\r\n    this.areaCode = item;\r\n\r\n    if (this.searchedAreas !== undefined) {\r\n      areaInSearchedAreas = this.searchedAreas.find(x => x.Code === item);\r\n    }\r\n\r\n    if (this.selectedAreas !== undefined) {\r\n      areaInSelectedAreas = this.selectedAreas.find(x => x.Code === item);\r\n    }\r\n\r\n    if (areaInAvailableAreas !== undefined) {\r\n      areaSelected = areaInAvailableAreas;\r\n    } else if (areaInSearchedAreas !== undefined) {\r\n      areaSelected = areaInSearchedAreas;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n    if (areaSelected !== undefined && areaInSelectedAreas !== undefined && areaSelected.Code === areaInSelectedAreas.Code) {\r\n      const indexOfSelectedArea = this.selectedAreas.findIndex(x => x.Code === areaInSelectedAreas.Code);\r\n      this.selectedAreas.splice(indexOfSelectedArea, 1);\r\n\r\n      if (areaInAvailableAreas !== undefined) {\r\n        $('.areas-' + item).removeClass('bg-info bg-primary text-white');\r\n      }\r\n\r\n      if (areaInSearchedAreas !== undefined) {\r\n        $('.searched-areas-' + item).removeClass('bg-info bg-primary text-white');\r\n      }\r\n\r\n      if (this.isMap()) {\r\n        this.mapPolygonSelected = false;\r\n      }\r\n    } else {\r\n      this.selectedAreas.push(areaInAvailableAreas);\r\n\r\n      if (areaInAvailableAreas !== undefined) {\r\n        $('.areas-' + item).addClass('bg-info text-white');\r\n      }\r\n\r\n      if (areaInSearchedAreas !== undefined) {\r\n        $('.searched-areas-' + item).addClass('bg-info text-white');\r\n      }\r\n\r\n      if (this.isMap()) {\r\n        this.mapPolygonSelected = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  moveAreaOut(itemType, item) {\r\n    const areaInSelectedAreas = this.selectedAreas.find(x => x.Code === item);\r\n    const indexOfSelectedArea = this.selectedAreas.indexOf(areaInSelectedAreas);\r\n    this.selectedAreas.splice(indexOfSelectedArea, 1);\r\n\r\n    const areaInAvailableAreas = this.availableAreas.find(x => x.Code === item);\r\n    if (areaInAvailableAreas !== undefined) {\r\n      $('.areas-' + item).removeClass('bg-info bg-primary text-white');\r\n    }\r\n\r\n    const areaInSearchedAreas = this.searchedAreas.find(x => x.Code === item);\r\n    if (areaInSearchedAreas !== undefined) {\r\n      $('.searched-areas-' + item).removeClass('bg-info bg-primary text-white');\r\n    }\r\n\r\n    if (this.isMap()) {\r\n      this.mapPolygonSelected = false;\r\n      this.areaCode = item;\r\n      this.ref.detectChanges();\r\n    }\r\n  }\r\n\r\n  toggleMap() {\r\n    const $areaListTable = $('#area-list-table');\r\n    const $toggleMapHeading = $('#toggleMapHeading');\r\n\r\n    $areaListTable.toggle();\r\n    $('#area-list-map').toggle();\r\n\r\n    if ($areaListTable.is(':visible')) {\r\n      $toggleMapHeading.html('Show all areas as a map');\r\n    } else {\r\n      $toggleMapHeading.html('Show all areas as a list');\r\n    }\r\n  }\r\n\r\n  // Method to validate\r\n  validateSave() {\r\n    let isValid = true;\r\n\r\n    if (this.areaListName === null || this.areaListName === undefined || this.areaListName === '') {\r\n      this.areaListName = this.arealistForm.get('arealist').get('areaListName').value;\r\n    }\r\n\r\n    if (this.areaListName === null || this.areaListName.trim().length === 0) {\r\n      if (this.areaTypeId === null || this.areaTypeId === -1) {\r\n        $('#error-details').html('Please enter a valid list name, select an area type and add areas to the list');\r\n      } else {\r\n        $('#error-details').html('Please enter a valid list name');\r\n      }\r\n      isValid = false;\r\n    }\r\n\r\n    if (isValid && (this.areaTypeId !== AreaTypeIds.Practice && this.selectedAreas.length === 0)) {\r\n      if (this.areaTypeId === null || this.areaTypeId === -1) {\r\n        $('#error-details').html('Please select an area type and add areas to the list');\r\n      } else {\r\n        $('#error-details').html('Please add areas to the list');\r\n      }\r\n      isValid = false;\r\n    }\r\n\r\n    if (isValid && (this.areaTypeId === AreaTypeIds.Practice && this.selectedPractices.length === 0)) {\r\n      $('#error-details').html('Please add practices to the list');\r\n      isValid = false;\r\n    }\r\n\r\n    if (isValid && this.actionType === 'create') {\r\n      if (this.areaLists !== undefined && this.areaLists !== null) {\r\n        if (this.areaLists.find(x => x.ListName === this.areaListName) !== undefined) {\r\n          $('#error-details').html('The area list name you have entered is already in use.');\r\n          isValid = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  saveAreaList() {\r\n    this.areaListName = (<HTMLInputElement>document.getElementById(\"areaListName\")).value;\r\n\r\n    if (this.validateSave()) {\r\n\r\n      const areaCodeList = [];\r\n\r\n      if (this.areaTypeId === AreaTypeIds.Practice) {\r\n        this.selectedPractices.forEach(element => {\r\n          areaCodeList.push(element.areaCode);\r\n        });\r\n      } else {\r\n        this.selectedAreas.forEach(element => {\r\n          areaCodeList.push(element.Code);\r\n        });\r\n      }\r\n\r\n      if (this.actionType === 'create') {\r\n        const formData: FormData = new FormData();\r\n        formData.append('areaTypeId', this.areaTypeId.toString());\r\n        formData.append('areaListName', this.areaListName);\r\n        formData.append('areaCodeList', areaCodeList.toString());\r\n        formData.append('userId', this.userId);\r\n\r\n        this.arealistService.saveAreaList(formData)\r\n          .subscribe(\r\n            (response) => {\r\n              this.goToDataPage();\r\n            },\r\n            (error) => {\r\n              $('#error-details').html('Unable to save the area list');\r\n            }\r\n          );\r\n      } else {\r\n        const formData: FormData = new FormData();\r\n        formData.append('areaListId', this.areaList.Id.toString());\r\n        formData.append('areaListName', this.areaListName);\r\n        formData.append('areaCodeList', areaCodeList.toString());\r\n        formData.append('userId', this.userId);\r\n        formData.append('publicId', this.publicId);\r\n\r\n        this.arealistService.updateAreaList(formData)\r\n          .subscribe(\r\n            (response) => {\r\n              this.goToDataPage();\r\n            },\r\n            (error) => {\r\n              $('#error-details').html('Unable to update the area list');\r\n            }\r\n          );\r\n      }\r\n    }\r\n  }\r\n\r\n  goToDataPage() {\r\n    if (this.parentUrl === undefined) {\r\n      this.back();\r\n    } else {\r\n      window.location.href = this.parentUrl;\r\n    }\r\n  }\r\n\r\n  clearList() {\r\n    if (this.isMap()) {\r\n      this.selectedAreas.forEach(element => {\r\n        this.areaCode = element.Code;\r\n        this.mapPolygonSelected = false;\r\n        this.ref.detectChanges();\r\n      });\r\n    }\r\n\r\n    this.selectedAreas.length = 0;\r\n    this.searchedAreas.length = 0;\r\n\r\n    this.availableAreas.forEach(element => {\r\n      $('.areas-' + element.Code).removeClass('bg-info bg-primary text-white');\r\n    });\r\n\r\n    this.areaSearchText = '';\r\n  }\r\n\r\n  cancel() {\r\n    this.goToDataPage();\r\n  }\r\n\r\n  back() {\r\n    window.location.href = '/user-account/area-list';\r\n  }\r\n\r\n  resolveQueryStringParams() {\r\n    const url = window.location.href;\r\n    const urlParams = url.split('?')[1];\r\n\r\n    if (urlParams !== undefined) {\r\n\r\n      if (urlParams.split('&')[0].split('=')[0].toLowerCase() === 'list_id') {\r\n        this.publicId = urlParams.split('&')[0].split('=')[1];\r\n      }\r\n\r\n      if (urlParams.split('&')[0].split('=')[0].toLowerCase() === 'area-type-id') {\r\n        this.areaTypeId = Number(urlParams.split('&')[0].split('=')[1]);\r\n      }\r\n\r\n      if (urlParams.split('&')[1] !== undefined) {\r\n        this.parentUrl = urlParams.split('&')[1].split('=')[1];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nclass MapColourData {\r\n  quartile: number;\r\n  quintile: number;\r\n  orderFrac: number;\r\n  order: number;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/arealist/arealist-manage/arealist-manage.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpModule } from '@angular/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ArealistIndexComponent } from './arealist-index/arealist-index.component';\r\nimport { ArealistManageComponent } from './arealist-manage/arealist-manage.component';\r\nimport { GoogleMapSimpleComponent } from '../map/google-map-simple/google-map-simple.component';\r\nimport { ArealistAreasComponent } from '../shared/component/arealist/arealist-areas/arealist-areas.component';\r\nimport { PracticeSearchSimpleComponent } from '../map/practice-search-simple/practice-search-simple.component';\r\nimport { TypeaheadModule } from 'ngx-bootstrap';\r\nimport { LightBoxComponent } from '../shared/component/light-box/light-box.component';\r\nimport { LightBoxWithInputComponent } from 'app/shared/component/light-box-with-input/light-box-with-input.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        HttpModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        TypeaheadModule.forRoot()\r\n    ],\r\n    declarations: [\r\n        ArealistIndexComponent,\r\n        ArealistManageComponent,\r\n        GoogleMapSimpleComponent,\r\n        ArealistAreasComponent,\r\n        PracticeSearchSimpleComponent,\r\n        LightBoxComponent,\r\n        LightBoxWithInputComponent\r\n    ],\r\n    exports: [\r\n        ArealistIndexComponent,\r\n        ArealistManageComponent,\r\n        GoogleMapSimpleComponent,\r\n        ArealistAreasComponent,\r\n        LightBoxComponent,\r\n        LightBoxWithInputComponent\r\n    ]\r\n})\r\nexport class ArealistModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/arealist/arealist.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/boxplot/boxplot-chart/boxplot-chart.component.css\n// module id = ./src/app/boxplot/boxplot-chart/boxplot-chart.component.css\n// module chunks = main","module.exports = \"<div #chart id=\\\"boxplot-chart\\\"></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/boxplot/boxplot-chart/boxplot-chart.component.html\n// module id = ./src/app/boxplot/boxplot-chart/boxplot-chart.component.html\n// module chunks = main","import { Component, Input, OnChanges, SimpleChanges, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { BoxplotData } from '../boxplot';\r\n\r\nimport * as Highcharts from 'highcharts';\r\nrequire('highcharts/modules/exporting')(Highcharts);\r\nrequire('highcharts/highcharts-more')(Highcharts);\r\n\r\n@Component({\r\n  selector: 'ft-boxplot-chart',\r\n  templateUrl: './boxplot-chart.component.html',\r\n  styleUrls: ['./boxplot-chart.component.css']\r\n})\r\nexport class BoxplotChartComponent implements OnChanges, AfterViewInit {\r\n\r\n  @Input() boxplotData: BoxplotData;\r\n  @ViewChild('chart') public chartEl: ElementRef;\r\n  chart: Highcharts.ChartObject;\r\n\r\n  ngAfterViewInit() {\r\n    this.displayChart();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.displayChart();\r\n  }\r\n\r\n  private displayChart() {\r\n    if (this.isAnyData()) {\r\n      let chartContainer = null;\r\n      if (this.chartEl && this.chartEl.nativeElement) {\r\n        chartContainer = this.chartEl.nativeElement;\r\n        this.chart = new Highcharts.Chart(chartContainer, this.getChartOptions());\r\n      }\r\n    }\r\n  }\r\n\r\n  private getChartOptions(): Highcharts.Options {\r\n\r\n    let metadata = this.boxplotData.metadata;\r\n    let unitLabel = metadata.Unit.Label;\r\n\r\n    // Series\r\n    let seriesName = this.boxplotData.areaTypeName + ' in ' + this.boxplotData.comparatorName;\r\n    let series: any[] /*Highcharts.IndividualSeriesOptions[]*/ = [\r\n      {\r\n        name: seriesName,\r\n        data: this.getChartData()\r\n      }\r\n    ];\r\n\r\n    // So accessible from tooltip\r\n    let boxplotData = this.boxplotData;\r\n\r\n    return (\r\n      {\r\n        chart: {\r\n          type: 'boxplot',\r\n          width: 820,\r\n          animation: false\r\n        },\r\n\r\n        title: {\r\n          text: ''\r\n        },\r\n\r\n        legend: {\r\n          enabled: false\r\n        },\r\n\r\n        xAxis: {\r\n          categories: this.boxplotData.periods,\r\n          title: {\r\n            text: ''\r\n          }\r\n        },\r\n\r\n        yAxis: {\r\n          min: this.boxplotData.min,\r\n          title: {\r\n            text: unitLabel\r\n          }\r\n        },\r\n\r\n        plotOptions: {\r\n          boxplot: {\r\n            animation: false,\r\n            color: '#1e1e1e',\r\n            fillColor: '#cccccc',\r\n            medianColor: '#ff0000'\r\n          }\r\n        },\r\n\r\n        tooltip: {\r\n          followPointer: false,\r\n          formatter: function () {\r\n\r\n            let period = this.x;\r\n            let index = boxplotData.periods.indexOf(period);\r\n            let stats = boxplotData.statsFormatted[index];\r\n\r\n            let tooltipContent = [\r\n              '<b>', period, '</b><br/>',\r\n              '<b>', seriesName, '</b><br/>',\r\n              '95th Percentile: ', stats.P95, '<br/>',\r\n              '75th Percentile: ', stats.P75, '<br/>',\r\n              'Median: ', stats.Median, '<br/>',\r\n              '25th Percentile: ', stats.P25, '<br/>',\r\n              '5th Percentile: ', stats.P5, '<br/>'\r\n            ];\r\n\r\n            return tooltipContent.join('');\r\n          }\r\n        },\r\n\r\n        series: series\r\n      });\r\n  }\r\n\r\n  private getChartData(): number[][] {\r\n\r\n    let chartDataGrid: number[][] = [];\r\n\r\n    for (let stats of this.boxplotData.stats) {\r\n\r\n      let pointData: number[] = [];\r\n      pointData[0] = this.getValue(stats.P5);\r\n      pointData[1] = this.getValue(stats.P25);\r\n      pointData[2] = this.getValue(stats.Median);\r\n      pointData[3] = this.getValue(stats.P75);\r\n      pointData[4] = this.getValue(stats.P95);\r\n      chartDataGrid.push(pointData);\r\n    }\r\n    return chartDataGrid;\r\n  }\r\n\r\n  private getValue(i: number): number {\r\n    return i == null ? 0 : i;\r\n  }\r\n\r\n  private isAnyData(): boolean {\r\n    return this.boxplotData && this.boxplotData.isAnyData();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/boxplot/boxplot-chart/boxplot-chart.component.ts","module.exports = \".boxplot-table {\\r\\n    margin: 30px auto;\\r\\n}\\r\\n\\r\\n.boxplot-table table {\\r\\n    font-size: 13px;\\r\\n    min-width: 35% !important;\\r\\n    width: auto;\\r\\n    table-layout: auto !important;\\r\\n    border-width: 0 !important;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.boxplot-table th {\\r\\n    font-size: 11px;\\r\\n    text-align: right;\\r\\n    background-color: #f9f9f9;\\r\\n    border-bottom: 1px solid #eceeef;\\r\\n}\\r\\n\\r\\n.boxplot-table tr th:first-child {\\r\\n    min-width: 39px;\\r\\n}\\r\\n\\r\\n.boxplot-table tr td:first-child {\\r\\n    font-size: 11px;\\r\\n    font-style: normal;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/boxplot/boxplot-table/boxplot-table.component.css\n// module id = ./src/app/boxplot/boxplot-table/boxplot-table.component.css\n// module chunks = main","module.exports = \"<div class=\\\"boxplot-table\\\">\\r\\n    <table *ngIf=\\\"boxplotData\\\" class=\\\"bordered-table table-hover table \\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th></th>\\r\\n                <th *ngFor=\\\"let period of boxplotData.periods \\\">\\r\\n                    {{period}}\\r\\n                </th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr>\\r\\n                <td>Minimum</td>\\r\\n                <td *ngFor=\\\"let stats of boxplotData.statsFormatted \\\" class=\\\"numeric \\\">{{stats.Min}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td>5th Percentile</td>\\r\\n                <td *ngFor=\\\"let stats of boxplotData.statsFormatted \\\" class=\\\"numeric \\\">{{stats.P5}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td>25th Percentile</td>\\r\\n                <td *ngFor=\\\"let stats of boxplotData.statsFormatted \\\" class=\\\"numeric \\\">{{stats.P25}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td>Median</td>\\r\\n                <td *ngFor=\\\"let stats of boxplotData.statsFormatted \\\" class=\\\"numeric \\\">{{stats.Median}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td>75th Percentile</td>\\r\\n                <td *ngFor=\\\"let stats of boxplotData.statsFormatted \\\" class=\\\"numeric \\\">{{stats.P75}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td>95th Percentile</td>\\r\\n                <td *ngFor=\\\"let stats of boxplotData.statsFormatted \\\" class=\\\"numeric \\\">{{stats.P95}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td>Maximum</td>\\r\\n                <td *ngFor=\\\"let stats of boxplotData.statsFormatted \\\" class=\\\"numeric \\\">{{stats.Max}}</td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/boxplot/boxplot-table/boxplot-table.component.html\n// module id = ./src/app/boxplot/boxplot-table/boxplot-table.component.html\n// module chunks = main","import { Component, Input } from '@angular/core';\r\nimport { BoxplotData } from '../boxplot';\r\n\r\n@Component({\r\n  selector: 'ft-boxplot-table',\r\n  templateUrl: './boxplot-table.component.html',\r\n  styleUrls: ['./boxplot-table.component.css']\r\n})\r\nexport class BoxplotTableComponent {\r\n\r\n  @Input() boxplotData: BoxplotData;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/boxplot/boxplot-table/boxplot-table.component.ts","module.exports = \"#boxplot-legend-img {\\r\\n    width: 143px;\\r\\n    height: 296px;\\r\\n    text-decoration: none;\\r\\n    border: 1px solid lightgrey;\\r\\n    float: right;\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n#boxplot-not-available {\\r\\n    width:100%; \\r\\n    height:400px;\\r\\n    padding-top:190px; \\r\\n    text-align:center;\\r\\n    font-size:17px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/boxplot/boxplot.component.css\n// module id = ./src/app/boxplot/boxplot.component.css\n// module chunks = main","module.exports = \"<div id=\\\"boxplot-container\\\" style=\\\"display:none;\\\">\\r\\n    <!-- <div class=\\\"export-chart-box\\\" style=\\\"display:block;\\\">\\r\\n            <a class=\\\"export-link\\\" (click)=\\\"onExportClick($event)\\\"\\r\\n                >Export chart as image</a>\\r\\n        </div> -->\\r\\n    <div id=\\\"indicator-details-boxplot-data\\\" class=\\\"standard-width\\\" [hidden]=\\\"!isAvailable\\\">\\r\\n        <ft-indicator-header [header]=\\\"header\\\"></ft-indicator-header>\\r\\n        <div id=\\\"boxplot-legend-img\\\" *ngIf=\\\"isAnyData()\\\"></div>\\r\\n\\r\\n        <ft-boxplot-chart *ngIf=\\\"isAnyData()\\\" [boxplotData]=\\\"boxplotData\\\"></ft-boxplot-chart>\\r\\n\\r\\n        <ft-boxplot-table *ngIf=\\\"isAnyData()\\\" [boxplotData]=\\\"boxplotData\\\"></ft-boxplot-table>\\r\\n        <div id=\\\"boxplot-no-data\\\" class=\\\"no-indicator-data\\\" *ngIf=\\\"!isAnyData()\\\">No Data</div>\\r\\n    </div>\\r\\n    <div [hidden]=\\\"isAvailable\\\" id=\\\"boxplot-not-available\\\" class=\\\"standard-width\\\">\\r\\n       Not applicable for England data\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/boxplot/boxplot.component.html\n// module id = ./src/app/boxplot/boxplot.component.html\n// module chunks = main","import { Component, HostListener } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n  FTModel, FTRoot, GroupRoot, IndicatorMetadata, IndicatorStatsPercentilesFormatted,\r\n  IndicatorStats, TooltipManager, IndicatorStatsPercentiles\r\n} from '../typings/FT.d';\r\nimport { BoxplotData } from './boxplot';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport { IndicatorService } from '../shared/service/api/indicator.service';\r\nimport { IndicatorHeader } from '../shared/component/indicator-header/indicator-header.component';\r\nimport { AreaTypeIds } from 'app/shared/shared';\r\n\r\n@Component({\r\n  selector: 'ft-boxplot',\r\n  templateUrl: './boxplot.component.html',\r\n  styleUrls: ['./boxplot.component.css']\r\n})\r\nexport class BoxplotComponent {\r\n\r\n  public header: IndicatorHeader;\r\n  public boxplotData: BoxplotData;\r\n  public isAvailable = true;\r\n\r\n  constructor(private ftHelperService: FTHelperService, private indicatorService: IndicatorService) { }\r\n\r\n  @HostListener('window:BoxplotSelected', ['$event'])\r\n  public onOutsideEvent(event): void {\r\n\r\n    let ftHelper = this.ftHelperService;\r\n\r\n    let groupRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n    let model = ftHelper.getFTModel();\r\n\r\n    this.isAvailable = model.areaTypeId !== AreaTypeIds.Country;\r\n\r\n    // Get data\r\n    let metadataObservable = this.indicatorService.getIndicatorMetadata(model.groupId);\r\n    let statsObservable = this.indicatorService.getIndicatorStatisticsTrendsForSingleIndicator(\r\n      groupRoot.IID, groupRoot.Sex.Id, groupRoot.Age.Id, model.areaTypeId,\r\n      this.ftHelperService.getCurrentComparator().Code);\r\n\r\n    Observable.forkJoin([metadataObservable, statsObservable]).subscribe(results => {\r\n      let metadataHash: Map<number, IndicatorMetadata> = results[0];\r\n      let statsArray: IndicatorStats[] = results[1];\r\n\r\n      this.displayBoxplot(metadataHash[groupRoot.IID], groupRoot, statsArray);\r\n\r\n      this.ftHelperService.showAndHidePageElements();\r\n      this.ftHelperService.unlock();\r\n    });\r\n  }\r\n\r\n  displayBoxplot(metadata: IndicatorMetadata, groupRoot: GroupRoot, statsArray: IndicatorStats[]) {\r\n\r\n    // Define header\r\n    this.displayHeader(metadata, groupRoot);\r\n\r\n    // Define data\r\n    let data = new BoxplotData(metadata, this.ftHelperService.getAreaTypeName(),\r\n      this.ftHelperService.getCurrentComparator().Name);\r\n    for (let i = 0; i < statsArray.length; i++) {\r\n      let indicatorStats = statsArray[i];\r\n      if (indicatorStats.Stats) {\r\n        data.addStats(indicatorStats);\r\n      }\r\n    }\r\n    this.boxplotData = data;\r\n  }\r\n\r\n  displayHeader(metadata: IndicatorMetadata, groupRoot: GroupRoot): void {\r\n    let unitLabel = metadata.Unit.Label;\r\n    if (unitLabel !== '') {\r\n      unitLabel = ' - ' + unitLabel;\r\n    }\r\n\r\n    let hasDataChangedRecently = groupRoot.DateChanges && groupRoot.DateChanges.HasDataChangedRecently;\r\n\r\n    this.header = new IndicatorHeader(metadata.Descriptive['Name'], hasDataChangedRecently,\r\n      this.ftHelperService.getCurrentComparator().Name,\r\n      metadata.ValueType.Name, unitLabel, this.ftHelperService.getSexAndAgeLabel(groupRoot));\r\n  }\r\n\r\n  public isAnyData(): boolean {\r\n    return this.boxplotData && this.boxplotData.isAnyData();\r\n  }\r\n\r\n  onExportClick(event: MouseEvent) {\r\n    event.preventDefault();\r\n    let boxplotTable = $('.boxplot-table').hide();\r\n    let chart = $('#indicator-details-boxplot-data');\r\n    $('.highcharts-credits,.highcharts-contextbutton').hide();\r\n    this.ftHelperService.saveElementAsImage(chart, 'boxplot');\r\n    $(boxplotTable).show();\r\n    this.ftHelperService.logEvent('ExportImage', 'Boxplot');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/boxplot/boxplot.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { BoxplotComponent } from './boxplot.component';\r\nimport { BoxplotChartComponent } from './boxplot-chart/boxplot-chart.component';\r\nimport { BoxplotTableComponent } from './boxplot-table/boxplot-table.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule\r\n    ],\r\n    declarations: [\r\n        BoxplotComponent,\r\n        BoxplotChartComponent,\r\n        BoxplotTableComponent\r\n    ],\r\n    exports: [\r\n        BoxplotComponent\r\n    ]\r\n})\r\nexport class BoxplotModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/boxplot/boxplot.module.ts","import {\r\n  IndicatorMetadata, IndicatorStatsPercentilesFormatted,\r\n  IndicatorStats, IndicatorStatsPercentiles\r\n} from '../typings/FT.d';\r\n\r\nexport class BoxplotData {\r\n\r\n  stats: IndicatorStatsPercentiles[] = []\r\n  statsFormatted: IndicatorStatsPercentilesFormatted[] = [];\r\n  periods: string[] = [];\r\n  min: number = null;\r\n\r\n  constructor(public metadata: IndicatorMetadata, public areaTypeName: string,\r\n    public comparatorName: string) { }\r\n\r\n  addStats(indicatorStats: IndicatorStats): void {\r\n\r\n    // Chart data\r\n    this.stats.push(indicatorStats.Stats);\r\n\r\n    // Table data\r\n    this.statsFormatted.push(indicatorStats.StatsF);\r\n\r\n    // Time periods\r\n    this.periods.push(indicatorStats.Period);\r\n\r\n    // Set min limit if zero to prevent Y axis starting at negative number\r\n    if (indicatorStats.Limits.Min === 0) {\r\n      this.min = indicatorStats.Limits.Min;\r\n    }\r\n  }\r\n\r\n  isAnyData(): boolean {\r\n    return this.periods.length > 0;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/boxplot/boxplot.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/data-view/data-view.component.css\n// module id = ./src/app/data-view/data-view.component.css\n// module chunks = main","module.exports = \"<ft-map></ft-map>\\r\\n<ft-england></ft-england>\\r\\n<ft-metadata></ft-metadata>\\r\\n<ft-population></ft-population>\\r\\n<ft-boxplot></ft-boxplot>\\r\\n<ft-download></ft-download>\\r\\n<ft-reports></ft-reports>\\r\\n<ft-area-profile></ft-area-profile>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/data-view/data-view.component.html\n// module id = ./src/app/data-view/data-view.component.html\n// module chunks = main","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ft-data-view',\r\n  templateUrl: './data-view.component.html',\r\n  styleUrls: ['./data-view.component.css']\r\n})\r\n\r\n/** Components for viewing data in Fingertips */\r\nexport class DataViewComponent {\r\n\r\n  constructor() { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/data-view/data-view.component.ts","module.exports = \"h2 {\\r\\n    padding: 0;\\r\\n    color: #555;\\r\\n    padding-bottom: 0 !important;\\r\\n}\\r\\n\\r\\n.btn-link {\\r\\n    color: #2e3191;\\r\\n    padding: 0;\\r\\n    width: 100%;\\r\\n    text-align: left;\\r\\n    margin: 1px 0;\\r\\n}\\r\\n\\r\\nh2.secondary-heading {\\r\\n    margin-top: 30px;\\r\\n}\\r\\n\\r\\nh3 {\\r\\n    margin: 20px 0 0 0;\\r\\n    }\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/download/download-data/download-data.component.css\n// module id = ./src/app/download/download-data/download-data.component.css\n// module chunks = main","module.exports = \"<h2>Get the data</h2>\\r\\n<p>Download indicator data and definitions</p>\\r\\n\\r\\n<!-- Download data for profile -->\\r\\n<div [hidden]=\\\"!showProfile\\\">\\r\\n    <h3 [innerHtml]=\\\"'Profile: ' + profileName\\\"> </h3>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportProfileData(nationalCode)\\\">{{allLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportProfileData(parentCode)\\\" [hidden]=\\\"!showSubnational\\\">\\r\\n          {{parentLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportProfileMetadata()\\\">Indicator definitions</button>\\r\\n</div>\\r\\n\\r\\n<!-- Download data for domain -->\\r\\n<div [hidden]=\\\"!showGroup\\\">\\r\\n    <h3 [innerHtml]=\\\"'Domain: ' + groupName\\\"></h3>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportGroupData(nationalCode)\\\">{{allLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportGroupData(parentCode)\\\" [hidden]=\\\"!showSubnational\\\">{{parentLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportGroupMetadata()\\\">Indicator definitions</button>\\r\\n</div>\\r\\n\\r\\n<!-- Download data for search results / list of indicators -->\\r\\n<div [hidden]=\\\"!showAllIndicators\\\">\\r\\n    <h3>All indicators</h3>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportAllIndicatorData(nationalCode)\\\">{{allLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportAllIndicatorData(parentCode)\\\" [hidden]=\\\"!showSubnational\\\">{{parentLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportAllIndicatorMetadata()\\\">Indicator definitions</button>\\r\\n</div>\\r\\n\\r\\n<!-- Download data for single indicator -->\\r\\n<h3 [innerHtml]=\\\"'Indicator: ' + indicatorName\\\"></h3>\\r\\n<button class=\\\"btn btn-link\\\" (click)=\\\"exportIndicatorData(nationalCode)\\\">{{allLabel}}</button>\\r\\n<button class=\\\"btn btn-link\\\" (click)=\\\"exportIndicatorData(parentCode)\\\" [hidden]=\\\"!showSubnational\\\">{{parentLabel}}</button>\\r\\n<button class=\\\"btn btn-link\\\" (click)=\\\"exportIndicatorMetadata()\\\">Indicator definition</button>\\r\\n\\r\\n<!-- Download data for practice addresses -->\\r\\n<div [hidden]=\\\"!showAddresses\\\">\\r\\n    <h3>GP practice addresses</h3>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportAddresses(nationalCode)\\\">{{allLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportAddresses(parentCode)\\\" [hidden]=\\\"!showSubnational\\\">{{parentLabel}}</button>\\r\\n</div>\\r\\n\\r\\n<!-- Download data for populations -->\\r\\n<div [hidden]=\\\"!showPopulation\\\">\\r\\n    <h3>Population age distribution</h3>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportPopulation(nationalCode)\\\">{{allLabel}}</button>\\r\\n    <button class=\\\"btn btn-link\\\" (click)=\\\"exportPopulation(parentCode)\\\" [hidden]=\\\"!showSubnational\\\">{{parentLabel}}</button>\\r\\n</div>\\r\\n\\r\\n<p *ngIf=\\\"isEnvironmentTest\\\">Data files for many profiles are pre-built every night so any data that has been uploaded or changed today will not be included.\\r\\n    <br>\\r\\n    <br> Downloaded data is only available if your machine is on the PHE network.\\r\\n</p>\\r\\n\\r\\n<h2 class=\\\"secondary-heading\\\">Get the data with R</h2>\\r\\n<p>The <a style=\\\"display:inline;\\\" href=\\\"https://cran.r-project.org/web/packages/fingertipsR/index.html\\\" target=\\\"_blank\\\">fingertipsR</a> package allows you to download public health data using R</p>\\r\\n\\r\\n<h2 class=\\\"secondary-heading\\\">Public Health Data API</h2>\\r\\n<p>The <a style=\\\"display:inline;\\\" href=\\\"{{apiUrl}}\\\" target=\\\"_blank\\\">Fingertips API</a> (Chrome or Firefox only) allows public health data to be retrieved in either JSON or CSV formats</p>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/download/download-data/download-data.component.html\n// module id = ./src/app/download/download-data/download-data.component.html\n// module chunks = main","import { Component } from '@angular/core';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport {\r\n  AreaTypeIds, ProfileIds, AreaCodes, ParameterBuilder, GroupIds\r\n} from '../../shared/shared';\r\nimport { FTModel, GroupRoot, FTIndicatorSearch, FTUrls } from '../../typings/FT';\r\n\r\n@Component({\r\n  selector: 'ft-download-data',\r\n  templateUrl: './download-data.component.html',\r\n  styleUrls: ['./download-data.component.css']\r\n})\r\nexport class DownloadDataComponent {\r\n\r\n  // Display toggle flags\r\n  public showProfile = false;\r\n  public showGroup = false;\r\n  public showAllIndicators = false;\r\n  public showSubnational = false;\r\n  public showAddresses = false;\r\n  public showPopulation = false;\r\n  public isEnvironmentTest = false;\r\n\r\n  // Text\r\n  public profileName = '';\r\n  public groupName = '';\r\n  public indicatorName = '';\r\n  public allLabel = '';\r\n  public parentLabel = '';\r\n  public apiUrl = '';\r\n\r\n  // Area codes\r\n  public parentCode = '';\r\n  public nationalCode = '';\r\n\r\n  // Fingertips info\r\n  private model: FTModel;\r\n  private groupRoot: GroupRoot;\r\n  private search: FTIndicatorSearch;\r\n  private urls: FTUrls;\r\n\r\n  constructor(private ftHelperService: FTHelperService) { }\r\n\r\n  public refresh() {\r\n\r\n    // Set instance level variables\r\n    this.model = this.ftHelperService.getFTModel();\r\n    this.groupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n    this.search = this.ftHelperService.getSearch();\r\n    this.urls = this.ftHelperService.getURL();\r\n\r\n    const config = this.ftHelperService.getFTConfig();\r\n\r\n    const isNearestNeighbours = this.ftHelperService.isNearestNeighbours(this.model);\r\n    this.profileName = config.profileName;\r\n    this.groupName = this.ftHelperService.getCurrentDomainName();\r\n\r\n    this.showSubnational = !this.ftHelperService.isParentCountry(this.model) &&\r\n      this.model.areaTypeId !== AreaTypeIds.Country &&\r\n      !isNearestNeighbours;\r\n\r\n    this.showAllIndicators = this.search.isInSearchMode();\r\n    this.showProfile = !this.showAllIndicators;\r\n    this.showGroup = this.groupName !== null &&\r\n      this.groupName !== '' && this.showProfile;\r\n\r\n    const areaTypeName = this.ftHelperService.getAreaTypeName();\r\n\r\n    let isEnglandAreaType = areaTypeName === 'England';\r\n\r\n    let dataLabel = 'Data for ' + areaTypeName;\r\n    if (!isEnglandAreaType){\r\n      dataLabel.concat(' in England');\r\n    }\r\n\r\n    this.allLabel = dataLabel;\r\n\r\n    this.nationalCode = AreaCodes.England;\r\n    this.parentCode = this.model.parentCode;\r\n\r\n    this.parentLabel = '';\r\n\r\n    if(!isEnglandAreaType){\r\n      this.parentLabel = isNearestNeighbours ? ''\r\n      : 'Data for ' + areaTypeName + ' in ' + this.ftHelperService.getParentArea().Name;\r\n    } \r\n\r\n    // Indicator name\r\n    this.indicatorName = this.ftHelperService.getMetadataHash()[this.groupRoot.IID].Descriptive.Name;\r\n\r\n    if (this.model.profileId === ProfileIds.PracticeProfile) {\r\n      // Too much data to download for all of practice profiles\r\n      this.showProfile = false;\r\n      this.showPopulation = true;\r\n    } else {\r\n      this.showPopulation = false;\r\n    }\r\n\r\n    this.isEnvironmentTest = config.environment === 'test';\r\n\r\n    this.showAddresses = this.model.areaTypeId === AreaTypeIds.Practice;\r\n\r\n    this.setApiUrl();\r\n  }\r\n\r\n  setApiUrl() {\r\n    if (this.apiUrl === '') {\r\n      this.apiUrl = this.urls.bridge + 'api';\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Export all indicator metadata for specific profile.\r\n  */\r\n  exportProfileMetadata = function () {\r\n    let parameters = new ParameterBuilder();\r\n    this.addProfileIdParameter(parameters);\r\n    this.downloadCsvMetadata('by_profile_id', parameters);\r\n    this.logEvent('MetadataForProfile', parameters.build());\r\n  }\r\n\r\n  /**\r\n  * Export indicator metadata for profile group\r\n  */\r\n  exportGroupMetadata = function () {\r\n    let parameters = new ParameterBuilder(\r\n    ).add('group_id', this.model.groupId);\r\n    this.downloadCsvMetadata('by_group_id', parameters);\r\n    this.logEvent('MetadataForDomain', parameters.build());\r\n  }\r\n\r\n  /**\r\n  * Export all indicator metadata for search results.\r\n  */\r\n  exportAllIndicatorMetadata = function () {\r\n    let parameters = new ParameterBuilder();\r\n    parameters.add('indicator_ids', this.getIndicatorIdsParameter());\r\n    this.addProfileIdParameter(parameters);\r\n    this.downloadCsvMetadata('by_indicator_id', parameters);\r\n    this.logEvent('MetadataForAllSearchIndicators', parameters.build());\r\n  }\r\n\r\n  /**\r\n  * Export indicator metadata for single indicator.\r\n  */\r\n  exportIndicatorMetadata = function () {\r\n    let parameters = new ParameterBuilder();\r\n    parameters.add('indicator_ids', this.groupRoot.IID);\r\n    this.addProfileIdParameter(parameters);\r\n    this.downloadCsvMetadata('by_indicator_id', parameters);\r\n    this.logEvent('MetadataForSearchIndicator', parameters.build());\r\n  }\r\n\r\n  /**\r\n  * Export all indicator data for specific profile.\r\n  */\r\n  exportProfileData = function (parentCode) {\r\n    let parameters = this.getExportParameters(parentCode);\r\n    this.addProfileIdParameter(parameters);\r\n    this.downloadCsvData('by_profile_id', parameters);\r\n    this.logEvent('DataForProfile', parameters.build());\r\n  }\r\n\r\n  /**\r\n  * Export indicator data for profile group\r\n  */\r\n  exportGroupData = function (parentAreaCode) {\r\n    let parameters = this.getExportParameters(parentAreaCode);\r\n    parameters.add('group_id', this.model.groupId);\r\n    this.downloadCsvData('by_group_id', parameters);\r\n    this.logEvent('DataForGroup', parameters.build());\r\n  }\r\n\r\n  /**\r\n  * Export all indicator data for search results.\r\n  */\r\n  exportAllIndicatorData(parentAreaCode) {\r\n    const parameters = this.getExportParameters(parentAreaCode);\r\n    parameters.add('indicator_ids', this.search.getIndicatorIdsParameter());\r\n    this.addProfileIdParameter(parameters);\r\n    this.downloadCsvData('by_indicator_id', parameters);\r\n    this.logEvent('DataForAllSearchIndicators', parameters.build());\r\n  }\r\n  /**\r\n  * Export indicator data for single indicator.\r\n  */\r\n  exportIndicatorData(parentAreaCode) {\r\n    const parameters = this.getExportParameters(parentAreaCode);\r\n    this.addProfileIdParameter(parameters);\r\n    parameters.add('indicator_ids', this.groupRoot.IID);\r\n    this.downloadCsvData('by_indicator_id', parameters);\r\n    this.logEvent('DataForIndicator', parameters.build());\r\n  }\r\n\r\n  exportPopulation = function (parentAreaCode) {\r\n    let parameters = new ParameterBuilder()\r\n      .add('are', parentAreaCode)\r\n      .add('gid', GroupIds.PracticeProfiles_Population)\r\n      .add('ati', this.model.parentTypeId).build();\r\n\r\n    const url = this.urls.corews + 'GetData.ashx?s=db&pro=qp&' + parameters;\r\n    this.openFile(url);\r\n    this.logEvent('Population', parameters);\r\n  }\r\n\r\n  exportAddresses = function (parentAreaCode) {\r\n    let parameters = new ParameterBuilder()\r\n      .add('parent_area_code', parentAreaCode)\r\n      .add('area_type_id', this.model.areaTypeId).build();\r\n    let url = this.urls.corews + 'api/area_addresses/csv/by_parent_area_code?' + parameters;\r\n    this.openFile(url);\r\n    this.logEvent('Addresses', parameters);\r\n  }\r\n\r\n  logEvent(action: string, parameters: string) {\r\n    this.ftHelperService.logEvent('Download', action, parameters);\r\n  }\r\n\r\n  addProfileIdParameter(parameters) {\r\n    const search = this.ftHelperService.getSearch();\r\n    if (!search.isInSearchMode()) {\r\n      parameters.add('profile_id', this.model.profileId);\r\n    }\r\n  }\r\n\r\n  downloadCsvData(byTerm: string, parameters: ParameterBuilder) {\r\n    const url = this.urls.corews + 'api/all_data/csv/' + byTerm + '?' + parameters.build();\r\n    this.openFile(url);\r\n  }\r\n\r\n  downloadCsvMetadata(byTerm: string, parameters: ParameterBuilder) {\r\n    const url = this.urls.corews + 'api/indicator_metadata/csv/' + byTerm + '?' + parameters.build();\r\n    this.openFile(url);\r\n  }\r\n\r\n  getExportParameters(parentAreaCode) {\r\n    let model = this.model;\r\n    let parameters = new ParameterBuilder()\r\n      .add('parent_area_code', parentAreaCode)\r\n      .add('parent_area_type_id', model.parentTypeId)\r\n      .add('child_area_type_id', model.areaTypeId);\r\n    return parameters;\r\n  }\r\n\r\n  openFile(url: string) {\r\n    window.open(url.toLowerCase(), '_blank');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/download/download-data/download-data.component.ts","module.exports = \".btn-link {\\r\\n    color: #2e3191;\\r\\n    padding: 3px 0 0 0;\\r\\n    width: 100%;\\r\\n    text-align: left;\\r\\n    margin: 1px 0;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n img.pdf {\\r\\n    cursor: pointer;\\r\\n    height: 300px;\\r\\n    border: 2px solid #eee;\\r\\n    float: right;\\r\\n    }\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/download/download-report/download-report.component.css\n// module id = ./src/app/download/download-report/download-report.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"areAnyPdfsForProfile\\\" class=\\\"row col-md-12\\\">\\r\\n    <div id=\\\"pdf-download-text\\\" class=\\\"text col-md-6\\\">\\r\\n        <h2>{{title}}</h2>\\r\\n\\r\\n        <div *ngIf=\\\"arePdfsForCurrentAreaType\\\">\\r\\n            <p>Download a detailed report of the data for</p>\\r\\n\\r\\n            <p *ngIf=\\\"showTimePeriodsMenu\\\">\\r\\n                {{reportsLabel}}\\r\\n                <select (change)=\\\"timePeriodChange($event.target.value)\\\">\\r\\n                    <option *ngFor=\\\"let period of timePeriods\\\">{{period}}</option>\\r\\n                </select>\\r\\n            </p>\\r\\n\\r\\n            <button class=\\\"bnt btn-link pdf\\\" (click)=\\\"exportPdf()\\\">{{areaName}}</button>\\r\\n        </div>\\r\\n\\r\\n        <p [hidden]=\\\"arePdfsForCurrentAreaType\\\">PDF profiles are not currently available for {{noPdfsMessage}}</p>\\r\\n\\r\\n        <br>\\r\\n        <p *ngIf=\\\"showMentalHealthSurvey\\\">Please note the PDF reports are not updated with the profile. Consequently,\\r\\n            many of the indicators in the PDF reports will be based on older data than the profile data. We will be\\r\\n            developing downloadable dynamic reports which will address this\\r\\n            problem but it is likely to be several months before these are available.</p>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n        <img src=\\\"{{imagesUrl}}download/{{fileName}}\\\" class=\\\"pdf\\\" (click)=\\\"exportPdf()\\\" />\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row col-md-12\\\">&nbsp;</div>\\r\\n\\r\\n<!-- At a glance reports -->\\r\\n<div *ngIf=\\\"areAtAGlanceReports\\\" class=\\\"row col-md-12\\\">\\r\\n    <div id=\\\"phof-html-download-text\\\" class=\\\"text col-md-6\\\">\\r\\n        <h2>At a Glance</h2>\\r\\n        <p>View a web summary report of the data for</p>\\r\\n        <p *ngIf=\\\"showTimePeriodsMenu\\\">\\r\\n            {{reportsLabel}}\\r\\n            <select (change)=\\\"timePeriodChange($event.target.value)\\\">\\r\\n                <option *ngFor=\\\"let period of timePeriods\\\">{{period}}</option>\\r\\n            </select>\\r\\n        </p>\\r\\n        <button class=\\\"bnt btn-link pdf\\\" *ngFor=\\\"let area of areasWithPdfs\\\" (click)=\\\"downloadStaticReportAtaGlance(area.Code)\\\">{{area.Name}}</button>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\"><img src=\\\"{{imagesUrl}}download/html{{profileId}}-at-a-glance.png\\\" class=\\\"pdf\\\" /></div>\\r\\n</div>\\r\\n\\r\\n<!-- Child health behaviours -->\\r\\n<div *ngIf=\\\"isChildHealthProfile\\\" class=\\\"row col-md-12\\\">\\r\\n    <div id=\\\"pdf-download-text\\\" class=\\\"text col-md-6\\\">\\r\\n        <h2>Health behaviours in young people</h2>\\r\\n\\r\\n        <div *ngIf=\\\"arePdfsForCurrentAreaType\\\">\\r\\n            <p>Download a detailed report of the data for</p>\\r\\n            <button class=\\\"bnt btn-link pdf\\\" (click)=\\\"exportChildHealthBehavioursPdf()\\\">{{areaName}}</button>\\r\\n        </div>\\r\\n\\r\\n        <p [hidden]=\\\"arePdfsForCurrentAreaType\\\">PDF profiles are not curently available for {{noPdfsMessage}}</p>\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n        <img src=\\\"{{imagesUrl}}download/{{childHealthBehavioursFileName}}\\\" class=\\\"pdf\\\" (click)=\\\"exportChildHealthBehavioursPdf()\\\" />\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row col-md-12\\\">&nbsp;</div>\\r\\n\\r\\n<!-- Child health dental report -->\\r\\n<div *ngIf=\\\"isChildHealthProfile\\\" class=\\\"row col-md-12\\\">\\r\\n    <div id=\\\"pdf-download-text\\\" class=\\\"text col-md-6\\\">\\r\\n        <h2>Oral health profile of five year olds</h2>\\r\\n\\r\\n        <div *ngIf=\\\"arePdfsForCurrentAreaType\\\">\\r\\n            <p>Download a detailed report of the data for</p>\\r\\n            <p>\\r\\n                Report year\\r\\n                <select (change)=\\\"timePeriodChangeForDentalHealth($event.target.value)\\\">\\r\\n                    <option>2015</option>\\r\\n                    <option>2012</option>\\r\\n                </select>\\r\\n            </p>\\r\\n            <button class=\\\"bnt btn-link pdf\\\" (click)=\\\"exportChildHealthDentalReport()\\\">{{areaName}}</button>\\r\\n        </div>\\r\\n\\r\\n        <p [hidden]=\\\"arePdfsForCurrentAreaType\\\">PDF profiles are not curently available for {{noPdfsMessage}}</p>\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n        <img src=\\\"{{imagesUrl}}download/pdf-dental-health.png\\\" class=\\\"pdf\\\" (click)=\\\"exportChildHealthDentalReport()\\\" />\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/download/download-report/download-report.component.html\n// module id = ./src/app/download/download-report/download-report.component.html\n// module chunks = main","import { Component } from '@angular/core';\r\nimport { ProfileService } from '../../shared/service/api/profile.service';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service'\r\nimport { FTModel, AreaType, FTConfig, FTUrls, Area } from '../../typings/FT';\r\nimport { ProfileIds, ParameterBuilder, AreaCodes, AreaTypeIds, ProfileUrlKeys } from '../../shared/shared';\r\nimport { StaticReportsService } from '../../shared/service/api/static-reports.service';\r\nimport * as _ from 'underscore';\r\nimport { LightBoxTypes, LightBoxConfig } from '../../shared/component/light-box/light-box.component';\r\nimport { LightBoxService } from '../../shared/service/helper/light-box.service';\r\n\r\n@Component({\r\n  selector: 'ft-download-report',\r\n  templateUrl: './download-report.component.html',\r\n  styleUrls: ['./download-report.component.css']\r\n})\r\nexport class DownloadReportComponent {\r\n\r\n  public showMentalHealthSurvey = true;\r\n  public showTimePeriodsMenu = true;\r\n  public isChildHealthProfile = false;\r\n  public arePdfsForCurrentAreaType = true;\r\n  public areAnyPdfsForProfile = false;\r\n  public areAtAGlanceReports = false;\r\n  public profileId: number;\r\n\r\n  public title;\r\n  public areaName;\r\n  public reportsLabel;\r\n  public fileName;\r\n  public imagesUrl;\r\n  public noPdfsMessage;\r\n  public childHealthBehavioursFileName;\r\n  public timePeriods = [];\r\n  public selectedTimePeriod: string = null;\r\n  public selectedTimePeriodForDentalHealth = '2017';\r\n  public areasWithPdfs: Area[];\r\n\r\n  // Instance data\r\n  private model: FTModel;\r\n  private config: FTConfig;\r\n  private urls: FTUrls;\r\n  private areaTypesWithPdfs: AreaType[];\r\n\r\n  constructor(private profileService: ProfileService, private ftHelperService: FTHelperService,\r\n    private staticReportsService: StaticReportsService, private lightBoxService: LightBoxService) { }\r\n\r\n  public refresh() {\r\n\r\n    this.model = this.ftHelperService.getFTModel();\r\n    this.config = this.ftHelperService.getFTConfig();\r\n    this.urls = this.ftHelperService.getURL();\r\n\r\n    this.profileService.areaTypesWithPdfs(this.model.profileId).subscribe((areaTypesWithPdfs) => {\r\n\r\n      this.areaTypesWithPdfs = areaTypesWithPdfs;\r\n\r\n      this.setPdfHtml();\r\n    });\r\n  }\r\n\r\n  setPdfHtml() {\r\n\r\n    this.areAnyPdfsForProfile = this.config.areAnyPdfsForProfile\r\n    this.imagesUrl = this.urls.img;\r\n    this.profileId = this.model.profileId;\r\n\r\n    if (this.profileId === ProfileIds.SearchResults) {\r\n      this.noPdfsMessage = 'search results';\r\n    } else if (!this.isPdfAvailableForCurrentAreaType()) {\r\n      this.noPdfsMessage = this.ftHelperService.getAreaTypeName();\r\n    } else {\r\n      this.noPdfsMessage = null;\r\n    }\r\n    this.arePdfsForCurrentAreaType = this.noPdfsMessage === null;\r\n\r\n    // Time periods\r\n    this.timePeriods = this.config.staticReportsFolders;\r\n    this.showTimePeriodsMenu = this.timePeriods.length > 1;\r\n    if (this.showTimePeriodsMenu) {\r\n      this.selectedTimePeriod = this.timePeriods[0];\r\n    }\r\n    this.reportsLabel = this.config.staticReportsLabel;\r\n\r\n    this.setShowMentalHealthSurvey();\r\n    this.setTitle();\r\n    this.fileName = this.getPdfFileName(this.profileId);\r\n    this.areaName = this.ftHelperService.getAreaName(this.model.areaCode);\r\n\r\n    // At a glance\r\n    this.areAtAGlanceReports =\r\n      this.profileId === ProfileIds.Phof || this.profileId === ProfileIds.Tobacco;\r\n    if (this.areAtAGlanceReports) {\r\n      this.displayAtAGlanceReports();\r\n    }\r\n\r\n    // Child Health behaviours\r\n    this.isChildHealthProfile = this.profileId === ProfileIds.ChildHealth;\r\n    if (this.isChildHealthProfile) {\r\n      this.childHealthBehavioursFileName = this.getPdfFileName(ProfileIds.ChildHealthBehaviours);\r\n    }\r\n  }\r\n\r\n  displayAtAGlanceReports() {\r\n    let areaList = [];\r\n\r\n    // Add England\r\n    areaList.push({ Name: \"England\", Code: AreaCodes.England });\r\n\r\n    // Add parent area \r\n    let parentArea = this.ftHelperService.getParentArea();\r\n    let parentAreaTypesWithReports = [AreaTypeIds.Region, AreaTypeIds.CombinedAuthorities, AreaTypeIds.County];\r\n    if (_.contains(parentAreaTypesWithReports, parentArea.AreaTypeId)) {\r\n      areaList.push({ Name: parentArea.Short, Code: parentArea.Code });\r\n    }\r\n\r\n    // Add current area\r\n    areaList.push(this.ftHelperService.getArea(this.model.areaCode));\r\n\r\n    this.areasWithPdfs = areaList;\r\n  }\r\n\r\n  setTitle() {\r\n    // Set PDF section title\r\n    this.title = 'Area profile';\r\n    if (this.model.profileId === ProfileIds.ChildHealth) {\r\n      this.title = 'Child health profile';\r\n    }\r\n  }\r\n\r\n  /* Returns true if PDFs are available for the user to download.*/\r\n  isPdfAvailableForCurrentAreaType() {\r\n    let areaTypeId = this.model.areaTypeId;\r\n    return _.some(this.areaTypesWithPdfs, function (areaType) {\r\n      return areaType.Id === areaTypeId;\r\n    });\r\n  }\r\n\r\n  getPdfFileName(profileId) {\r\n    return 'pdf' + profileId + '.png';\r\n  }\r\n\r\n  setShowMentalHealthSurvey() {\r\n    this.showMentalHealthSurvey = _.contains([\r\n      ProfileIds.Dementia,\r\n      ProfileIds.ChildrenYoungPeoplesWellBeing,\r\n      ProfileIds.CommonMentalHealthDisorders,\r\n      ProfileIds.MentalHealthJsna,\r\n      ProfileIds.SevereMentalIllness,\r\n      ProfileIds.SuicidePrevention],\r\n      this.model.profileId);\r\n  }\r\n\r\n  public exportChildHealthBehavioursPdf() {\r\n    this.downloadStaticReport(this.model.areaCode, ProfileUrlKeys.ChildHealthBehaviours);\r\n  }\r\n\r\n  public exportChildHealthDentalReport() {\r\n    this.downloadStaticReport(this.model.areaCode, ProfileUrlKeys.DentalHealth);\r\n  }\r\n\r\n  public exportPdf() {\r\n    this.downloadCachedPdf(this.model.areaCode);\r\n    this.logReportDownload(this.ftHelperService.getProfileUrlKey());\r\n  }\r\n\r\n  /**\r\n  * Downloads a cached PDF. This function is only used on the live site.\r\n  */\r\n  downloadCachedPdf(areaCode) {\r\n\r\n    const profileId = this.model.profileId;\r\n    let url;\r\n\r\n    if (this.config.hasStaticReports) {\r\n      this.downloadStaticReport(areaCode, this.ftHelperService.getProfileUrlKey());\r\n      return;\r\n    } else if (profileId === ProfileIds.Liver) {\r\n      // Liver profiles\r\n      url = 'http://www.endoflifecare-intelligence.org.uk/profiles/liver-disease/' + areaCode + '.pdf';\r\n    } else {\r\n      url = this.getPdfUrl(areaCode);\r\n    }\r\n\r\n    this.openFile(url);\r\n  }\r\n\r\n  getPdfUrl(areaCode) {\r\n    return this.urls.pdf + this.ftHelperService.getProfileUrlKey() +\r\n      '/' + areaCode + '.pdf';\r\n  }\r\n\r\n  /**\r\n  * Downloads a static document after first checking whether it is available.\r\n  */\r\n  downloadStaticReport(areaCode, profileKey) {\r\n    this.checkStaticReportExistsThenDownload(areaCode, profileKey);\r\n  }\r\n\r\n  checkStaticReportExistsThenDownload(areaCode, profileKey) {\r\n\r\n    const fileName = areaCode + '.pdf';\r\n\r\n    // Select time period\r\n    let timePeriod;\r\n    if (profileKey === ProfileUrlKeys.DentalHealth) {\r\n      timePeriod = this.selectedTimePeriodForDentalHealth;\r\n    } else {\r\n      timePeriod = this.selectedTimePeriod;\r\n    }\r\n\r\n    this.staticReportsService.doesStaticReportExist(profileKey, fileName, timePeriod).subscribe((doesReportExist) => {\r\n      if (doesReportExist) {\r\n        this.openStaticReport(profileKey, fileName, timePeriod);\r\n      } else {\r\n\r\n        const top = profileKey === ProfileUrlKeys.DentalHealth ? 1200 : 600;\r\n        this.showDocumentNotExistMessage(top);\r\n      }\r\n    });\r\n  }\r\n\r\n  downloadStaticReportAtaGlance(areaCode) {\r\n    let url = this.urls.bridge + 'static-reports/' +\r\n      this.ftHelperService.getProfileUrlKey() + '/at-a-glance/' + areaCode + '.html';\r\n\r\n    this.openFile(url);\r\n    this.logReportDownload('PhofAtAGlance');\r\n  }\r\n\r\n  logReportDownload(report) {\r\n    this.ftHelperService.logEvent('Download-Report', report, this.areaName);\r\n  }\r\n\r\n  public timePeriodChange(timePeriod: string) {\r\n    this.selectedTimePeriod = timePeriod;\r\n  }\r\n\r\n  public timePeriodChangeForDentalHealth(timePeriod: string) {\r\n    this.selectedTimePeriodForDentalHealth = timePeriod;\r\n  }\r\n\r\n  showDocumentNotExistMessage(top: number) {\r\n    const config = new LightBoxConfig();\r\n    config.Type = LightBoxTypes.OkCancel;\r\n    config.Title = 'Sorry, this document is not available';\r\n    config.Html = '';\r\n    config.Top = top;\r\n    this.lightBoxService.display(config);\r\n  }\r\n\r\n  openStaticReport(profileKey: string, fileName: string, timePeriod: string): void {\r\n\r\n    // Define URL parameters\r\n    let params = new ParameterBuilder();\r\n    params.add('profile_key', profileKey);\r\n    params.add('file_name', fileName);\r\n    if (timePeriod) {\r\n      params.add('time_period', timePeriod);\r\n    }\r\n\r\n    // Download file\r\n    let url = this.urls.corews + 'static-reports?' + params.build();\r\n    this.openFile(url);\r\n    this.logReportDownload(profileKey);\r\n  }\r\n\r\n  openFile(url: string) {\r\n    window.open(url.toLowerCase(), '_blank');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/download/download-report/download-report.component.ts","module.exports = \"#download-container {\\r\\n    color: #666;\\r\\n    padding: 60px 0 120px 0;\\r\\n}\\r\\n\\r\\nft-download-data {\\r\\n    border-right: 2px solid #eee;\\r\\n}\\r\\n\\r\\n#download-container p {\\r\\nline-height: 1.4em;\\r\\nmargin: 0;\\r\\n}\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/download/download.component.css\n// module id = ./src/app/download/download.component.css\n// module chunks = main","module.exports = \"<div id=\\\"download-container\\\" class=\\\"row\\\" style=\\\"display:none;\\\">\\r\\n    <ft-download-data class=\\\"col-md-6\\\" #downloadData></ft-download-data>\\r\\n    <ft-download-report class=\\\"col-md-6\\\" #downloadReport></ft-download-report>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/download/download.component.html\n// module id = ./src/app/download/download.component.html\n// module chunks = main","import { Component, HostListener, ViewChild } from '@angular/core';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\n\r\n@Component({\r\n  selector: 'ft-download',\r\n  templateUrl: './download.component.html',\r\n  styleUrls: ['./download.component.css']\r\n})\r\nexport class DownloadComponent {\r\n\r\n  @ViewChild('downloadData') downloadDataComponent;\r\n  @ViewChild('downloadReport') downloadReportComponent;\r\n\r\n  constructor(private ftHelperService: FTHelperService) { }\r\n\r\n  @HostListener('window:DownloadSelected', ['$event'])\r\n  public onOutsideEvent(event) {\r\n\r\n    // Refresh child components\r\n    this.downloadDataComponent.refresh();\r\n    this.downloadReportComponent.refresh();\r\n\r\n    // Unlock UI\r\n    this.ftHelperService.showAndHidePageElements();\r\n    this.ftHelperService.unlock();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/download/download.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { DownloadComponent } from './download.component';\r\nimport { DownloadDataComponent } from './download-data/download-data.component';\r\nimport { DownloadReportComponent } from './download-report/download-report.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    DownloadComponent,\r\n    DownloadDataComponent,\r\n    DownloadReportComponent\r\n  ],\r\n  exports: [\r\n    DownloadComponent\r\n  ]\r\n})\r\nexport class DownloadModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/download/download.module.ts","module.exports = \"#england-table {\\r\\n    font-family: Arial, Helvetica, sans-serif;\\r\\n    background: #fff;\\r\\n    margin-bottom: 30px;\\r\\n    margin-top: 10px;\\r\\n    width: 80%;\\r\\n}\\r\\n\\r\\n    #england-table tr th:first-child {\\r\\n        width: 50%;\\r\\n    }\\r\\n\\r\\n    #england-table tr td {\\r\\n        padding: 2px;\\r\\n    }\\r\\n\\r\\n    #england-table tr td:first-child button {\\r\\n            text-align: left;\\r\\n        }\\r\\n\\r\\n    .table-hover tbody tr:hover td {\\r\\n    color: #000;\\r\\n    background: #FFFDEA;\\r\\n}\\r\\n\\r\\n    .table-hover tbody tr:hover td a {\\r\\n        color: #2e3191;\\r\\n    }\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/england/england.component.css\n// module id = ./src/app/england/england.component.css\n// module chunks = main","module.exports = \"<div id=\\\"england-container\\\" style=\\\"display:none;\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n            <ft-legend [keyType]=\\\"keyType\\\" [legendType]=\\\"legendType\\\" [showRecentTrends]=\\\"showRecentTrends\\\"></ft-legend>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"export-chart-box\\\" style=\\\"display:block;\\\">\\r\\n        <a class=\\\"export-link\\\" (click)=\\\"onExportClick($event)\\\">Export table as image</a>\\r\\n    </div>\\r\\n    <div class=\\\"export-chart-box-csv\\\" style=\\\"display:block;\\\">\\r\\n        <a class=\\\"export-link-csv hidden\\\" (click)=\\\"onExportCsvFileClick($event)\\\">Export table as CSV file</a>\\r\\n    </div>\\r\\n    <div id=\\\"england-table\\\">\\r\\n        <table class=\\\"bordered-table table-hover\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th>Indicator</th>\\r\\n                    <th>Period</th>\\r\\n                    <th class=\\\"center\\\">England<br />count</th>\\r\\n                    <th class=\\\"center\\\">England<br />value</th>\\r\\n                    <th *ngIf=\\\"hasRecentTrends\\\" class=\\\"center\\\">Recent<br />trend</th>\\r\\n                    <th *ngIf=\\\"isChangeFromPreviousPeriodShown\\\" class=\\\"center\\\">Change from<br />previous <br/>time period</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let row of rows\\\">\\r\\n                    <td *ngIf=\\\"(row.isSubheading == true)\\\" colspan=\\\"6\\\" title=\\\"{{row.indicatorName}}\\\" data-toggle=\\\"tooltip\\\"\\r\\n                        data-placement=\\\"top\\\" class=\\\"rug-subheading numeric boot-tooltip\\\">{{row.indicatorName}}</td>\\r\\n                    <td *ngIf=\\\"(row.isSubheading == false)\\\">\\r\\n                        <button class=\\\"pLink\\\" href=\\\"#\\\" (click)=indicatorNameClicked(row)>{{row.indicatorName}}</button>\\r\\n                        <span *ngIf=\\\"row.hasNewData\\\" style=\\\"margin-right: 8px;\\\" class=\\\"badge badge-success\\\">New data</span>\\r\\n                    </td>\\r\\n                    <td *ngIf=\\\"(row.isSubheading == false)\\\">{{row.period}}</td>\\r\\n                    <td *ngIf=\\\"(row.isSubheading == false)\\\" class=\\\"numeric\\\" [innerHTML]=\\\"row.count\\\"></td>\\r\\n                    <td *ngIf=\\\"(row.isSubheading == false)\\\" class=\\\"numeric\\\" (mouseover)=showValueNoteTooltip($event,row)\\r\\n                        (mouseout)=hideTooltip() (mousemove)=positionTooltip($event) [innerHTML]=\\\"row.value\\\"></td>\\r\\n                    <td *ngIf=\\\"hasRecentTrends && (row.isSubheading == false)\\\" class=\\\"center pointer\\\" (click)=recentTrendClicked(row)\\r\\n                        (mouseout)=hideTooltip() (mouseover)=showRecentTrendTooltip($event,row) (mousemove)=positionTooltip($event)\\r\\n                        [innerHTML]=\\\"row.recentTrendHtml\\\"></td>\\r\\n                    <td *ngIf=\\\"isChangeFromPreviousPeriodShown && (row.isSubheading == false)\\\" class=\\\"center\\\"\\r\\n                        [innerHTML]=\\\"row.changeFromPreviousHtml\\\"></td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/england/england.component.html\n// module id = ./src/app/england/england.component.html\n// module chunks = main","import { Component, HostListener } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n  FTModel, FTRoot, GroupRoot, IndicatorMetadata, CoreDataSetInfo,\r\n  GroupingSubheading, TrendMarkerResult, TrendMarker, TooltipManager\r\n} from '../typings/FT.d';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport { TooltipHelper } from '../shared/shared';\r\nimport { IndicatorService } from '../shared/service/api/indicator.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { LegendType, KeyType } from 'app/shared/component/legend/legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-england',\r\n  templateUrl: './england.component.html',\r\n  styleUrls: ['./england.component.css']\r\n})\r\nexport class EnglandComponent {\r\n\r\n  keyType: KeyType = KeyType.None;\r\n  legendType: LegendType = LegendType.None;\r\n  showRecentTrends: Boolean = true;\r\n\r\n  public isChangeFromPreviousPeriodShown = false;\r\n  public rows: Array<EnglandRow>;\r\n  public hasRecentTrends = false;\r\n  private tooltip: TooltipHelper;\r\n\r\n  constructor(private ftHelperService: FTHelperService, private indicatorService: IndicatorService) { }\r\n\r\n  @HostListener('window:EnglandSelected', ['$event'])\r\n  public onOutsideEvent(event) {\r\n\r\n    let ftHelper = this.ftHelperService;\r\n\r\n    this.setConfig();\r\n    this.tooltip = new TooltipHelper(this.ftHelperService.newTooltipManager());\r\n\r\n    let groupingSubheadings = ftHelper.getGroupingSubheadings();\r\n    let metadataHash = ftHelper.getMetadataHash();\r\n    let groupRoots = ftHelper.getAllGroupRoots();\r\n\r\n    this.rows = [];\r\n    for (let rootIndex in groupRoots) {\r\n      let root = groupRoots[rootIndex];\r\n      let indicatorId = root.IID;\r\n      let metadata: IndicatorMetadata = metadataHash[indicatorId];\r\n      let unit = !!metadata ? metadata.Unit : null;\r\n\r\n      let subheadings = groupingSubheadings.filter(x => x.Sequence === root.Sequence);\r\n      if (subheadings !== undefined) {\r\n        subheadings.forEach(subheading => {\r\n          let row: EnglandRow = new EnglandRow();\r\n          this.rows.push(row);\r\n\r\n          row.indicatorName = subheading.Subheading;\r\n          row.isSubheading = true;\r\n        });\r\n      }\r\n\r\n      let row: EnglandRow = new EnglandRow();\r\n      this.rows.push(row);\r\n\r\n      row.rootIndex = rootIndex;\r\n      row.period = root.Grouping[0].Period;\r\n      row.indicatorName = metadata.Descriptive['Name'] + ftHelper.getSexAndAgeLabel(root);\r\n      row.hasNewData = root.DateChanges && root.DateChanges.HasDataChangedRecently;\r\n\r\n      // Data\r\n      let englandData = ftHelper.getNationalComparatorGrouping(root).ComparatorData;\r\n      let dataInfo = ftHelper.newCoreDataSetInfo(englandData);\r\n      row.value = ftHelper.newValueDisplayer(unit).byDataInfo(dataInfo);\r\n      row.count = ftHelper.formatCount(dataInfo);\r\n      row.hasValueNote = dataInfo.isNote();\r\n      row.noteId = englandData.NoteId;\r\n\r\n      // Recent trend\r\n      if (!!root.RecentTrends) {\r\n        this.setUpRecentTrendOnRow(row, root, englandData.AreaCode, dataInfo);\r\n      }\r\n\r\n      row.isSubheading = false;\r\n    }\r\n\r\n    ftHelper.showAndHidePageElements();\r\n    ftHelper.unlock();\r\n\r\n    // Enable tooltip\r\n    setTimeout(() => {\r\n      (<any>$('[data-toggle=\"tooltip\"]')).tooltip();\r\n    }, 0);\r\n  }\r\n\r\n  public showValueNoteTooltip(event: MouseEvent, row: EnglandRow) {\r\n    if (row.hasValueNote) {\r\n      let tooltipProvider = this.ftHelperService.newValueNoteTooltipProvider();\r\n      this.tooltip.displayHtml(event, tooltipProvider.getHtmlFromNoteId(row.noteId));\r\n    }\r\n  }\r\n\r\n  public showRecentTrendTooltip(event: MouseEvent, row: EnglandRow) {\r\n    let tooltipProvider = this.ftHelperService.newRecentTrendsTooltip();\r\n    this.tooltip.displayHtml(event, tooltipProvider.getTooltipByData(row.recentTrend));\r\n  }\r\n\r\n  public positionTooltip(event: MouseEvent) {\r\n    this.tooltip.reposition(event);\r\n  }\r\n\r\n  public recentTrendClicked(row: EnglandRow) {\r\n    this.ftHelperService.recentTrendSelected().byGroupRoot(row.rootIndex)\r\n  }\r\n\r\n  public hideTooltip() {\r\n    this.tooltip.hide();\r\n  }\r\n\r\n  public indicatorNameClicked(row: EnglandRow) {\r\n    this.ftHelperService.goToMetadataPage(row.rootIndex);\r\n  }\r\n\r\n  private setUpRecentTrendOnRow(row: EnglandRow, root: GroupRoot, areaCode: string, dataInfo: CoreDataSetInfo) {\r\n\r\n    let ftHelper = this.ftHelperService;\r\n    let polarityId = root.PolarityId;\r\n\r\n    if (dataInfo.isValue() && root.RecentTrends[areaCode]) {\r\n      ''\r\n      // Recent trend available\r\n      let recentTrend: TrendMarkerResult = root.RecentTrends[areaCode];\r\n      row.recentTrend = recentTrend;\r\n      row.recentTrendHtml = ftHelper.getTrendMarkerImage(recentTrend.Marker, polarityId);\r\n      row.changeFromPreviousHtml = ftHelper.getTrendMarkerImage(\r\n        recentTrend.MarkerForMostRecentValueComparedWithPreviousValue, polarityId);\r\n    } else {\r\n      // No trend image\r\n      row.recentTrendHtml = ftHelper.getTrendMarkerImage(0/*TrendMarker.CannotBeCalculated*/, polarityId);\r\n      row.changeFromPreviousHtml = row.recentTrendHtml;\r\n    }\r\n  }\r\n\r\n  private setConfig() {\r\n    let config = this.ftHelperService.getFTConfig();\r\n    this.hasRecentTrends = config.hasRecentTrends;\r\n    this.isChangeFromPreviousPeriodShown = config.isChangeFromPreviousPeriodShown;\r\n  }\r\n\r\n  onExportClick(event: MouseEvent) {\r\n    event.preventDefault();\r\n\r\n    // Prepare view\r\n    let $trendInfoIcon = $('.trend-info').hide();\r\n    let trendLegend = $('<div id=\"trend-legend\">'\r\n      + $('#trend-marker-legend').html() +\r\n      '</div>');\r\n    let table = $('#england-table');\r\n    table.prepend(trendLegend);\r\n\r\n    // Export image\r\n    this.ftHelperService.saveElementAsImage(table, 'england');\r\n\r\n    // Restore view\r\n    $('#trend-legend').remove();\r\n    $trendInfoIcon.show();\r\n\r\n    // Log event for analytics\r\n    this.ftHelperService.logEvent('ExportImage', 'England');\r\n  }\r\n\r\n  onExportCsvFileClick(event: MouseEvent) {\r\n    event.preventDefault();\r\n    alert('It works!');\r\n  }\r\n}\r\n\r\nclass EnglandRow {\r\n  count: string;\r\n  indicatorName: string;\r\n  hasNewData: boolean;\r\n  hasValueNote: boolean;\r\n  noteId: number;\r\n  period: string;\r\n  rootIndex: string;\r\n  value: string;\r\n  recentTrend: TrendMarkerResult;\r\n  recentTrendHtml: string;\r\n  /** Change from the previous time point */\r\n  changeFromPreviousHtml: string;\r\n  isSubheading: boolean;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/england/england.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EnglandComponent } from './england.component';\r\nimport { LegendModule } from 'app/shared/component/legend/legend.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        LegendModule\r\n    ],\r\n    declarations: [\r\n        EnglandComponent\r\n    ],\r\n    exports: [\r\n        EnglandComponent\r\n    ]\r\n})\r\n\r\nexport class EnglandModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/england/england.module.ts","module.exports = \".googleMapNg {\\r\\n    position: relative;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #CCC;\\r\\n    width: 500px;\\r\\n    height: 600px;\\r\\n    float: left;\\r\\n    margin-bottom: 10px;\\r\\n    margin-top: 0px;\\r\\n    clear: both;\\r\\n}\\r\\n\\r\\n#floating-panel {\\r\\n    position: absolute;\\r\\n    margin-top: 92px;\\r\\n    z-index: 5;\\r\\n    padding-left: 8px;\\r\\n    margin-left: 10px;\\r\\n}\\r\\n\\r\\n#wrapper {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.map-control {\\r\\n    float: left;\\r\\n    clear: both;\\r\\n    position: relative;\\r\\n    z-index: 7;\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n.map-control-layers-toggle {\\r\\n    background-image: url(/images/layers.png);\\r\\n    background-repeat: no-repeat;\\r\\n    width: 28px;\\r\\n    height: 28px;\\r\\n    display: inline-block;\\r\\n    margin-right: 3px\\r\\n}\\r\\n\\r\\n.layerControl p {\\r\\n    margin-left: 5px;\\r\\n}\\r\\n\\r\\n.layerControl div.basemap {\\r\\n    margin: 3px 0;\\r\\n    padding-right: 3px;\\r\\n}\\r\\n\\r\\n.layerControl label.basemapLabel {\\r\\n    display: block;\\r\\n    margin-bottom: 5px;\\r\\n    height: 40px;\\r\\n}\\r\\n\\r\\n.layerControl div.basemap:hover,\\r\\n.layerControl div.opacity:hover {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.layerControl div.selected span {\\r\\n    border: 1px solid #66F;\\r\\n}\\r\\n\\r\\n.layerControl div.basemap span {\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.layerControl div.None span {\\r\\n    background: #FFF;\\r\\n}\\r\\n\\r\\n.layerControl div.Streets span {\\r\\n    background-position: -6px -113px;\\r\\n}\\r\\n\\r\\n.layerControl div#opacity {\\r\\n    margin-left: 5px;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity {\\r\\n    display: inline-block;\\r\\n    width: 34px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity span {\\r\\n    border: 1px solid #CCC;\\r\\n    display: inline-block;\\r\\n    width: 30px;\\r\\n    height: 25px;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity:hover span,\\r\\n.layerControl div.opacity.selected span {\\r\\n    border-color: #666;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity label {\\r\\n    font-size: .65em;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity span {\\r\\n    background: url(/images/opacity.jpg) no-repeat;\\r\\n}\\r\\n\\r\\n.layerControl input {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.layerControl>label {\\r\\n    display: block;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.info {\\r\\n    padding: 2px;\\r\\n    font: 14px/16px Arial, Helvetica, sans-serif;\\r\\n    background: white;\\r\\n    background: rgba(255, 255, 255, 0.8);\\r\\n    -webkit-box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\\r\\n            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.info h4 {\\r\\n    margin: 0;\\r\\n    color: #777;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.export-chart-box {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.label-name {\\r\\n    background: #FFF;\\r\\n    width: 60px;\\r\\n    height: 30px;\\r\\n    display: inline-block;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n.label-image {\\r\\n    background: url(/images/basemaps.jpg) no-repeat;\\r\\n    width: 60px;\\r\\n    height: 30px;\\r\\n    display: inline-block;\\r\\n    border: 1px solid;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/google-map-simple/google-map-simple.component.css\n// module id = ./src/app/map/google-map-simple/google-map-simple.component.css\n// module chunks = main","module.exports = \"<div id=\\\"wrapper\\\">\\r\\n    <div [hidden]=\\\"isError\\\" id=\\\"google-map\\\" #googleMap class=\\\"googleMapNg\\\"></div>\\r\\n    <div *ngIf=\\\"isError\\\" id=\\\"polygonError\\\" class=\\\"googleMapNg\\\"> {{errorMessage}} </div>\\r\\n    <div [hidden]=\\\"isError\\\" id=\\\"floating-panel\\\" class=\\\"layerControl info map-control\\\">\\r\\n        <a class=\\\"map-control-layers-toggle\\\" href=\\\"#\\\" title=\\\"Layers\\\" *ngIf=\\\"!showOverlay\\\" (mouseover)=\\\"displayOverlay()\\\"></a>\\r\\n        <div id=\\\"mapOptions\\\" *ngIf=\\\"showOverlay\\\" (mouseleave)=\\\"hideOverlay()\\\">\\r\\n            <p>Background map</p>\\r\\n            <label *ngFor=\\\"let baseMap of baseMaps;let idx = index\\\" class=\\\"basemapLabel\\\">\\r\\n                <div class=\\\"basemap {{baseMap.cssClass}}\\\">\\r\\n                    <input type=\\\"radio\\\" name=\\\"baseMap\\\" [value]=\\\"baseMap.val\\\" [checked]=\\\"(idx === 0)\\\" (click)=\\\"onOverlaySelectionChange(baseMap)\\\">\\r\\n                    <span class=\\\"label-image\\\"></span>\\r\\n                    <span class=\\\"label-name\\\">{{baseMap.name}}</span>\\r\\n                </div>\\r\\n                <br/>\\r\\n            </label>\\r\\n            <p>Transparency</p>\\r\\n            <div class=\\\"opacity\\\" *ngFor=\\\"let opac of opacityArray;let idx = index;\\\" [attr.selected]=\\\"opac/100 == fillOpacity?true : null\\\">\\r\\n                <input type=\\\"radio\\\" name=\\\"opacity\\\" value=\\\"{{opac}}\\\" id=\\\"opacity_{{opac}}\\\" (click)=\\\"onOpacitySelectionChange(opac)\\\">\\r\\n                <label for=\\\"opacity_{{opac}}\\\">\\r\\n                    <span [ngStyle]=\\\"{\\r\\n                    'background-position':(opac * -4.1 + 37) + 'px 0px'}\\\"></span>\\r\\n                    {{opac}} %\\r\\n                </label>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/google-map-simple/google-map-simple.component.html\n// module id = ./src/app/map/google-map-simple/google-map-simple.component.html\n// module chunks = main","import {\r\n    Component, Input, Output, ElementRef,\r\n    ViewChild, EventEmitter, OnChanges, SimpleChanges\r\n} from '@angular/core';\r\nimport 'rxjs/rx';\r\nimport { GoogleMapService } from '../googleMap.service';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\n\r\n@Component({\r\n    selector: 'ft-google-map-simple',\r\n    templateUrl: './google-map-simple.component.html',\r\n    styleUrls: ['./google-map-simple.component.css']\r\n})\r\nexport class GoogleMapSimpleComponent implements OnChanges {\r\n    map: google.maps.Map;\r\n    @ViewChild('googleMap') mapEl: ElementRef;\r\n    @Output() mapInit = new EventEmitter();\r\n    @Output() selectedAreaChanged = new EventEmitter();\r\n    @Input() areaTypeId: number = null;\r\n    @Input() areaSearchText = null;\r\n    @Input() areaCode = null;\r\n    @Input() availableAreas = null;\r\n    @Input() selectedAreas = null;\r\n    @Input() mapAreaCodes = null;\r\n    @Input() mapPolygonSelected = null;\r\n    path: string;\r\n    isError = false;\r\n    errorMessage: string;\r\n    showOverlay = false;\r\n    currentPolygons: google.maps.Polygon[] = [];\r\n    selectedPolygon: google.maps.Polygon = null;\r\n    boundry: geoBoundry.Boundry;\r\n    baseMaps: BaseMap[] = [\r\n        {\r\n            name: 'No background',\r\n            val: 0,\r\n            cssClass: 'None'\r\n        },\r\n        {\r\n            name: 'Streets',\r\n            val: 1,\r\n            cssClass: 'Streets'\r\n        }\r\n    ];\r\n    selectedbaseMap: BaseMap;\r\n    fillOpacity = 1.0;\r\n    opacityArray: number[] = [20, 40, 60, 80, 100];\r\n\r\n    constructor(private mapService: GoogleMapService, private ftHelperService: FTHelperService) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['areaTypeId']) {\r\n            if (this.areaTypeId) {\r\n                this.path = this.ftHelperService.getURL().img;\r\n                this.loadMap();\r\n                this.loadPolygon(this.areaTypeId, this.path);\r\n            }\r\n        }\r\n        if (changes['areaCode']) {\r\n            if (this.areaCode) {\r\n                this.updateMapSelection(this.areaCode);\r\n            }\r\n        }\r\n        if (changes['mapAreaCodes']) {\r\n            if (this.mapAreaCodes) {\r\n                this.initialiseMapSelection(this.mapAreaCodes);\r\n            }\r\n        }\r\n    }\r\n\r\n    initialiseMapSelection(areaCodes) {\r\n        areaCodes.forEach(element => {\r\n            this.updateMapSelection(element);\r\n        });\r\n    }\r\n\r\n    updateMapSelection(areaCode) {\r\n        for (let i = 0; i < (this.currentPolygons.length); i++) {\r\n            const polygon = this.currentPolygons[i];\r\n            const polygonAreaCode = polygon.get('areaCode');\r\n\r\n            if (polygonAreaCode === undefined || polygonAreaCode === areaCode) {\r\n                if (this.mapPolygonSelected) {\r\n                    polygon.set('fillColor', '#7FFF92');\r\n                } else {\r\n                    polygon.set('fillColor', '#63A1C3');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    loadMap() {\r\n        /// Load from GoogleMapService and style it\r\n        const mapOptions: google.maps.MapOptions = {\r\n            zoom: 6,\r\n            disableDoubleClickZoom: false,\r\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n            panControl: false,\r\n            zoomControl: true,\r\n            zoomControlOptions: { position: google.maps.ControlPosition.TOP_LEFT },\r\n            scaleControl: false,\r\n            streetViewControl: false,\r\n            mapTypeControl: false,\r\n            fullscreenControl: true,\r\n            backgroundColor: 'hsla(0, 0%, 0%, 0)',\r\n        };\r\n        let mapContainer = null;\r\n        if (this.mapEl && this.mapEl.nativeElement) {\r\n            mapContainer = this.mapEl.nativeElement;\r\n        }\r\n        this.map = this.mapService.loadMap(mapContainer, mapOptions);\r\n        this.selectedbaseMap = this.baseMaps[0];\r\n        if (this.baseMaps) { // No Backgroud at the time of load\r\n            this.onOverlaySelectionChange(this.baseMaps[0]);\r\n        }\r\n        if (this.areaTypeId) {\r\n            this.loadPolygon(this.areaTypeId, this.path);\r\n        }\r\n\r\n        this.mapInit.emit({\r\n            map: this.map,\r\n        });\r\n    }\r\n\r\n    loadPolygon(areaTypeId: number, path: string) {\r\n        this.mapService.loadBoundries(areaTypeId, path)\r\n            .subscribe(\r\n                data => {\r\n                    this.boundry = <geoBoundry.Boundry>data;\r\n                    this.isError = false;\r\n                    this.removePolygon();\r\n                    this.fillPolygon(this.boundry, this.fillOpacity);\r\n                    this.colourFillPolygon(true);\r\n                },\r\n                error => {\r\n                    this.isError = true;\r\n                    this.errorMessage = <any>error;\r\n                });\r\n    }\r\n\r\n    removePolygon(): void {\r\n        if (this.currentPolygons !== undefined) {\r\n            this.currentPolygons.forEach(element => {\r\n                element.setMap(null);\r\n            });\r\n            this.currentPolygons.length = 0;\r\n        }\r\n    }\r\n\r\n    fillPolygon(boundry: geoBoundry.Boundry, opacity: number): any {\r\n        if (boundry.features) {\r\n\r\n            // Variables to track most recent mouseover event\r\n            let overDate = null;\r\n            let overAreaCode = null;\r\n\r\n            const infoWindow: google.maps.InfoWindow = new google.maps.InfoWindow();\r\n\r\n            for (let x = 0; x < boundry.features.length; x++) {\r\n                const areaCode = boundry.features[x].properties.AreaCode;\r\n                const coordinates = boundry.features[x].geometry.coordinates;\r\n                const coords = this.getPolygonCoordinates(coordinates);\r\n\r\n                const polygon = new google.maps.Polygon({\r\n                    paths: coords,\r\n                    strokeColor: '#333333',\r\n                    strokeOpacity: 0.8,\r\n                    strokeWeight: 1,\r\n                    fillColor: '#63A1C3',\r\n                    fillOpacity: opacity,\r\n                    clickable: true\r\n                });\r\n\r\n                polygon.set('areaCode', areaCode);\r\n                polygon.setMap(this.map);\r\n\r\n                google.maps.event.addListener(polygon, 'mouseover', (event) => {\r\n                    overAreaCode = areaCode;\r\n                    overDate = new Date();\r\n\r\n                    // Display tooltip\r\n                    const tooltip = this.getToolTipContent(areaCode);\r\n                    if (tooltip) {\r\n                        infoWindow.setContent(tooltip);\r\n                        this.setInfoWindowPosition(event, infoWindow);\r\n                        infoWindow.open(this.map);\r\n                    }\r\n                });\r\n\r\n                google.maps.event.addListener(polygon, 'mousemove', (event) => {\r\n                    infoWindow.close();\r\n                });\r\n\r\n                google.maps.event.addListener(polygon, 'mouseout', (event) => {\r\n                    // Wait in case immediate mouseover event and this mouseover event was\r\n                    // caused by mouse moving over the infowindow\r\n                    setTimeout(function () {\r\n                        const time = new Date().getTime();\r\n                        if (time - overDate.getTime() > 25 && areaCode === overAreaCode) {\r\n                            infoWindow.close();\r\n                        }\r\n                    }, 25);\r\n                });\r\n\r\n                google.maps.event.addListener(polygon, 'click', (event) => {\r\n                    if (polygon.get('fillColor') === '#63A1C3') {\r\n                        polygon.set('fillColor', '#7FFF92');\r\n                        this.selectedAreaChanged.emit({ areaCode: areaCode, add: true });\r\n                    } else {\r\n                        polygon.set('fillColor', '#63A1C3');\r\n                        this.selectedAreaChanged.emit({ areaCode: areaCode, add: false });\r\n                    }\r\n                });\r\n\r\n                this.currentPolygons.push(polygon);\r\n            }\r\n        }\r\n    }\r\n\r\n    getToolTipContent(areaCode: string): string {\r\n        let areaName;\r\n        const areaCodeInAvailableArea = this.availableAreas.find(x => x.Code === areaCode);\r\n        if (areaCodeInAvailableArea == null || areaCodeInAvailableArea === undefined) {\r\n            areaName = '';\r\n        } else {\r\n            areaName = areaCodeInAvailableArea.Name;\r\n        }\r\n\r\n        return areaName;\r\n    }\r\n\r\n    setInfoWindowPosition(event, infoWindow) {\r\n        const pos: google.maps.LatLng = event.latLng;\r\n        infoWindow.setPosition(new google.maps.LatLng(pos.lat() + 0.02, pos.lng()));\r\n    }\r\n\r\n    colourFillPolygon(center: boolean): void {\r\n        if (this.map) {\r\n            const regionPolygons: Array<google.maps.Polygon> = [];\r\n            const currentComparatorId = this.ftHelperService.getComparatorId();\r\n            for (let i = 0; i < (this.currentPolygons.length); i++) {\r\n                const polygon = this.currentPolygons[i];\r\n\r\n                // Set polygon fill colour\r\n                polygon.setMap(null);\r\n                const areaCode = polygon.get('areaCode');\r\n                const areaCodeInSelectedAreas = this.selectedAreas.find(x => x.Code === areaCode);\r\n                if (areaCodeInSelectedAreas !== null && areaCodeInSelectedAreas !== undefined) {\r\n                    polygon.set('fillColor', '#7FFF92');\r\n                } else {\r\n                    polygon.set('fillColor', '#63A1C3');\r\n                }\r\n\r\n                polygon.setMap(this.map);\r\n            }\r\n            if (center) {\r\n                this.setMapCenter();\r\n            }\r\n        }\r\n    }\r\n\r\n    setMapCenter() {\r\n        if (this.map) {\r\n            const bounds = new google.maps.LatLngBounds();\r\n            const position = new google.maps.LatLng(53.415649, -2.209015);\r\n            bounds.extend(position);\r\n            this.map.setCenter(bounds.getCenter());\r\n            this.map.setZoom(6);\r\n        }\r\n    }\r\n\r\n    getPolygonCoordinates(coordinates): Array<Array<google.maps.LatLng>> {\r\n\r\n        const coords: Array<Array<google.maps.LatLng>> = [];\r\n        for (let i = 0; i < coordinates.length; i++) {\r\n            for (let j = 0; j < coordinates[i].length; j++) {\r\n                const path: Array<google.maps.LatLng> = [];\r\n                for (let k = 0; k < coordinates[i][j].length; k++) {\r\n                    const coord = new google.maps.LatLng(coordinates[i][j][k][1], coordinates[i][j][k][0]);\r\n                    path.push(coord);\r\n                }\r\n                coords.push(path);\r\n            }\r\n        }\r\n        return coords;\r\n    }\r\n\r\n    displayOverlay(): void {\r\n        this.showOverlay = true;\r\n    }\r\n\r\n    hideOverlay(): void {\r\n        this.showOverlay = false;\r\n    }\r\n\r\n    onOverlaySelectionChange(basemap): void {\r\n        this.selectedbaseMap = Object.assign({}, this.selectedbaseMap, basemap);\r\n        this.styleMap(this.selectedbaseMap);\r\n    }\r\n\r\n    onOpacitySelectionChange(opacity): void {\r\n        this.fillOpacity = opacity / 100;\r\n        this.loadPolygon(this.areaTypeId, this.path);\r\n    }\r\n\r\n    styleMap(selectedbaseMap: BaseMap): void {\r\n        if (this.map) {\r\n            const noTiles = 'noTiles';\r\n            let styleArrayForNoBackground: any = [];\r\n            if (selectedbaseMap.val === 0) {\r\n                const visibilityOff: any = [{ visibility: 'off' }];\r\n                styleArrayForNoBackground = [\r\n                    {\r\n                        stylers: [\r\n                            {\r\n                                color: '#ffffff',\r\n                                fillOpacity: 0.0\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        featureType: 'road',\r\n                        elementType: 'geometry',\r\n                        stylers: visibilityOff\r\n                    }, {\r\n                        featureType: 'road',\r\n                        elementType: 'labels',\r\n                        stylers: visibilityOff\r\n                    }\r\n                ];\r\n            }\r\n            this.map.setOptions({ styles: styleArrayForNoBackground });\r\n            this.map.mapTypes.set(noTiles, new NoTileMapType());\r\n            google.maps.event.addListener(this.map, 'idle', event => {\r\n                const bounds = this.map.getCenter();\r\n                google.maps.event.trigger(this.map, 'resize');\r\n                this.map.setCenter(bounds);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport class NoTileMapType implements google.maps.MapType {\r\n    tileSize = new google.maps.Size(1024, 1024);\r\n    maxZoom = 20;\r\n    getTile(tileCoord: google.maps.Point, zoom: number, ownerDocument: Document): Element {\r\n        return ownerDocument.createElement('div');\r\n    }\r\n    releaseTile(tile: Element): void {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n}\r\n\r\nexport interface BaseMap {\r\n    name: string; val: number; cssClass: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/google-map-simple/google-map-simple.component.ts","module.exports = \".googleMapNg {\\r\\n    position: relative;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #CCC;\\r\\n    width: 500px;\\r\\n    height: 600px;\\r\\n    float: left;\\r\\n    margin-bottom: 10px;\\r\\n    margin-top: 10px;\\r\\n    clear: both;\\r\\n}\\r\\n\\r\\n#google-map {\\r\\n    overflow: auto !important;\\r\\n}\\r\\n\\r\\n#google-map::-webkit-scrollbar { \\r\\n    display: none; \\r\\n}\\r\\n\\r\\n#floating-panel {\\r\\n    position: absolute;\\r\\n    margin-top: 148px;\\r\\n    z-index: 5;\\r\\n    padding-left: 8px;\\r\\n    margin-left: 10px;\\r\\n}\\r\\n\\r\\n#wrapper {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.map-control {\\r\\n    float: left;\\r\\n    clear: both;\\r\\n    position: relative;\\r\\n    z-index: 7;\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n.map-control-layers-toggle {\\r\\n    background-image: url(/images/layers.png);\\r\\n    background-repeat: no-repeat;\\r\\n    width: 28px;\\r\\n    height: 28px;\\r\\n    display: inline-block;\\r\\n    margin-right: 3px\\r\\n}\\r\\n\\r\\n.layerControl p {\\r\\n    margin-left: 5px;\\r\\n}\\r\\n\\r\\n.layerControl div.basemap {\\r\\n    margin: 3px 0;\\r\\n    padding-right: 3px;\\r\\n}\\r\\n\\r\\n.layerControl label.basemapLabel {\\r\\n    display: block;\\r\\n    margin-bottom: 0px;\\r\\n    height: 40px;\\r\\n}\\r\\n\\r\\n.layerControl div.basemap:hover,\\r\\n.layerControl div.opacity:hover {\\r\\n    background-color: rgba(220, 220, 220, .7);\\r\\n}\\r\\n\\r\\n.layerControl div:hover span {\\r\\n    border: 1px solid #666;\\r\\n}\\r\\n\\r\\n.layerControl div.selected span {\\r\\n    border: 1px solid #66F;\\r\\n}\\r\\n\\r\\n.layerControl div .layerControl label span {\\r\\n    border: 1px solid #CCC;\\r\\n    width: 70px;\\r\\n    height: 30px;\\r\\n    background: url(/images/basemaps.jpg) no-repeat;\\r\\n    display: inline-block;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n.layerControl div.basemap span {\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.layerControl div.None span {\\r\\n    background: #FFF;\\r\\n}\\r\\n\\r\\n.layerControl div.Streets span {\\r\\n    background-position: -6px -113px;\\r\\n}\\r\\n\\r\\n.layerControl div#opacity {\\r\\n    margin-left: 5px;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity {\\r\\n    display: inline-block;\\r\\n    width: 34px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity span {\\r\\n    border: 1px solid #CCC;\\r\\n    display: inline-block;\\r\\n    width: 30px;\\r\\n    height: 25px;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity:hover span,\\r\\n.layerControl div.opacity.selected span {\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity label {\\r\\n    font-size: .65em;\\r\\n}\\r\\n\\r\\n.layerControl div.opacity span {\\r\\n    background: url(/images/opacity.jpg) no-repeat;\\r\\n}\\r\\n\\r\\n.layerControl input {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.layerControl>label {\\r\\n    display: block;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.info {\\r\\n    padding: 2px;\\r\\n    font: 14px/16px Arial, Helvetica, sans-serif;\\r\\n    background: white;\\r\\n    background: rgba(255, 255, 255, 0.8);\\r\\n    -webkit-box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\\r\\n            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.info h4 {\\r\\n    margin: 0;\\r\\n    color: #777;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.export-chart-box {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.tab-options button.button-selected, .tab-options button:hover {\\r\\n    color: #fff;\\r\\n    background-color: #02ae94;\\r\\n}\\r\\n\\r\\n.tab-options div.export-chart-box {\\r\\n    margin-top: 15px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/google-map/google-map.component.css\n// module id = ./src/app/map/google-map/google-map.component.css\n// module chunks = main","module.exports = \"<div id=\\\"tab-specific-options\\\" class=\\\"tab-options clearfix\\\">\\r\\n    <div>\\r\\n        <span>Areas </span>\\r\\n        <button id=\\\"tab-option-0\\\" [class]=\\\"this.subNationalButtonClass\\\" (click)=\\\"setBenchMark(1)\\\" [innerHTML]=\\\"this.formattedParentAreaName\\\"></button>\\r\\n        <button id=\\\"tab-option-1\\\" [class]=\\\"this.nationalButtonClass\\\" (click)=\\\"setBenchMark(4)\\\">All in England</button>\\r\\n    </div>\\r\\n    <div class=\\\"export-chart-box\\\">\\r\\n        <a class=\\\"export-link\\\" (click)=\\\"onExportClick($event)\\\">Export map as image</a>\\r\\n    </div>\\r\\n    <div class=\\\"export-chart-box-csv\\\">\\r\\n        <a class=\\\"export-link-csv hidden\\\" (click)=\\\"onExportCsvFileClick($event)\\\">Export map as CSV file</a>\\r\\n    </div>\\r\\n</div>\\r\\n<div id=\\\"wrapper\\\">\\r\\n    <div [hidden]=\\\"isError\\\" id=\\\"google-map\\\" #googleMap class=\\\"googleMapNg\\\"></div>\\r\\n    <div *ngIf=\\\"isError\\\" id=\\\"polygonError\\\" class=\\\"googleMapNg\\\"> {{errorMessage}} </div>\\r\\n    <div [hidden]=\\\"isError\\\" id=\\\"floating-panel\\\" class=\\\"layerControl info map-control\\\">\\r\\n        <a class=\\\"map-control-layers-toggle\\\" href=\\\"#\\\" title=\\\"Layers\\\" *ngIf=\\\"!showOverlay\\\" (mouseover)=\\\"displayOverlay()\\\"></a>\\r\\n        <div id=\\\"mapOptions\\\" *ngIf=\\\"showOverlay\\\" (mouseleave)=\\\"hideOverlay()\\\">\\r\\n            <p>Background map</p>\\r\\n            <label *ngFor=\\\"let baseMap of baseMaps;let idx = index\\\" class=\\\"basemapLabel\\\">\\r\\n                <div class=\\\"basemap {{baseMap.cssClass}}\\\">\\r\\n                    <input type=\\\"radio\\\" name=\\\"baseMap\\\" [value]=\\\"baseMap.val\\\" [checked]=\\\"(idx === 0)\\\" (click)=\\\"onOverlaySelectionChange(baseMap)\\\">\\r\\n                    <span></span>{{baseMap.name}}\\r\\n                </div>\\r\\n                <br />\\r\\n            </label>\\r\\n            <p>Transparency</p>\\r\\n            <div class=\\\"opacity\\\" *ngFor=\\\"let opac of opacityArray;let idx = index;\\\" [attr.selected]=\\\"opac/100 == fillOpacity?true : null\\\">\\r\\n                <input type=\\\"radio\\\" name=\\\"opacity\\\" value=\\\"{{opac}}\\\" id=\\\"opacity_{{opac}}\\\" (click)=\\\"onOpacitySelectionChange(opac)\\\">\\r\\n                <label for=\\\"opacity_{{opac}}\\\">\\r\\n                    <span [ngStyle]=\\\"{\\r\\n                    'background-position':(opac * -4.1 + 37) + 'px 0px'}\\\"></span>\\r\\n                    {{opac}} %\\r\\n                </label>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/google-map/google-map.component.html\n// module id = ./src/app/map/google-map/google-map.component.html\n// module chunks = main","import {\r\n    Component, Input, Output, ElementRef,\r\n    ViewChild, EventEmitter, OnChanges, SimpleChanges\r\n} from '@angular/core';\r\nimport 'rxjs/rx';\r\nimport { GoogleMapService } from '../googleMap.service';\r\nimport { IndicatorService } from '../../shared/service/api/indicator.service';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport { CoreDataHelperService } from '../../shared/service/helper/coreDataHelper.service';\r\nimport {\r\n    GroupRoot, CoreDataSet, IndicatorMetadata\r\n} from '../../typings/FT.d';\r\nimport { ComparatorIds, AreaTypeIds } from '../../shared/shared';\r\nimport * as _ from 'underscore';\r\n\r\n@Component({\r\n    selector: 'ft-google-map',\r\n    templateUrl: './google-map.component.html',\r\n    styleUrls: ['./google-map.component.css'],\r\n    providers: [GoogleMapService]\r\n})\r\nexport class GoogleMapComponent implements OnChanges {\r\n    map: google.maps.Map;\r\n    @ViewChild('googleMap') mapEl: ElementRef;\r\n    @Output() mapInit = new EventEmitter();\r\n    @Output() hoverAreaCodeChanged = new EventEmitter();\r\n    @Output() selectedAreaChanged = new EventEmitter();\r\n    @Output() benchmarkChanged = new EventEmitter();\r\n    @Input() areaTypeId: number = null;\r\n    @Input() currentAreaCode: string = null;\r\n    @Input() areaCodeColour = null;\r\n    @Input() refreshColour;\r\n    @Input() isBoundaryNotSupported;\r\n    @Input() selectedAreaList;\r\n    @Input() sortedCoreData: Map<string, CoreDataSet> = null;\r\n    @Input() benchmarkIndex: number = null;\r\n\r\n    subNationalButtonClass: string;\r\n    nationalButtonClass: string;\r\n    formattedParentAreaName: string;\r\n    path = this.ftHelperService.getURL().img;\r\n    isError = false;\r\n    errorMessage: string;\r\n    showOverlay = false;\r\n    currentPolygons: google.maps.Polygon[] = [];\r\n    selectedPolygon: google.maps.Polygon = null;\r\n    boundry: geoBoundry.Boundry;\r\n    coreDataSet: CoreDataSet;\r\n    baseMaps: BaseMap[] = [\r\n        {\r\n            name: 'No background',\r\n            val: 0,\r\n            cssClass: 'None'\r\n        },\r\n        {\r\n            name: 'Streets',\r\n            val: 1,\r\n            cssClass: 'Streets'\r\n        }\r\n    ];\r\n    selectedbaseMap: BaseMap;\r\n    fillOpacity = 1.0;\r\n    opacityArray: number[] = [20, 40, 60, 80, 100];\r\n\r\n    /*purple boundry on polygon with bold border -represent that polygon is highlighted but not in a table */\r\n    purpleHighlightPolyOption: google.maps.PolygonOptions = { strokeColor: '#9D78D2', strokeWeight: 3 };\r\n    /*black boundry on polygon with bold border -represent that polygon is in table */\r\n    blackSelectedPolyOption: google.maps.PolygonOptions = { strokeColor: '#000000', strokeWeight: 3 };\r\n    /*black boundry on polygon with bolder border -represent that polygon is in table as well as highlighted */\r\n    blackHighlightPolyOption: google.maps.PolygonOptions = { strokeColor: '#000000', strokeWeight: 5 };\r\n    /* gray boundry on polygon with normal regular border */\r\n    grayPolyOption: google.maps.PolygonOptions = { strokeColor: '#333333', strokeWeight: 1 };\r\n    /*black boundry on polygon with bold border -represent that polygon is in table */\r\n    unselectedPolyOption: google.maps.PolygonOptions = { strokeColor: '#333333', strokeWeight: 1 };\r\n\r\n    constructor(private mapService: GoogleMapService,\r\n        private indicatorService: IndicatorService, private ftHelperService: FTHelperService,\r\n        private coreDataHelper: CoreDataHelperService\r\n    ) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['areaTypeId']) {\r\n            if (this.areaTypeId) {\r\n                this.loadMap();\r\n                this.loadPolygon(this.areaTypeId, this.path);\r\n            }\r\n        }\r\n        if (changes['currentAreaCode']) {\r\n            let areaCode = changes['currentAreaCode'].currentValue;\r\n            if (areaCode) {\r\n                this.highlightPolygon(this.currentAreaCode);\r\n            } else {\r\n                this.unhighlightSelectedPolygon();\r\n            }\r\n        }\r\n        if (changes['refreshColour']) {\r\n            let localRefreshColour = changes['refreshColour'].currentValue;\r\n            if (localRefreshColour !== undefined) {\r\n                if (this.areaCodeColour) {\r\n                    this.colourFillPolygon(true);\r\n                }\r\n            }\r\n        }\r\n        if (changes['selectedAreaList']) {\r\n            let localSelectedAreaList = changes['selectedAreaList'].currentValue;\r\n            if (localSelectedAreaList) {\r\n                this.removeSelectedPolygon();\r\n            }\r\n        }\r\n    }\r\n\r\n    unhighlightSelectedPolygon() {\r\n        if (this.selectedPolygon) {\r\n            this.selectedPolygon.setOptions(this.unselectedPolyOption);\r\n        }\r\n    }\r\n\r\n    removeSelectedPolygon() {\r\n        if (this.map) {\r\n            for (let i = 0; i < this.currentPolygons.length; i++) {\r\n                let areaCode = this.currentPolygons[i].get('areaCode');\r\n                if (!_.contains(this.selectedAreaList, areaCode)) {\r\n                    this.currentPolygons[i].setOptions(this.grayPolyOption);\r\n                } else {\r\n                    this.currentPolygons[i].setOptions(this.blackSelectedPolyOption);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    displayOverlay(): void {\r\n        this.showOverlay = true;\r\n    }\r\n\r\n    hideOverlay(): void {\r\n        this.showOverlay = false;\r\n    }\r\n\r\n    onOverlaySelectionChange(basemap): void {\r\n        this.selectedbaseMap = Object.assign({}, this.selectedbaseMap, basemap);\r\n        this.styleMap(this.selectedbaseMap);\r\n    }\r\n\r\n    onOpacitySelectionChange(opacity): void {\r\n        this.fillOpacity = opacity / 100;\r\n        this.loadPolygon(this.areaTypeId, this.path);\r\n    }\r\n\r\n    loadMap() {\r\n        if (!this.isBoundaryNotSupported) {\r\n            // Load from GoogleMapService and style it\r\n            const mapOptions: google.maps.MapOptions = {\r\n                zoom: 6,\r\n                disableDoubleClickZoom: false,\r\n                mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                panControl: false,\r\n                zoomControl: true,\r\n                zoomControlOptions: { position: google.maps.ControlPosition.TOP_LEFT },\r\n                scaleControl: false,\r\n                streetViewControl: false,\r\n                mapTypeControl: false,\r\n                fullscreenControl: true,\r\n                backgroundColor: 'hsla(0, 0%, 0%, 0)',\r\n            };\r\n            let mapContainer = null;\r\n            if (this.mapEl && this.mapEl.nativeElement) {\r\n                mapContainer = this.mapEl.nativeElement;\r\n            }\r\n            this.map = this.mapService.loadMap(mapContainer, mapOptions);\r\n            this.selectedbaseMap = this.baseMaps[0];\r\n            if (this.baseMaps) { // No Backgroud at the time of load\r\n                this.onOverlaySelectionChange(this.baseMaps[0]);\r\n            }\r\n            if (this.areaTypeId) {\r\n                this.loadPolygon(this.areaTypeId, this.path);\r\n            }\r\n\r\n            this.mapInit.emit({\r\n                map: this.map,\r\n            });\r\n        }\r\n    }\r\n\r\n    styleMap(selectedbaseMap: BaseMap): void {\r\n        if (this.map) {\r\n            const noTiles = 'noTiles';\r\n            let styleArrayForNoBackground: any = [];\r\n            if (selectedbaseMap.val === 0) {\r\n                const visibilityOff: any = [{ visibility: 'off' }];\r\n                styleArrayForNoBackground = [\r\n                    {\r\n                        stylers: [\r\n                            {\r\n                                color: '#ffffff',\r\n                                fillOpacity: 0.0\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        featureType: 'road',\r\n                        elementType: 'geometry',\r\n                        stylers: visibilityOff\r\n                    }, {\r\n                        featureType: 'road',\r\n                        elementType: 'labels',\r\n                        stylers: visibilityOff\r\n                    }\r\n                ];\r\n            }\r\n            this.map.setOptions({ styles: styleArrayForNoBackground });\r\n            this.map.mapTypes.set(noTiles, new NoTileMapType());\r\n            this.setMapCenter();\r\n            google.maps.event.addListener(this.map, 'idle', event => {\r\n                let bounds = this.map.getCenter();\r\n                google.maps.event.trigger(this.map, 'resize');\r\n                this.map.setCenter(bounds);\r\n            });\r\n        }\r\n    }\r\n\r\n    setMapCenter() {\r\n        if (this.map) {\r\n            const bounds = new google.maps.LatLngBounds();\r\n            const position = new google.maps.LatLng(53.415649, -2.209015);\r\n            bounds.extend(position);\r\n            this.map.setCenter(bounds.getCenter());\r\n            this.map.setZoom(6);\r\n        }\r\n    }\r\n\r\n    loadPolygon(areaTypeId: number, path: string) {\r\n        if (this.map && this.areaTypeId && !this.isBoundaryNotSupported) {\r\n            this.mapService.loadBoundries(areaTypeId, path)\r\n                .subscribe(\r\n                    data => {\r\n                        this.boundry = <geoBoundry.Boundry>data;\r\n                        this.isError = false;\r\n                        this.removePolygon();\r\n                        this.fillPolygon(this.boundry, this.fillOpacity);\r\n                        this.colourFillPolygon(true);\r\n                    },\r\n                    error => {\r\n                        this.isError = true;\r\n                        this.errorMessage = <any>error;\r\n                    });\r\n        }\r\n    }\r\n\r\n    removePolygon(): void {\r\n        if (this.currentPolygons !== undefined) {\r\n            this.currentPolygons.forEach(element => {\r\n                element.setMap(null);\r\n            });\r\n            this.currentPolygons.length = 0;\r\n        }\r\n    }\r\n\r\n    getPolygonCoordinates(coordinates): Array<Array<google.maps.LatLng>> {\r\n\r\n        let coords: Array<Array<google.maps.LatLng>> = [];\r\n        for (let i = 0; i < coordinates.length; i++) {\r\n            for (let j = 0; j < coordinates[i].length; j++) {\r\n                let path: Array<google.maps.LatLng> = [];\r\n                for (let k = 0; k < coordinates[i][j].length; k++) {\r\n                    let coord = new google.maps.LatLng(coordinates[i][j][k][1], coordinates[i][j][k][0]);\r\n                    path.push(coord);\r\n                }\r\n                coords.push(path);\r\n            }\r\n        }\r\n        return coords;\r\n    }\r\n\r\n    fillPolygon(boundry: geoBoundry.Boundry, opacity: number): any {\r\n        if (boundry.features) {\r\n\r\n            // Variables to track most recent mouseover event\r\n            let overDate = null;\r\n            let overAreaCode = null;\r\n\r\n            let infoWindow: google.maps.InfoWindow = new google.maps.InfoWindow();\r\n\r\n            for (let x = 0; x < boundry.features.length; x++) {\r\n                let areaCode = boundry.features[x].properties.AreaCode;\r\n                let coordinates = boundry.features[x].geometry.coordinates;\r\n                let coords = this.getPolygonCoordinates(coordinates);\r\n\r\n                // Set polygon fill colour\r\n                let fillColour = '#B0B0B2';\r\n                if (this.areaCodeColour && this.areaCodeColour.length > 0) {\r\n                    fillColour = this.areaCodeColour.get(areaCode);\r\n                }\r\n\r\n                let polygon = new google.maps.Polygon({\r\n                    paths: coords,\r\n                    strokeColor: '#333333',\r\n                    strokeOpacity: 0.8,\r\n                    strokeWeight: 1,\r\n                    fillColor: fillColour,\r\n                    fillOpacity: opacity,\r\n                    clickable: true\r\n                });\r\n\r\n                polygon.set('areaCode', areaCode);\r\n                polygon.setMap(this.map);\r\n\r\n                google.maps.event.addListener(polygon, 'mouseover', (event) => {\r\n\r\n                    overAreaCode = areaCode;\r\n                    overDate = new Date();\r\n\r\n                    // Display tooltip\r\n                    let tooltip = this.getToolTipContent(areaCode);\r\n                    if (tooltip) {\r\n                        infoWindow.setContent(tooltip);\r\n                        this.setInfoWindowPosition(event, infoWindow);\r\n                        infoWindow.open(this.map);\r\n                    }\r\n\r\n                    this.setPolygonBorderColour(polygon);\r\n                });\r\n\r\n                google.maps.event.addListener(polygon, 'mousemove', (event) => {\r\n                    this.setInfoWindowPosition(event, infoWindow);\r\n                });\r\n\r\n                google.maps.event.addListener(polygon, 'mouseout', (event) => {\r\n\r\n                    // Wait in case immediate mouseover event and this mouseover event was\r\n                    // caused by mouse moving over the infowindow\r\n                    setTimeout(function () {\r\n                        let time = new Date().getTime();\r\n                        if (time - overDate.getTime() > 25 && areaCode === overAreaCode) {\r\n                            infoWindow.close();\r\n                        }\r\n                    }, 25);\r\n                    this.setPolygonBorderColour(polygon);\r\n                });\r\n\r\n                google.maps.event.addListener(polygon, 'click', (event) => {\r\n                    if (this.sortedCoreData[areaCode] && this.ftHelperService.isValuePresent(this.sortedCoreData[areaCode].ValF)) {\r\n                        polygon.setOptions(this.blackSelectedPolyOption);\r\n                        this.selectedAreaChanged.emit({ areaCode: areaCode });\r\n                    }\r\n                });\r\n\r\n                this.currentPolygons.push(polygon);\r\n            }\r\n        }\r\n    }\r\n\r\n    setPolygonBorderColour(polygon) {\r\n        let currentAreaCode = polygon.get('areaCode');\r\n        if (_.contains(this.selectedAreaList, currentAreaCode)) {\r\n            polygon.setOptions(this.blackSelectedPolyOption);\r\n        } else {\r\n            polygon.setOptions(this.grayPolyOption);\r\n        }\r\n    }\r\n\r\n    setInfoWindowPosition(event, infoWindow) {\r\n        let pos: google.maps.LatLng = event.latLng;\r\n        infoWindow.setPosition(new google.maps.LatLng(pos.lat() + 0.02, pos.lng()));\r\n    }\r\n\r\n    getToolTipContent(areaCode: string): string {\r\n        this.hoverAreaCodeChanged.emit({ areaCode: areaCode });\r\n        let currentGrpRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n        let data: IndicatorMetadata = this.ftHelperService.getMetadata(currentGrpRoot.IID);\r\n        let unit = data.Unit;\r\n        let areaName = '';\r\n        if (areaCode) {\r\n            areaName = this.ftHelperService.getAreaName(areaCode);\r\n        }\r\n        let value = '';\r\n        if (unit !== undefined && this.sortedCoreData[areaCode] !== undefined\r\n            && this.ftHelperService.isValuePresent(this.sortedCoreData[areaCode].ValF)) {\r\n            value = this.sortedCoreData !== null ? '<br>' + this.coreDataHelper.valueWithUnit(unit).\r\n                getFullLabel(this.sortedCoreData[areaCode].ValF)\r\n                : '<br>-';\r\n        }\r\n        let toolTipcontent;\r\n        if (areaName !== '' || value !== '') {\r\n            toolTipcontent = '<b>' + areaName + '</b>' + value;\r\n        }\r\n        return toolTipcontent;\r\n    }\r\n\r\n    highlightPolygon(areaCode): void {\r\n        if (this.map) {\r\n            const polygon: google.maps.Polygon = _.where(this.currentPolygons, { areaCode: areaCode })[0];\r\n            if (this.selectedPolygon) {\r\n                let areaCode = this.selectedPolygon.get('areaCode');\r\n                this.selectedPolygon.setMap(null);\r\n                if (_.contains(this.selectedAreaList, areaCode)) {\r\n                    this.selectedPolygon.setOptions(this.blackSelectedPolyOption);\r\n                } else {\r\n                    this.selectedPolygon.setOptions(this.grayPolyOption);\r\n                }\r\n                this.selectedPolygon.setMap(this.map);\r\n            }\r\n\r\n            this.selectedPolygon = polygon;\r\n\r\n            if (polygon) {\r\n                polygon.setMap(null);\r\n                if (!_.contains(this.selectedAreaList, areaCode)) {\r\n                    polygon.setOptions(this.purpleHighlightPolyOption);\r\n                } else {\r\n                    polygon.setOptions(this.blackHighlightPolyOption);\r\n                }\r\n                polygon.setMap(this.map);\r\n            }\r\n        }\r\n    }\r\n\r\n    colourFillPolygon(center: boolean): void {\r\n        const parentTypeId = this.ftHelperService.getParentTypeId();\r\n        const areaTypeId = this.ftHelperService.getAreaTypeId();\r\n\r\n        if (parentTypeId !== null && parentTypeId !== undefined &&\r\n            areaTypeId !== null && areaTypeId !== undefined) {\r\n\r\n            const key = parentTypeId.toString() + \"-\" + areaTypeId.toString() + \"-\";\r\n            const areaMappings: string[] = this.ftHelperService.getAreaMappingsForParentCode(key);\r\n\r\n            if (this.map) {\r\n                let regionPolygons: Array<google.maps.Polygon> = [];\r\n                for (let i = 0; i < (this.currentPolygons.length); i++) {\r\n                    let polygon = this.currentPolygons[i];\r\n\r\n                    // Set polygon fill colour\r\n                    polygon.setMap(null);\r\n                    let areaCode = polygon.get('areaCode');\r\n                    let color = this.areaCodeColour.get(areaCode);\r\n\r\n                    // Region tab button clicked\r\n                    if (this.benchmarkIndex === ComparatorIds.SubNational &&\r\n                        areaMappings.findIndex(x => x.toString() === areaCode) === -1) {\r\n\r\n                        color = '#B0B0B2';\r\n                    }\r\n\r\n                    // Set to default color if not defined\r\n                    if (color === undefined) {\r\n                        color = '#B0B0B2';\r\n                    }\r\n\r\n                    polygon.set('fillColor', color);\r\n                    polygon.setMap(this.map);\r\n\r\n                    if (this.benchmarkIndex === ComparatorIds.SubNational &&\r\n                        areaMappings.findIndex(x => x.toString() === areaCode) !== -1) {\r\n\r\n                        let coreDataset = this.sortedCoreData[areaCode];\r\n                        if (coreDataset) {\r\n                            regionPolygons.push(polygon);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                /*if Benchmark is region, center and zoom in into that region */\r\n                if (center) {\r\n                    if (regionPolygons.length > 0 && this.benchmarkIndex !== ComparatorIds.National) {\r\n                        const bounds = new google.maps.LatLngBounds();\r\n                        for (let i = 0; i < regionPolygons.length; i++) {\r\n                            bounds.extend(this.getPolygonBounds(regionPolygons[i]).getCenter());\r\n                        }\r\n                        this.map.fitBounds(bounds);\r\n                        this.map.setCenter(bounds.getCenter());\r\n\r\n                        if (areaTypeId === AreaTypeIds.MSOA || areaTypeId === AreaTypeIds.Ward) {\r\n                            this.map.setZoom(10);\r\n                        } else {\r\n                            this.map.setZoom(7);\r\n                        }\r\n                    }\r\n                    if (this.benchmarkIndex === ComparatorIds.National) {\r\n                        this.setMapCenter();\r\n                    }\r\n                }\r\n\r\n                const parentAreaName = this.ftHelperService.getParentArea().Name;\r\n                if (parentAreaName !== undefined) {\r\n                    this.formattedParentAreaName = 'All in ' + parentAreaName;\r\n                }\r\n\r\n                setTimeout(() => {\r\n                    this.applyTabButtonStyles();\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    getPolygonBounds(polygon: google.maps.Polygon) {\r\n        let bounds = new google.maps.LatLngBounds();\r\n        polygon.getPath().forEach(function (element, index) { bounds.extend(element); });\r\n        return bounds;\r\n    }\r\n\r\n    onExportClick(event: MouseEvent) {\r\n        event.preventDefault();\r\n        let chartTitle = this.buildChartTitle();\r\n        let root = this.ftHelperService.getCurrentGroupRoot();\r\n        let indicatorName = this.ftHelperService.getMetadataHash()[root.IID].Descriptive.Name +\r\n            this.ftHelperService.getSexAndAgeLabel(root);\r\n\r\n        // Define html to display the title\r\n        let title = '<b>Map of ' + this.ftHelperService.getAreaTypeName() +\r\n            's in ' + this.ftHelperService.getCurrentComparator().Name +\r\n            ' for ' + indicatorName + '<br/> (' + chartTitle + ')</b>';\r\n\r\n        // Define script to hide the zoom in, zoom out and full screen buttons\r\n        let script = '<script>$(\".gmnoprint\").hide(); $(\".gm-fullscreen-control\").hide();</script>';\r\n\r\n        // Inject both the title html and button hide script\r\n        $('<div id=\"map-export-title\" style=\"text-align: center; font-family:Arial;\">' +\r\n            title + script + '</div>').appendTo(this.mapEl.nativeElement);\r\n\r\n        // Download as image\r\n        this.ftHelperService.saveElementAsImage(this.mapEl.nativeElement, 'Map');\r\n\r\n        // Define script to show the zoom in, zoom out and full screen buttons\r\n        script = '<script>$(\".gmnoprint\").show(); $(\".gm-fullscreen-control\").show();</script>';\r\n\r\n        // Inject button show script\r\n        $('<div id=\"show-buttons\">' + script + '</div>').appendTo(this.mapEl.nativeElement);\r\n\r\n        // Remove the injected html and scripts\r\n        $('#map-export-title').remove();\r\n        $('#show-buttons').remove();\r\n\r\n        // Log export image event\r\n        this.ftHelperService.logEvent('ExportImage', 'Map');\r\n    }\r\n\r\n    onExportCsvFileClick(event: MouseEvent) {\r\n        alert('It works!');\r\n    }\r\n\r\n    buildChartTitle(): string {\r\n        const currentGrpRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n        const data: IndicatorMetadata = this.ftHelperService.getMetadata(currentGrpRoot.IID);\r\n        const unit = data.Unit;\r\n        const unitLabel = (typeof unit.Label !== 'undefined') ? unit.Label : '';\r\n        const period: string = currentGrpRoot.Grouping[0].Period;\r\n        return data.ValueType.Name + ' - ' + unitLabel + ' ' + period;\r\n    }\r\n\r\n    setBenchMark(benchmarkIndex) {\r\n        this.benchmarkIndex = benchmarkIndex;\r\n        this.benchmarkChanged.emit({ benchmarkIndex: benchmarkIndex });\r\n        return false;\r\n    }\r\n\r\n    applyTabButtonStyles() {\r\n        if (this.ftHelperService.getParentTypeId() === AreaTypeIds.Country) {\r\n            this.nationalButtonClass = 'button-selected';\r\n            this.subNationalButtonClass = 'hidden';\r\n        } else if (this.benchmarkIndex === undefined || this.benchmarkIndex === ComparatorIds.National) {\r\n            this.nationalButtonClass = 'button-selected';\r\n            this.subNationalButtonClass = '';\r\n        } else {\r\n            this.nationalButtonClass = '';\r\n            this.subNationalButtonClass = 'button-selected';\r\n        }\r\n    }\r\n}\r\n\r\nexport class NoTileMapType implements google.maps.MapType {\r\n    tileSize = new google.maps.Size(1024, 1024);\r\n    maxZoom = 20;\r\n    getTile(tileCoord: google.maps.Point, zoom: number, ownerDocument: Document): Element {\r\n        return ownerDocument.createElement('div');\r\n    }\r\n    releaseTile(tile: Element): void {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n}\r\n\r\nexport interface BaseMap {\r\n    name: string; val: number; cssClass: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/google-map/google-map.component.ts","import { Injectable, ElementRef, EventEmitter } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport 'rxjs/rx';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { FTModel, FTRoot } from '../typings/FT.d';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\n\r\n\r\n@Injectable()\r\nexport class GoogleMapService {\r\n  isLoaded = new EventEmitter();\r\n  map: google.maps.Map;\r\n\r\n  constructor(private http: Http, private ftHelperservice: FTHelperService) { }\r\n\r\n  loadMap(mapDiv: Element, mapOptions: google.maps.MapOptions): google.maps.Map {\r\n    this.map = null;\r\n    if (mapDiv != null) {\r\n      this.map = new google.maps.Map(mapDiv, mapOptions);\r\n    }\r\n    return this.map;\r\n  }\r\n\r\n  loadBoundries(areaTypeId: number, path: string): any {\r\n    const baseUrl: string = path + 'maps/' + areaTypeId + '/geojson/boundaries.js';\r\n    return this.http.get(baseUrl).map(res => res.json()).catch(this.handleError);\r\n  }\r\n\r\n  private handleError(error: any) {\r\n    const errorMessage: string = 'Unsupported map type. Maps are not available for this area type.';\r\n    return Observable.throw(errorMessage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/googleMap.service.ts","module.exports = \".chartClass{\\r\\n    height: 242px;\\r\\n\\twidth: 490px;\\r\\n\\tmargin-left: 10px;\\r\\n    float: left;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map-chart/map-chart.component.css\n// module id = ./src/app/map/map-chart/map-chart.component.css\n// module chunks = main","module.exports = \"<span class=\\\"export-chart-box\\\" style=\\\"margin-left: 11px;float: left\\\">\\r\\n    <a class=\\\"export-link\\\" (click)=\\\"onExportClick($event)\\\">Export chart as image</a>\\r\\n</span>\\r\\n<div #mapChart class=\\\"chartClass\\\"></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map-chart/map-chart.component.html\n// module id = ./src/app/map/map-chart/map-chart.component.html\n// module chunks = main","import { Component, ElementRef, ViewChild, Input, Output, SimpleChanges, OnChanges, EventEmitter } from '@angular/core';\r\nimport {\r\n    FTModel, FTRoot, Area, GroupRoot, CoreDataSet, CoreDataHelper, Unit, ValueWithUnit, ValueNote,\r\n    IndicatorMetadataHash, IndicatorMetadata\r\n} from '../../typings/FT.d';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport { CoreDataHelperService } from '../../shared/service/helper/coreDataHelper.service';\r\nimport { AreaCodes } from '../../shared/shared'\r\nimport * as Highcharts from 'highcharts';\r\nrequire('highcharts/modules/exporting')(Highcharts);\r\nrequire('highcharts/highcharts-more')(Highcharts);\r\nimport * as _ from 'underscore';\r\n\r\n@Component({\r\n    selector: 'ft-map-chart',\r\n    templateUrl: './map-chart.component.html',\r\n    styleUrls: ['./map-chart.component.css']\r\n})\r\nexport class MapChartComponent implements OnChanges {\r\n    @ViewChild('mapChart') public chartEl: ElementRef;\r\n    @Input() sortedCoreData: Map<string, CoreDataSet> = null;\r\n    @Input() areaTypeId: number = null;\r\n    @Input() currentAreaCode = null;\r\n    @Input() areaCodeColour = null;\r\n    @Input() isBoundaryNotSupported;\r\n    @Output() selectedAreaCodeChanged = new EventEmitter();\r\n    chart: Highcharts.ChartObject;\r\n    chartData: { color: String, x: number, key: string, y: number }[] = [];\r\n    @Output() hoverAreaCodeChanged = new EventEmitter();\r\n    constructor(private ftHelperService: FTHelperService,\r\n        private coreDataHelperService: CoreDataHelperService) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n\r\n        if (changes['isBoundaryNotSupported']) {\r\n            let localBoundryNotSupported = changes['isBoundaryNotSupported'].currentValue;\r\n            if (localBoundryNotSupported !== undefined) {\r\n                if (localBoundryNotSupported) {\r\n                    this.chartData = [];\r\n                }\r\n            }\r\n        }\r\n        if (changes['sortedCoreData']) {\r\n            let sortedataChange = changes['sortedCoreData'].currentValue;\r\n            if (sortedataChange) {\r\n                this.loadHighChart(sortedataChange);\r\n            }\r\n        }\r\n        if (changes['currentAreaCode']) {\r\n            let currentAreaCode = changes['currentAreaCode'].currentValue;\r\n            if (currentAreaCode) {\r\n                this.highlightArea(currentAreaCode);\r\n            }\r\n        }\r\n        if (changes['areaCodeColour']) {\r\n            let areaCodeColour = changes['areaCodeColour'].currentValue;\r\n            if (areaCodeColour) {\r\n                if (this.sortedCoreData) {\r\n                    this.loadHighChart(this.sortedCoreData);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    loadHighChart(sortedata: Map<string, CoreDataSet>) {\r\n\r\n        let xVal = 0;\r\n        let xAxisCategories: {\r\n            AreaName: String, ValF: string, LoCIF: string,\r\n            UpCIF: string, AreaCode: string, NoteId: number\r\n        }[] = [];\r\n        let errorData = [];\r\n        this.chartData = [];\r\n        let regionValues = [];\r\n        const x: number = 0;\r\n        let currentGrpRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n        let unit = this.ftHelperService.getMetadata(currentGrpRoot.IID).Unit;\r\n        let valuesForBarChart: any[] = [];\r\n        let extraTooltip = '';\r\n\r\n        Object.keys(sortedata).forEach(key => {\r\n            let value: CoreDataSet = sortedata[key];\r\n            let colour = null;\r\n            if (this.areaCodeColour) {\r\n                colour = this.areaCodeColour.get(key);\r\n            }\r\n            if (value.ValF !== '-') {\r\n                valuesForBarChart.push({\r\n                    Colour: colour\r\n                    , AreaCode: value.AreaCode\r\n                    , Val: value.Val\r\n                    , LCI: value.LoCI\r\n                    , UCI: value.UpCI\r\n                    , ValF: value.ValF\r\n                    , LoCIF: value.LoCIF\r\n                    , UpCIF: value.UpCIF\r\n                    , NoteId: value.NoteId\r\n                });\r\n            }\r\n        });\r\n\r\n        valuesForBarChart.sort((leftside, righside): number => {\r\n            if (leftside.Val < righside.Val) { return -1; }\r\n            if (leftside.Val > righside.Val) { return 1; }\r\n            return 0;\r\n        });\r\n\r\n        for (let value of valuesForBarChart) {\r\n            this.chartData.push({ color: value.Colour, x: xVal, key: value.AreaCode, y: value.Val });\r\n            xVal++;\r\n\r\n            let areaName = this.ftHelperService.getAreaName(value.AreaCode);\r\n            xAxisCategories.push({\r\n                AreaName: areaName, ValF: value.ValF, LoCIF: value.LoCIF,\r\n                UpCIF: value.UpCIF, AreaCode: value.AreaCode, NoteId: value.NoteId\r\n            });\r\n\r\n            errorData.push([value.LoCI, value.UpCI]);\r\n        }\r\n        let series: any[] /*Highcharts.IndividualSeriesOptions[]*/ = [\r\n            {\r\n                type: 'column',\r\n                name: 'Value',\r\n                data: this.chartData\r\n            }\r\n            ,\r\n            {\r\n                type: 'errorbar',\r\n                name: 'My Errors',\r\n                data: errorData,\r\n                zIndex: 1000,\r\n                color: '#666666'\r\n            }\r\n        ];\r\n\r\n        const comparatorName: string = this.ftHelperService.getCurrentComparator().Name;\r\n        const valueWithUnit: ValueWithUnit = this.coreDataHelperService.valueWithUnit(unit);\r\n        for (let grouping of currentGrpRoot.Grouping) {\r\n\r\n            if (grouping.ComparatorData.ValF === '-') { continue; }\r\n            let valF = grouping.ComparatorData.ValF;\r\n            let val = grouping.ComparatorData.Val;\r\n\r\n            if (grouping.ComparatorId === 4 && grouping.ComparatorData.AreaCode === AreaCodes.England) {\r\n                // England data\r\n                regionValues[series.length] = valF;\r\n                series.push({\r\n                    type: 'line',\r\n                    name: 'England',\r\n                    color: '#333333',\r\n                    data: [[0, val], [xVal - 1, val]]\r\n                });\r\n                extraTooltip += '<br>England: ' + valueWithUnit.getFullLabel(valF);\r\n            } else if (grouping.ComparatorId !== 4 && grouping.ComparatorId === this.ftHelperService.getComparatorId()) {\r\n                // Subnational data\r\n                regionValues[series.length] = valF;\r\n                series.push({\r\n                    type: 'line',\r\n                    name: comparatorName,\r\n                    data: [[0, val], [xVal - 1, val]],\r\n                    color: '#0000FF'\r\n                });\r\n                extraTooltip += '<br>' + comparatorName + ': ' + valueWithUnit.getFullLabel(valF);\r\n            }\r\n        }\r\n        let yAxis = {\r\n            labels: {\r\n                formatter: function () {\r\n                    return this.value;\r\n                },\r\n                style: {\r\n                    color: '#999999'\r\n                }\r\n            },\r\n            title: {\r\n                text: ''\r\n            }\r\n        };\r\n        const chartTitle: string = this.buildChartTitle();\r\n        let valueNotes: Array<ValueNote> = [] = this.ftHelperService.getValueNotes();\r\n        let areaCodeChanged = this.hoverAreaCodeChanged;\r\n        let _thisLocal = this;\r\n\r\n        // Locals for events\r\n        let unhighlightArea = this.unhighlightArea;\r\n        let chartData = this.chartData;\r\n\r\n        const chartOptions: any /*Highcharts.Options*/ = {\r\n            title: {\r\n                text: chartTitle\r\n            },\r\n            credits: false,\r\n            legend: {\r\n                enabled: true,\r\n                layout: 'vertical',\r\n                borderWidth: 0\r\n            },\r\n            xAxis: {\r\n                labels: { enabled: false },\r\n                tickLength: 0\r\n            },\r\n            yAxis: yAxis,\r\n            tooltip: {\r\n                shared: false,\r\n                formatter: function () {\r\n                    if (this.series.type === 'line') {\r\n                        return '<b>' + this.series.name + '</b><br />'\r\n                            + valueWithUnit.getFullLabel(regionValues[this.series.index]);\r\n                    }\r\n                    let data = xAxisCategories[this.x];\r\n\r\n                    _thisLocal.hoverAreaCodeChanged.emit({ areaCode: data.AreaCode });\r\n                    let s = '<b>' + data.AreaName + '</b>';\r\n                    s += '<br>' + valueWithUnit.getFullLabel(data.ValF);\r\n\r\n                    if (data.NoteId !== undefined) {\r\n                        s += '<br><em>' + valueNotes[data.NoteId].Text + '</em>';\r\n                    }\r\n\r\n                    if (data.LoCIF !== undefined) {\r\n                        s += '<br>LCI: ' + valueWithUnit.getFullLabel(data.LoCIF);\r\n                    }\r\n                    if (data.UpCIF !== undefined) {\r\n                        s += '<br>UCI: ' + valueWithUnit.getFullLabel(data.UpCIF);\r\n                    }\r\n\r\n                    s += '<br>Rank: ' + (this.x + 1);\r\n\r\n                    s += extraTooltip;\r\n\r\n                    return s;\r\n                }\r\n            },\r\n            plotOptions: {\r\n                column: {\r\n                    pointPadding: 0,\r\n                    showInLegend: false,\r\n                    animation: false,\r\n                    borderWidth: 0,\r\n                    groupPadding: 0,\r\n                    pointWidth: 470 / this.chartData.length, // width calculated to avoid white lines in the chart\r\n                    shadow: false,\r\n                    states: {\r\n                        hover:\r\n                        {\r\n                            brightness: 0,\r\n                            color: '#000000',\r\n                        }\r\n                    },\r\n                    point: {\r\n                        events: {\r\n                            mouseOut: function (e) {\r\n                                let areaCode = this.options.key;\r\n                                _thisLocal.hoverAreaCodeChanged.emit({ areaCode: null });\r\n                                unhighlightArea(chart, chartData, areaCode);\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                line: {\r\n                    animation: false,\r\n                    marker: {\r\n                        enabled: false,\r\n                    },\r\n                    states: {\r\n                        hover: {\r\n                            lineWidth: 0,\r\n                            marker:\r\n                            {\r\n                                enabled: false,\r\n                                symbol: 'x'\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                errorbar: {\r\n                    animation: false\r\n                }\r\n            },\r\n            exporting: {\r\n                enabled: false,\r\n                chartOptions: {\r\n                    title: {\r\n                        text: ''\r\n                    }\r\n                }\r\n            },\r\n            series: series\r\n        };\r\n\r\n        let chartContainer = null;\r\n        if (this.chartEl && this.chartEl.nativeElement) {\r\n            chartContainer = this.chartEl.nativeElement;\r\n        }\r\n        this.chart = new Highcharts.Chart(chartContainer, chartOptions);\r\n        let chart = this.chart;\r\n    }\r\n\r\n    highlightArea(areaCode: string): void {\r\n        if (this.chart && this.chartData != null) {\r\n            let data = _.where(this.chartData, { key: areaCode })[0];\r\n            if (data !== undefined) {\r\n                this.chart.series[0].data[data.x].select(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    unhighlightArea(chart: Highcharts.ChartObject,\r\n        chartData: any, areaCode: string): void {\r\n        if (chart && chartData != null) {\r\n            let data = _.where(chartData, { key: areaCode })[0];\r\n            if (data !== undefined) {\r\n                chart.series[0].data[data['x']].select(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    onExportClick(event: MouseEvent) {\r\n        let title = this.buildChartTitle();\r\n        if (this.chart) {\r\n            this.chart.exportChart({ type: 'image/png' }, {\r\n                chart: {\r\n                    spacingTop: 70,\r\n                    height: 312,\r\n                    width: 490,\r\n                    events: {\r\n                        load: function () {\r\n                            this.renderer.text(title, 250, 15)\r\n                                .attr({\r\n                                    align: 'center'\r\n                                })\r\n                                .css({\r\n                                    color: '#333',\r\n                                    fontSize: '10px',\r\n                                    width: '450px'\r\n                                })\r\n                                .add();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.ftHelperService.logEvent('ExportImage', 'MapBarChart');\r\n        }\r\n    }\r\n    buildChartTitle(): string {\r\n        const currentGrpRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n        const data: IndicatorMetadata = this.ftHelperService.getMetadata(currentGrpRoot.IID);\r\n        const unit = data.Unit;\r\n        const unitLabel = (typeof unit.Label !== 'undefined') ? unit.Label : '';\r\n        const period: string = currentGrpRoot.Grouping[0].Period;\r\n        return data.ValueType.Name + ' - ' + unitLabel + ' ' + period;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map-chart/map-chart.component.ts","module.exports = \"table {\\r\\n    width: 100%;\\r\\n    border: 1px solid #ccc;\\r\\n    padding: 0;\\r\\n    border-collapse: separate;\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n\\r\\n/* Table header */\\r\\n\\r\\n\\r\\nth {\\r\\n    font-weight: normal;\\r\\n    text-align: right;\\r\\n    padding-right: 10px;\\r\\n    background-color: #EEEEEE;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\ntr th:first-child {\\r\\n    text-align: left;\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Table body */\\r\\n\\r\\n\\r\\ntd {\\r\\n    font-weight: normal;\\r\\n    color: #999;\\r\\n    padding-right: 10px;\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n\\r\\ntd.value-note-symbol {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    display: block;\\r\\n    cursor: default;\\r\\n}\\r\\n\\r\\n\\r\\ntr td:first-child {\\r\\n    padding-left: 5px;\\r\\n    border-left-width: 5px;\\r\\n    border-left-style: solid;\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n\\r\\ntr.hover td:first-child {\\r\\n    border-left-style: solid;\\r\\n}\\r\\n\\r\\n\\r\\ntr.selected td {\\r\\n    background-color: aliceblue;\\r\\n    font-weight: bold;\\r\\n    font-style: italic;\\r\\n    cursor: pointer;\\r\\n    border: 1px solid gainsboro;\\r\\n}\\r\\n\\r\\n\\r\\n.rowHover {\\r\\n    background-color: lavender;\\r\\n    cursor: pointer;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map-table/map-table.component.css\n// module id = ./src/app/map/map-table/map-table.component.css\n// module chunks = main","module.exports = \"<table *ngIf=\\\"selectedCoreData?.length > 0\\\" #maptable>\\r\\n    <thead>\\r\\n        <tr>\\r\\n            <th (click)=\\\"sortByAreaName()\\\" style=\\\"text-align:left\\\">Area</th>\\r\\n            <th (click)=\\\"sortByCount()\\\">Count</th>\\r\\n            <th (click)=\\\"sortByValue()\\\">Value</th>\\r\\n            <th>LCI</th>\\r\\n            <th>UCI</th>\\r\\n        </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n        <tr *ngFor=\\\"let item of selectedCoreData\\\" (mouseover)=\\\"onRowMouseOver($event)\\\" (mouseout)=\\\"onRowMouseLeave($event)\\\" [attr.areaCode]=\\\"item.areaCode\\\" [class.rowHover]=\\\"rowMouseHovered\\\" (click)=\\\"onRowClick($event)\\\">\\r\\n            <td [ngStyle]=\\\"{'border-left-color': item.colour}\\\">{{item.areaName}}</td>\\r\\n            <td>{{item.formattedCount}}</td>\\r\\n            <td [ngClass]=\\\"{'hasNote value-note-symbol': item.isNote}\\\" [attr.data-NoteId]=\\\"item.isNote?item.noteId:null\\\" (mouseenter)=\\\"onMouseEnter($event)\\\" (mousemove)=\\\"onMouseMove($event)\\\" (mouseleave)=\\\"onMouseLeave($event)\\\" innerHTML=\\\"{{item.formattedValue}}\\\">\\r\\n                <div style=\\\"display:inline\\\" *ngIf=\\\"item.isNote\\\">*</div>\\r\\n            </td>\\r\\n            <td>\\r\\n                <div innerHTML=\\\"{{item.loCI}}\\\"></div>\\r\\n            </td>\\r\\n            <td>\\r\\n                <div innerHTML=\\\"{{item.upCI}}\\\"></div>\\r\\n            </td>\\r\\n        </tr>\\r\\n    </tbody>\\r\\n</table>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map-table/map-table.component.html\n// module id = ./src/app/map/map-table/map-table.component.html\n// module chunks = main","import {\r\n  Component, OnInit, Input, Output, SimpleChanges, OnChanges,\r\n  EventEmitter, DoCheck, KeyValueDiffers, ChangeDetectorRef, ChangeDetectionStrategy, AfterViewChecked\r\n  , ViewChild, ElementRef, AfterViewInit\r\n} from '@angular/core';\r\nimport {\r\n  FTModel, FTRoot, Area, GroupRoot, CoreDataSet, CoreDataHelper, Unit, ValueWithUnit, ValueNote, ValueDisplayer,\r\n  IndicatorMetadataHash, IndicatorMetadata, CoreDataSetInfo,\r\n  ValueNoteTooltipProvider, TooltipManager\r\n} from '../../typings/FT.d';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport * as _ from 'underscore';\r\ndeclare let $: JQueryStatic;\r\n\r\n@Component({\r\n  selector: 'ft-map-table',\r\n  templateUrl: './map-table.component.html',\r\n  styleUrls: ['./map-table.component.css']\r\n})\r\nexport class MapTableComponent {\r\n  @ViewChild('maptable') el: ElementRef;\r\n  @Input() sortedCoreData: Map<string, CoreDataSet> = null;\r\n  @Input() areaTypeId: number = null;\r\n  @Input() selectedAreaList;\r\n  @Input() areaCodeColour = null;\r\n  @Input() isBoundaryNotSupported;\r\n  @Output() hoverAreaCodeChanged = new EventEmitter();\r\n  @Output() selectedAreaChanged = new EventEmitter();\r\n  tooltip: TooltipManager;\r\n  selectedCoreData: {\r\n    val: string, count: any, countNum: number, upCI: string, loCI: string,\r\n    isNote: boolean, noteId: number, areaName: string, areaCode: string, colour: string\r\n  }[] = [];\r\n  currentAreaList: Array<Area> = [];\r\n\r\n  constructor(private ftHelperService: FTHelperService, private ref: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n\r\n    if (changes['isBoundaryNotSupported']) {\r\n      let localBoundryNotSupported = changes['isBoundaryNotSupported'].currentValue;\r\n      if (localBoundryNotSupported !== undefined) {\r\n        if (localBoundryNotSupported) {\r\n          this.selectedCoreData = [];\r\n        }\r\n      }\r\n    }\r\n    if (changes['areaTypeId'] || changes['selectedAreaList'] || changes['areaCodeColour']) {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  onMouseEnter(event: MouseEvent): void {\r\n    let noteId = event.srcElement.attributes.getNamedItem('data-NoteId');\r\n    if (noteId) {\r\n      let tooltipPrvdr: ValueNoteTooltipProvider = this.ftHelperService.newValueNoteTooltipProvider();\r\n      let html = tooltipPrvdr.getHtmlFromNoteId(noteId.value);\r\n      this.tooltip = this.ftHelperService.newTooltipManager();\r\n      this.tooltip.setHtml(html);\r\n      this.tooltip.positionXY(event.pageX + 10, event.pageY + 15);\r\n      this.tooltip.showOnly();\r\n    }\r\n  }\r\n\r\n  onMouseMove(event: MouseEvent): void {\r\n    if (!_.isUndefined(this.tooltip)) {\r\n      this.tooltip.positionXY(event.pageX + 10, event.pageY + 15);\r\n    }\r\n  }\r\n\r\n  onMouseLeave(event: MouseEvent): void {\r\n    if (!_.isUndefined(this.tooltip)) {\r\n      this.tooltip.hide();\r\n    }\r\n  }\r\n\r\n  onRowMouseOver(event: MouseEvent): void {\r\n    let areaCode = this.getAreaCode(event);\r\n    this.hoverAreaCodeChanged.emit({ areaCode: areaCode });\r\n    let row = this.getRow(event.srcElement);\r\n    this.clearRowHovers();\r\n    $(row).addClass('rowHover');\r\n  }\r\n\r\n  onRowMouseLeave(event: MouseEvent): void {\r\n    this.clearRowHovers();\r\n  }\r\n\r\n  onRowClick(event: MouseEvent): void {\r\n    let areaCode = this.getAreaCode(event);\r\n    if (areaCode !== null) {\r\n      // Remove core data\r\n      for (let i = 0; i < this.selectedCoreData.length; i++) {\r\n        if (this.selectedCoreData[i].areaCode === areaCode) {\r\n          this.selectedCoreData.splice(i, 1);\r\n        }\r\n      }\r\n      this.selectedCoreData = this.selectedCoreData.slice();\r\n      this.selectedAreaChanged.emit({ areaCode: areaCode });\r\n      this.ref.detectChanges();\r\n      this.clearRowHovers();\r\n    }\r\n  }\r\n\r\n  getRow(element: Element) {\r\n    while (element.tagName !== 'TR') {\r\n      element = element.parentElement;\r\n    }\r\n    return element;\r\n  }\r\n\r\n  clearRowHovers(): void {\r\n    $('.rowHover').removeClass('rowHover');\r\n  }\r\n\r\n  getAreaCode(event: MouseEvent): string {\r\n    let areaCodeProp = 'areaCode';\r\n    let areaCode = event.srcElement.attributes.getNamedItem(areaCodeProp);\r\n    if (areaCode === null) {\r\n      areaCode = event.srcElement.parentElement.attributes.getNamedItem(areaCodeProp);\r\n      if (areaCode === null) {\r\n        areaCode = event.srcElement.parentElement.parentElement.attributes.getNamedItem(areaCodeProp);\r\n      }\r\n    }\r\n    return areaCode != null ? areaCode.value : null;\r\n  }\r\n\r\n  loadData() {\r\n\r\n    let newData = [];\r\n\r\n    this.selectedAreaList.forEach(areaCode => {\r\n\r\n      let valueDisplayer: ValueDisplayer = this.ftHelperService.newValueDisplayer(null);\r\n      let coreDataSet: CoreDataSet = this.sortedCoreData[areaCode];\r\n      let coreDatasetInfo: CoreDataSetInfo = this.ftHelperService.newCoreDataSetInfo(coreDataSet);\r\n\r\n      // Set up data view model\r\n      let areaName = this.ftHelperService.getAreaName(areaCode);\r\n      let isNote: boolean = coreDatasetInfo.isNote();\r\n      let noteId: number = coreDatasetInfo.getNoteId();\r\n      let formattedCount = coreDatasetInfo.isCount() ? this.ftHelperService.newCommaNumber(coreDataSet.Count).rounded() : '-';\r\n      let formattedValue: string = valueDisplayer.byNumberString(coreDataSet.ValF);\r\n      let loCI = valueDisplayer.byNumberString(coreDataSet.LoCIF);\r\n      let upCI = valueDisplayer.byNumberString(coreDataSet.UpCIF);\r\n      let colour = this.areaCodeColour ? this.areaCodeColour.get(areaCode) : '#B0B0B2';\r\n\r\n      newData.push({\r\n        areaName: areaName, areaCode: areaCode,\r\n        isNote: isNote,\r\n        val: coreDataSet.Val,\r\n        formattedValue: formattedValue,\r\n        count: coreDataSet.Count,\r\n        formattedCount: formattedCount,\r\n        loCI: loCI, upCI: upCI,\r\n        noteId: noteId, colour: colour\r\n      });\r\n    });\r\n\r\n    this.selectedCoreData = newData;\r\n  }\r\n\r\n  sortByCount() {\r\n    this.sort('count');\r\n  }\r\n\r\n  sortByValue() {\r\n    this.sort('val');\r\n  }\r\n\r\n  sortByAreaName() {\r\n    this.sort('areaName');\r\n  }\r\n\r\n  sort(prop) {\r\n    this.selectedCoreData = _.sortBy(this.selectedCoreData, prop);\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  loadAreaList() {\r\n    this.currentAreaList = [];\r\n    this.currentAreaList = this.ftHelperService.getAreaList();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map-table/map-table.component.ts","module.exports = \"#maps_info {\\r\\n    margin-left: 10px;\\r\\n    margin-bottom: 10px;\\r\\n    width: 490px;\\r\\n    height: 350px;\\r\\n    float: left;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n#key-ad-hoc {\\r\\n    position: relative;\\r\\n    height: 50px;\\r\\n}\\r\\n\\r\\n#map_colour_box {\\r\\n    border: 1px solid #CCC;\\r\\n    background-color: #EEE;\\r\\n    padding: 5px 10px;\\r\\n    margin-top: 10px;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n#boundryNotSupported {\\r\\n    width:100%; \\r\\n    height:400px;\\r\\n    padding-top:190px; \\r\\n    text-align:center;\\r\\n    font-size:17px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.css\n// module id = ./src/app/map/map.component.css\n// module chunks = main","module.exports = \"<div id=\\\"map-container\\\" class=\\\"standard-width clearfix\\\" [style.display]=\\\"searchMode ? 'block' : 'none'\\\">\\r\\n    <div [hidden]=\\\"isBoundaryNotSupported\\\">\\r\\n        <div *ngIf=\\\"isInitialised\\\">\\r\\n            <div *ngIf=\\\"!IsPracticeAreaType\\\">\\r\\n                <div id=\\\"key-ad-hoc\\\" class=\\\"key-container\\\" *ngIf=\\\"showAdhocKey\\\" [innerHtml]=\\\"htmlAdhocKey\\\" style=\\\"display: block;overflow: hidden;\\\"></div>\\r\\n                <ft-legend [pageType]=\\\"pageType\\\" [showRAG3]=\\\"showRAG3\\\" [showRAG5]=\\\"showRAG5\\\" [showBOB]=\\\"showBOB\\\"\\r\\n                    [showQuartiles]=\\\"showQuartiles\\\" [showQuintilesRAG]=\\\"showQuintilesRAG\\\" [showQuintilesBOB]=\\\"showQuintilesBOB\\\"\\r\\n                    [showContinuous]=\\\"showContinuous\\\"></ft-legend>\\r\\n                <br>\\r\\n                <ft-google-map (mapInit)=\\\"onMapInit($event)\\\" [areaTypeId]=\\\"areaTypeId\\\" [sortedCoreData]=\\\"sortedCoreData\\\"\\r\\n                    [currentAreaCode]=\\\"currentAreaCode\\\" [areaCodeColour]=\\\"areaCodeColour\\\" [refreshColour]=\\\"refreshColour\\\"\\r\\n                    (hoverAreaCodeChanged)=\\\"onhoverAreaCodeChangedMap($event)\\\" (selectedAreaChanged)=\\\"onSelectedAreaChanged($event)\\\"\\r\\n                    (benchmarkChanged)=\\\"OnBenchMarkIndexChanged($event)\\\" [isBoundaryNotSupported]=\\\"isBoundaryNotSupported\\\"\\r\\n                    [selectedAreaList]=\\\"selectedAreaList\\\" [benchmarkIndex]=\\\"benchmarkIndex\\\">\\r\\n                </ft-google-map>\\r\\n                <div id=\\\"maps_info\\\">\\r\\n                    <div id='map_colour_box'>Map colour&nbsp;\\r\\n                        <select id='map_colour' (change)=\\\"onMapColourBoxChange($event.target.value)\\\" [(ngModel)]=\\\"mapColourSelectedValue\\\">\\r\\n                            <option value='benchmark'>Comparison to benchmark</option>\\r\\n                            <option value='quartile'>Quartiles</option>\\r\\n                            <option value='quintile'>Quintiles</option>\\r\\n                            <option value='continuous'>Continuous</option>\\r\\n                        </select>\\r\\n                    </div>\\r\\n                    <ft-map-table [areaTypeId]=\\\"areaTypeId\\\" [sortedCoreData]=\\\"sortedCoreData\\\" [selectedAreaList]=\\\"selectedAreaList\\\"\\r\\n                        [areaCodeColour]=\\\"areaCodeColour\\\" [isBoundaryNotSupported]=\\\"isBoundaryNotSupported\\\"\\r\\n                        (hoverAreaCodeChanged)=\\\"onhoverAreaCodeChangedData($event)\\\" (selectedAreaChanged)=\\\"onSelectedAreaChanged($event)\\\"></ft-map-table>\\r\\n                </div>\\r\\n                <ft-map-chart [areaTypeId]=\\\"areaTypeId\\\" [sortedCoreData]=\\\"sortedCoreData\\\" [currentAreaCode]=\\\"currentAreaCode\\\"\\r\\n                    [isBoundaryNotSupported]=\\\"isBoundaryNotSupported\\\" [areaCodeColour]=\\\"areaCodeColour\\\"\\r\\n                    (selectedAreaCodeChanged)=\\\"onSelectedAreaCodeChanged($event)\\\" (hoverAreaCodeChanged)=\\\"onhoverAreaCodeChangedChart($event)\\\"></ft-map-chart>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"IsPracticeAreaType\\\">\\r\\n                <ft-practice-search [IsMapUpdateRequired]=\\\"updateMap\\\" [searchMode]=\\\"searchMode\\\" #practiceSearch></ft-practice-search>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div [hidden]=\\\"!isBoundaryNotSupported\\\" id=\\\"boundryNotSupported\\\">\\r\\n        Maps are not available for this area type\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.html\n// module id = ./src/app/map/map.component.html\n// module chunks = main","import {\r\n  Component,\r\n  HostListener,\r\n  ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport { IndicatorService } from '../shared/service/api/indicator.service';\r\nimport { CoreDataHelperService } from '../shared/service/helper/coreDataHelper.service';\r\nimport { AreaService } from '../shared/service/api/area.service';\r\nimport {\r\n  Colour,\r\n  AreaTypeIds,\r\n  ProfileIds,\r\n  ComparatorMethodIds,\r\n  PolarityIds,\r\n  ComparatorIds\r\n} from '../shared/shared';\r\nimport {\r\n  FTModel,\r\n  FTRoot,\r\n  Area,\r\n  GroupRoot,\r\n  CoreDataSet,\r\n  IndicatorMetadata,\r\n  ComparisonConfig,\r\n  ParentAreaType\r\n} from '../typings/FT.d';\r\nimport * as _ from 'underscore';\r\nimport { PageType } from 'app/shared/component/legend/legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.css']\r\n})\r\nexport class MapComponent {\r\n  isInitialised = false;\r\n  map: google.maps.Map;\r\n  areaTypeId: number = null;\r\n  coreDataSet: CoreDataSet;\r\n  sortedCoreData: Map<string, CoreDataSet>;\r\n  currentAreaCode: string;\r\n  counter: number;\r\n\r\n  // Legend display flags\r\n  pageType = PageType.Map;\r\n  showRAG3 = false;\r\n  showRAG5 = false;\r\n  showBOB = false;\r\n  showQuartiles = false;\r\n  showQuintilesRAG = false;\r\n  showQuintilesBOB = false;\r\n  showContinuous = false;\r\n  showAdhocKey = false;\r\n\r\n  selectedAreaList: Array<string> = new Array<string>();\r\n  areaCodeSignificance: Map<string, number> = new Map();\r\n  nationalArea: Map<string, Area> = new Map();\r\n  comparisonConfig: ComparisonConfig;\r\n  areaCodeColour: Map<string, string> = new Map();\r\n  areaCodeColourValue: Map<string, MapColourData> = new Map();\r\n  refreshColour = 0;\r\n  htmlAdhocKey = '';\r\n  IsPracticeAreaType = false;\r\n  isBoundaryNotSupported = false;\r\n  mapColourSelectedValue = 'benchmark';\r\n  updateMap: boolean;\r\n  searchMode: boolean;\r\n  searchModeNoDisplay: boolean;\r\n  profileId: number;\r\n  ftModel: FTModel;\r\n  comparatorId: number;\r\n  benchmarkIndex: number;\r\n\r\n  constructor(\r\n    private ftHelperService: FTHelperService,\r\n    private indicatorService: IndicatorService,\r\n    private coreDataHelper: CoreDataHelperService,\r\n    private ref: ChangeDetectorRef,\r\n    private areaService: AreaService\r\n  ) {\r\n    this.ftModel = this.ftHelperService.getFTModel();\r\n    this.profileId = this.ftModel.profileId;\r\n  }\r\n\r\n  @HostListener('window:MapSelected', [\r\n    '$event',\r\n    '$event.detail.searchMode'\r\n  ])\r\n\r\n  public onOutsideEvent(event, searchMode) {\r\n\r\n    // Determine new area type and whether search mode\r\n    this.searchModeNoDisplay = false;\r\n    this.searchMode = false;\r\n    let newAreaTypeId;\r\n    if (searchMode !== undefined && searchMode) {\r\n      // In search mode\r\n      if (this.profileId === ProfileIds.PracticeProfile) {\r\n        // Practice profiles search\r\n        this.searchMode = true;\r\n      } else {\r\n        // HOW can get here???\r\n        this.searchModeNoDisplay = true;\r\n      }\r\n      newAreaTypeId = AreaTypeIds.Practice;\r\n    } else {\r\n      // Not in search mode\r\n      newAreaTypeId = this.ftModel.areaTypeId;\r\n    }\r\n\r\n    this.areaService.getParentAreas(this.profileId).subscribe((result: any) => {\r\n\r\n      // Determine whether current area type can be shown on map\r\n      let parentAreaTypes = <ParentAreaType[]>result;\r\n      if (parentAreaTypes != null) {\r\n        for (let areaType of parentAreaTypes) {\r\n          if (areaType.Id === newAreaTypeId) {\r\n            this.isBoundaryNotSupported = !areaType.CanBeDisplayedOnMap;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.initMap(newAreaTypeId);\r\n    });\r\n  }\r\n\r\n  initMap(newAreaTypeId: number): void {\r\n\r\n    this.isInitialised = true;\r\n    this.updateMap = true;\r\n    this.ref.detectChanges();\r\n\r\n    // Clear area list of area type changes\r\n    if (this.areaTypeId !== newAreaTypeId) {\r\n      this.selectedAreaList = new Array<string>();\r\n    }\r\n\r\n    this.areaTypeId = newAreaTypeId;\r\n    this.IsPracticeAreaType = newAreaTypeId === AreaTypeIds.Practice;\r\n    if (!this.isBoundaryNotSupported) {\r\n      // Have boundaries so can load data\r\n      this.loadData();\r\n    } else {\r\n      // No boundaries for current area type\r\n      this.ftHelperService.showAndHidePageElements();\r\n      this.ftHelperService.unlock();\r\n      this.ref.detectChanges();\r\n    }\r\n\r\n    this.updateMap = false;\r\n  }\r\n\r\n  loadData(): void {\r\n    if (this.IsPracticeAreaType) {\r\n      // Don't need to display any data for practices\r\n      if (!this.searchMode && !this.searchModeNoDisplay) {\r\n        this.showElementsAndUnlock();\r\n      }\r\n    } else {\r\n      // Get data for all other area types\r\n      const currentGrpRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n\r\n      let currentComparator: Area;\r\n      currentComparator = this.ftHelperService.getCurrentComparator();\r\n      this.comparatorId = this.ftHelperService.getComparatorId();\r\n      this.benchmarkIndex = this.comparatorId;\r\n\r\n      this.indicatorService\r\n        .getSingleIndicatorForAllArea(\r\n          currentGrpRoot.Grouping[0].GroupId,\r\n          this.ftModel.areaTypeId,\r\n          currentComparator.Code,\r\n          this.ftModel.profileId,\r\n          this.comparatorId,\r\n          currentGrpRoot.IID,\r\n          currentGrpRoot.Sex.Id,\r\n          currentGrpRoot.Age.Id\r\n        )\r\n        .subscribe(\r\n          data => {\r\n            this.coreDataSet = <CoreDataSet>data;\r\n            this.sortedCoreData = this.coreDataHelper.addOrderandPercentilesToData(\r\n              this.coreDataSet\r\n            );\r\n            this.loadColourData();\r\n            this.onMapColourBoxChange(this.mapColourSelectedValue);\r\n            this.ref.detectChanges();\r\n            this.showElementsAndUnlock();\r\n          },\r\n          error => { }\r\n        );\r\n    }\r\n  }\r\n\r\n  showElementsAndUnlock() {\r\n    this.ftHelperService.showAndHidePageElements();\r\n    this.ftHelperService.showTargetBenchmarkOption(\r\n      this.ftHelperService.getAllGroupRoots()\r\n    );\r\n    this.ftHelperService.unlock();\r\n  }\r\n\r\n  loadColourData(): void {\r\n    let areaOrder = [];\r\n    Object.keys(this.sortedCoreData).forEach(key => {\r\n      let value: CoreDataSet = this.sortedCoreData[key];\r\n      areaOrder.push({ AreaCode: key, Val: value.Val, ValF: value.ValF });\r\n    });\r\n    areaOrder\r\n      .sort(\r\n        (leftside, rightside): number => {\r\n          if (leftside.Val < rightside.Val) {\r\n            return -1;\r\n          }\r\n          if (leftside.Val > rightside.Val) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      )\r\n      .reverse();\r\n    let numAreas = 0;\r\n    $.each(areaOrder, function (i, coreData) {\r\n      if (coreData.ValF !== '-') {\r\n        numAreas++;\r\n      }\r\n    });\r\n    let j = 0;\r\n    let sortedCoreData = this.sortedCoreData;\r\n    let localAreaCodeColourValue: Map<string, MapColourData> = new Map();\r\n    $.each(areaOrder, function (i, coreData) {\r\n      let data = sortedCoreData[coreData.AreaCode];\r\n      if (coreData.ValF === '-') {\r\n        let colourData: MapColourData = new MapColourData();\r\n        colourData.order = -1;\r\n        colourData.orderFrac = -1;\r\n        localAreaCodeColourValue.set(coreData.AreaCode, colourData);\r\n      } else {\r\n        let colourData: MapColourData = new MapColourData();\r\n        colourData.order = numAreas - j;\r\n        colourData.orderFrac = 1 - j / numAreas;\r\n        let position = numAreas + 1 - j + 1;\r\n        colourData.quartile = Math.ceil(position / (numAreas / 4));\r\n        colourData.quintile = Math.ceil(position / (numAreas / 5));\r\n        j++;\r\n        localAreaCodeColourValue.set(coreData.AreaCode, colourData);\r\n      }\r\n    });\r\n    this.areaCodeColourValue = localAreaCodeColourValue;\r\n  }\r\n\r\n  showHideAdHocKey(): void {\r\n    const currentGrpRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n    const indicatorMetadata: IndicatorMetadata = this.ftHelperService.getMetadata(\r\n      currentGrpRoot.IID\r\n    );\r\n\r\n    this.comparisonConfig = this.ftHelperService.newComparisonConfig(\r\n      currentGrpRoot,\r\n      indicatorMetadata\r\n    );\r\n    if (this.comparisonConfig) {\r\n      if (this.comparisonConfig.useTarget) {\r\n        let targetLegend = this.ftHelperService.getTargetLegendHtml(\r\n          this.comparisonConfig,\r\n          indicatorMetadata\r\n        );\r\n        this.htmlAdhocKey =\r\n          '<div><table class=\"key-table\" style=\"width: 85%;height:50px;\"><tr><td class=\"key-text\">Benchmarked against goal:</td><td class=\"key-spacer\"></td><td>' +\r\n          targetLegend +\r\n          '</td></tr></table></div>';\r\n        this.showAdhocKey = true;\r\n      } else {\r\n        this.showAdhocKey = false;\r\n        this.setBenchmarkLegendDisplay(currentGrpRoot);\r\n      }\r\n    }\r\n  }\r\n\r\n  onMapInit(mapInfo: { map: google.maps.Map }) {\r\n    this.map = mapInfo.map;\r\n  }\r\n\r\n  onhoverAreaCodeChangedMap(eventDetail: { areaCode: string }) {\r\n    this.currentAreaCode = eventDetail.areaCode;\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  onSelectedAreaCodeChanged(eventDetail: { areaCode: string }) {\r\n\r\n  }\r\n\r\n  onhoverAreaCodeChangedChart(eventDetail: { areaCode: string }) {\r\n    this.currentAreaCode = eventDetail.areaCode;\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  onhoverAreaCodeChangedData(eventDetail: { areaCode: string }) {\r\n    this.currentAreaCode = eventDetail.areaCode;\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  onBoundaryNotSupported(eventDetail) {\r\n    this.isBoundaryNotSupported = true;\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  onSelectedAreaChanged(eventDetail: { areaCode: string }) {\r\n    let index = this.selectedAreaList.indexOf(eventDetail.areaCode);\r\n\r\n    if (index > -1) {\r\n      this.selectedAreaList.splice(index, 1);\r\n    } else {\r\n      this.selectedAreaList.push(eventDetail.areaCode);\r\n    }\r\n    this.selectedAreaList = this.selectedAreaList.slice();\r\n\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  OnBenchMarkIndexChanged(eventDetail: { benchmarkIndex: number }) {\r\n    this.benchmarkIndex = eventDetail.benchmarkIndex;\r\n\r\n    if (this.benchmarkIndex === ComparatorIds.National) {\r\n      this.ftHelperService.setComparatorId(this.benchmarkIndex);\r\n    } else {\r\n      this.loadData();\r\n    }\r\n\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  resetLegends() {\r\n    this.showRAG3 = false;\r\n    this.showRAG5 = false;\r\n    this.showBOB = false;\r\n    this.showQuartiles = false;\r\n    this.showQuintilesRAG = false;\r\n    this.showQuintilesBOB = false;\r\n    this.showContinuous = false;\r\n  }\r\n\r\n  onMapColourBoxChange(selectedColour): void {\r\n    // Reset legend flags\r\n    this.resetLegends();\r\n\r\n    switch (selectedColour) {\r\n      case 'quartile': {\r\n        this.showQuartiles = true;\r\n        this.showAdhocKey = false;\r\n        this.getQuartileColorData();\r\n        break;\r\n      }\r\n      case 'quintile': {\r\n        let root = this.ftHelperService.getCurrentGroupRoot();\r\n\r\n        if (root.PolarityId === PolarityIds.NotApplicable) {\r\n          this.showQuintilesBOB = true;\r\n        } else {\r\n          this.showQuintilesRAG = true;\r\n        }\r\n\r\n        this.showAdhocKey = false;\r\n\r\n        this.getQuintileColorData(root);\r\n        break;\r\n      }\r\n      case 'continuous': {\r\n        this.showContinuous = true;\r\n        this.showAdhocKey = false;\r\n        this.getContinuousColorData();\r\n        break;\r\n      }\r\n      case 'benchmark': {\r\n        let root = this.ftHelperService.getCurrentGroupRoot();\r\n        this.setBenchmarkLegendDisplay(root);\r\n        this.showHideAdHocKey();\r\n        this.getBenchMarkColorData();\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n    this.refreshColour++;\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  setBenchmarkLegendDisplay(root: GroupRoot) {\r\n    switch (root.ComparatorMethodId) {\r\n      case ComparatorMethodIds.Quintiles:\r\n        if (root.PolarityId === PolarityIds.NotApplicable) {\r\n          // Quintile BOB\r\n          this.showQuintilesBOB = true;\r\n        } else {\r\n          // Quintile RAG\r\n          this.showQuintilesRAG = true;\r\n        }\r\n        break;\r\n      case ComparatorMethodIds.SingleOverlappingCIsForOneCiLevel:\r\n        this.showRAG3 = true;\r\n        break;\r\n      case ComparatorMethodIds.SingleOverlappingCIsForTwoCiLevels:\r\n        this.showRAG5 = true;\r\n        break;\r\n      default:\r\n        this.setLegendDisplayByPolarity(root.PolarityId);\r\n        break;\r\n    }\r\n  }\r\n\r\n  setLegendDisplayByPolarity(polarityId): void {\r\n    switch (polarityId) {\r\n      case PolarityIds.BlueOrangeBlue:\r\n        this.showBOB = true;\r\n        break;\r\n      case PolarityIds.RAGHighIsGood:\r\n        this.showRAG3 = true;\r\n        break;\r\n      case PolarityIds.RAGLowIsGood:\r\n        this.showRAG3 = true;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  getBenchMarkColorData(): void {\r\n    const currentGrpRoot: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n    const indicatorMetadata: IndicatorMetadata = this.ftHelperService.getMetadata(\r\n      currentGrpRoot.IID\r\n    );\r\n    this.comparisonConfig = this.ftHelperService.newComparisonConfig(\r\n      currentGrpRoot,\r\n      indicatorMetadata\r\n    );\r\n\r\n    const globalComparatorId = this.ftHelperService.getComparatorId();\r\n    this.areaCodeSignificance = new Map();\r\n\r\n    Object.keys(this.sortedCoreData).forEach(key => {\r\n      let value: CoreDataSet = this.sortedCoreData[key];\r\n      if (this.comparisonConfig !== undefined) {\r\n        this.areaCodeSignificance[key] =\r\n          value.Sig[this.comparisonConfig.comparatorId];\r\n      } else {\r\n        this.areaCodeSignificance[key] = value.Sig[globalComparatorId];\r\n      }\r\n    });\r\n\r\n    let localAreaCodeColour: Map<string, string> = new Map();\r\n    Object.keys(this.areaCodeSignificance).forEach(key => {\r\n      let value: number = this.areaCodeSignificance[key];\r\n      let colour: string;\r\n      let selectedGroupRoot: GroupRoot;\r\n      // If the use target is clicked change the\r\n      // polarity of currentGroup to target polarity\r\n      if (this.comparisonConfig.useTarget) {\r\n        selectedGroupRoot = Object.create(currentGrpRoot);\r\n        selectedGroupRoot.PolarityId = indicatorMetadata.Target.PolarityId;\r\n      } else {\r\n        selectedGroupRoot = currentGrpRoot;\r\n      }\r\n\r\n      colour = Colour.getSignificanceColorForBenchmark(\r\n        selectedGroupRoot,\r\n        this.comparisonConfig,\r\n        value\r\n      );\r\n\r\n      localAreaCodeColour.set(key, colour);\r\n    });\r\n\r\n    this.areaCodeColour = localAreaCodeColour;\r\n  }\r\n\r\n  getContinuousColorData(): void {\r\n    let localAreaCodeColour: Map<string, string> = new Map();\r\n    for (let key of Array.from(this.areaCodeColourValue.keys())) {\r\n      let value: MapColourData = this.areaCodeColourValue.get(key);\r\n      let colour = Colour.getColorForContinuous(value.orderFrac);\r\n      localAreaCodeColour.set(key, colour);\r\n    }\r\n    this.areaCodeColour = localAreaCodeColour;\r\n  }\r\n\r\n  getQuintileColorData(root: GroupRoot): void {\r\n    let localAreaCodeColour: Map<string, string> = new Map();\r\n    for (let key of Array.from(this.areaCodeColourValue.keys())) {\r\n      let value: MapColourData = this.areaCodeColourValue.get(key);\r\n      let colour = Colour.getColorForQuintile(value.quintile, root.PolarityId);\r\n      localAreaCodeColour.set(key, colour);\r\n    }\r\n    this.areaCodeColour = localAreaCodeColour;\r\n  }\r\n\r\n  getQuartileColorData(): void {\r\n    let localAreaCodeColour: Map<string, string> = new Map();\r\n    for (let key of Array.from(this.areaCodeColourValue.keys())) {\r\n      let value: MapColourData = this.areaCodeColourValue.get(key);\r\n      let colour = Colour.getColorForQuartile(value.quartile);\r\n      localAreaCodeColour.set(key, colour);\r\n    }\r\n    this.areaCodeColour = localAreaCodeColour;\r\n  }\r\n}\r\n\r\nclass MapColourData {\r\n  quartile: number;\r\n  quintile: number;\r\n  orderFrac: number;\r\n  order: number;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { GoogleMapComponent } from './google-map/google-map.component';\r\nimport { MapComponent } from './map.component';\r\nimport { GoogleMapService } from './googleMap.service';\r\nimport { IndicatorService } from '../shared/service/api/indicator.service';\r\nimport { AreaService } from '../shared/service/api/area.service';\r\nimport { MapChartComponent } from './map-chart/map-chart.component';\r\nimport { MapTableComponent } from './map-table/map-table.component';\r\nimport { PracticeSearchComponent } from './practice-search/practice-search.component';\r\nimport { TypeaheadModule } from 'ngx-bootstrap';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CoreDataHelperService } from '../shared/service/helper/coreDataHelper.service';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport { LegendModule } from 'app/shared/component/legend/legend.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TypeaheadModule.forRoot(),\r\n    FormsModule,\r\n    LegendModule\r\n  ],\r\n  declarations: [\r\n    GoogleMapComponent,\r\n    MapComponent,\r\n    MapChartComponent,\r\n    MapTableComponent,\r\n    PracticeSearchComponent\r\n  ],\r\n  exports: [\r\n    GoogleMapComponent,\r\n    MapComponent\r\n  ],\r\n  providers: [\r\n    GoogleMapService,\r\n    IndicatorService,\r\n    AreaService,\r\n    CoreDataHelperService,\r\n    FTHelperService\r\n  ]\r\n})\r\nexport class MapModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map.module.ts","module.exports = \".glyphicon {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.googleMapNg {\\r\\n    position: relative;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #CCC;\\r\\n    width: 636px;\\r\\n    height: 600px;\\r\\n    margin-bottom: 10px;\\r\\n    margin-top: 10px;\\r\\n    clear: both;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#default_search_header {\\r\\n    width: 400px;\\r\\n    padding-top: 10px;\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n#practice-list-info {\\r\\n    min-height: 30px;\\r\\n}\\r\\n\\r\\n#practice-list-info input {\\r\\n    max-width: 450px;\\r\\n}\\r\\n\\r\\n#practice-list-info h3 {\\r\\n    font-size: 1.4em;\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.practice-header {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.nearby-practices-map {\\r\\n    width: 636px;\\r\\n    height: 600px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.nearby-practices-map #google-map {\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n#table-container {\\r\\n    height: 600px;\\r\\n    overflow-y: scroll;\\r\\n}\\r\\n\\r\\n.nearby-practices-table {\\r\\n    float: left;\\r\\n    width: 45%;\\r\\n}\\r\\n\\r\\n.nearby-practices-table table {\\r\\n    width: 100%;\\r\\n    border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.nearby-practices-table .header {\\r\\n    position: relative;\\r\\n    background-color: #02ae94;\\r\\n    padding: 10px;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.nearby-practices-table td,\\r\\n.nearby-practices-table th {\\r\\n    padding: 0;\\r\\n    font-weight: normal;\\r\\n    text-align: left;\\r\\n    vertical-align: top;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n#show-all-practices {\\r\\n    padding: 23px 0 18px 0;\\r\\n}\\r\\n\\r\\n#show-all-practices a,\\r\\na:visited,\\r\\na:active,\\r\\na:hover {\\r\\n    color: #1d1dae;\\r\\n}\\r\\n\\r\\n#show-all-practices a,\\r\\na:visited,\\r\\na:active,\\r\\na:hover {\\r\\n    color: #2e3191;\\r\\n    text-decoration: underline;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n#show-all-practices a {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.highlight-address {\\r\\n    background-color: #e6e6e6\\r\\n}\\r\\n\\r\\n.highlight-header {\\r\\n    background-color: #525252;\\r\\n    position: relative;\\r\\n    padding: 10px;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.available-practices-list {\\r\\n    width: 636px;\\r\\n    height: 600px;\\r\\n    overflow-y: scroll;\\r\\n}\\r\\n\\r\\n.available-practices {\\r\\n    border-top: 1px solid #ccc;\\r\\n    margin: 0px;\\r\\n    padding-top: 5px;\\r\\n    padding-bottom: 5px;\\r\\n}\\r\\n\\r\\n.cursor-pointer {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#practiceSearchText {\\r\\n    background: #FFF url(\\\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAZAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQICAgICAgICAgICAwMDAwMDAwMDAwEBAQEBAQECAQECAgIBAgIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD/8AAEQgAGAAYAwERAAIRAQMRAf/EAFwAAQEBAQAAAAAAAAAAAAAAAAgHBAoBAQAAAAAAAAAAAAAAAAAAAAAQAAIDAQABBQADAQAAAAAAAAIDAQQFBgcAERITCCExQSIRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AO93pOjxOQwdbp+k0UZODhUX6Wro2fslVSnWCTayQSDXtP8AwFrE2MOYERIpiJAi0/3L45ZYzb+rwnlrnOA2b45uT5Q3OOmrxNpxt+oLE313XMikRCc/JYtaIj7ksf8Ar4Az69hFtCLVV6bNWylditZrsByLCHALEvQ5ZEtqWrKCEhmRIZiYn29Adv1rwnTeSPAPectyCXXN56cjSq5aCkW668Tczte1mpj5hDbDq1IySufl9rgAIj3KJgCP5e/Y3h3rPz90fA4vN7Ydjr8m3mm+PbHOXaiOKfTqKW67at/QvOHP5Y60urfURNg66/sUqPl8QbP5t08jT8EeKSxt+p0lbP4bm8exo1GGYBoZOVVo36DQbA2K7s2ykkktogwYCPcY/r0Fu9BkZn0HFYNtKo07iCq2yZWSZWqxj8Dr2CIJl6CCPaQL3GY/j29BKPFPgzhfDNztLHCq1M+n22ynatYjtJz8LGYivKYq4GZ7AihWJjDOZmDbIyK/n9SlAAf/2Q==\\\") right center no-repeat;\\r\\n}\\r\\n\\r\\n.top-margin-10 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.top-margin-20 {\\r\\n    margin-top: 20px;\\r\\n}\\r\\n\\r\\n#toggleMapHeading {\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n.clear-list-button {\\r\\n    padding: 0px;\\r\\n    font-size: 14px;\\r\\n    text-decoration: underline;\\r\\n    color: #2e3191;\\r\\n}\\r\\n\\r\\n.btn-link {\\r\\n    color: #2e3191;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/practice-search-simple/practice-search-simple.component.css\n// module id = ./src/app/map/practice-search-simple/practice-search-simple.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container\\\" style=\\\"margin-left:-15px;\\\" [formGroup]=\\\"practicesInCCGFormGroup\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-8\\\">\\r\\n      <h3>Show all practices in CCG</h3>\\r\\n      <div class=\\\"top-margin-10\\\">\\r\\n        <select id=\\\"practicesInCCG\\\" formControlName=\\\"practicesInCCG\\\" class=\\\"form-control\\\" (change)=\\\"onShowAllPracticeinCCGClick()\\\">\\r\\n          <option [value]=\\\"-1\\\">SELECT CCG</option>\\r\\n          <option *ngFor=\\\"let practice of practicesInCCG; let last=last\\\" [value]=\\\"practice.Code\\\">\\r\\n            {{practice.Name}} {{last? setDefaultOption() : ''}}\\r\\n          </option>\\r\\n        </select>\\r\\n        <div id=\\\"practiceInCCGName\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"top-margin-20\\\">\\r\\n        <h3>Or search for practices near a postcode or place</h3>\\r\\n        <input [(ngModel)]=\\\"placeNameText\\\" [typeahead]=\\\"dataSource\\\" (typeaheadLoading)=\\\"changeTypeaheadLoading($event)\\\" (typeaheadNoResults)=\\\"changeTypeaheadNoResults($event)\\\"\\r\\n          (typeaheadOnSelect)=\\\"typeaheadOnSelect($event)\\\" typeaheadOptionsLimit=\\\"7\\\" typeaheadOptionField=\\\"displayName\\\" placeholder=\\\"\\\"\\r\\n          [typeaheadWaitMs]=\\\"200\\\" [typeaheadMinLength]=\\\"3\\\" class=\\\"form-control\\\" id=\\\"gp-practice-search-text\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n          autocomplete=\\\"off\\\">\\r\\n      </div>\\r\\n      <div *ngIf=\\\"typeaheadNoResults===true\\\" class=\\\"\\\">\\r\\n        No Results Found\\r\\n      </div>\\r\\n      <div class=\\\"top-margin-20\\\" *ngIf=\\\"nearByPractices.length > 0\\\">\\r\\n        <button id=\\\"toggleMapHeading\\\" class=\\\"btn btn-link clear-list-button\\\" (click)=\\\"toggleMap()\\\">Show practices as list</button>\\r\\n      </div>\\r\\n      <div id=\\\"nearby-practices-map\\\" class=\\\"nearby-practices-map\\\" [style.height]=\\\"height + 'px'\\\">\\r\\n        <div id=\\\"google-map\\\" #googleMapNew class=\\\"googleMapNg\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n      <div id=\\\"nearby-practices-list\\\" class=\\\"available-practices-list\\\">\\r\\n        <div *ngFor=\\\"let practice of nearByPractices;\\\" #elem [attr.id]=\\\"practice.areaCode\\\" class=\\\"available-practices available-practices-{{practice.areaCode}}\\\"\\r\\n          (mouseover)=\\\"selectPractice('available-practices', practice.areaCode)\\\" (mouseout)=\\\"deselectPractice('available-practices', practice.areaCode)\\\"\\r\\n          (click)=\\\"movePractice('available-practices', practice.areaCode)\\\">\\r\\n          {{practice.areaName}}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-4\\\">\\r\\n      <h3>\\r\\n        Practices in your list\\r\\n        <br />\\r\\n        <button class=\\\"btn btn-link clear-list-button\\\" (click)=\\\"clearList()\\\">Clear list</button>\\r\\n      </h3>\\r\\n      <div class=\\\"top-margin-10\\\" *ngIf=\\\"selectedPractices.length > 0\\\">\\r\\n        Select a practice below to remove\\r\\n        <br />it from your list\\r\\n        <div class=\\\"top-margin-20\\\">\\r\\n          <div *ngFor=\\\"let practice of selectedPractices;\\\" #elem [attr.id]=\\\"practice.areaName\\\" class=\\\"top-margin-10 selected-practices selected-practices-{{practice.Code}}\\\"\\r\\n            (mouseover)=\\\"selectPractice('selected-practices', practice.Code)\\\" (mouseout)=\\\"deselectPractice('selected-practices', practice.Code)\\\"\\r\\n            (click)=\\\"movePracticeOut('selected-practices', practice.Code)\\\">\\r\\n            <h6>\\r\\n              <b><span class=\\\"cursor-pointer\\\" (click)=\\\"removeFromList(practice.areaCode)\\\">{{practice.areaCode}} - {{practice.areaName}}</span></b>\\r\\n              <ng-template [ngIf]=\\\"practice?.addressLine1\\\">\\r\\n                <br />{{practice.addressLine1}}\\r\\n              </ng-template>\\r\\n              <ng-template [ngIf]=\\\"practice?.addressLine2\\\">\\r\\n                <br />{{practice.addressLine2}}\\r\\n              </ng-template>\\r\\n              <br />{{practice.postcode}}\\r\\n            </h6>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/practice-search-simple/practice-search-simple.component.html\n// module id = ./src/app/map/practice-search-simple/practice-search-simple.component.html\n// module chunks = main","import {\r\n  Component, OnInit, ViewChild, ElementRef, ChangeDetectorRef, Input, Output, OnChanges, SimpleChanges, EventEmitter\r\n} from '@angular/core';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport { AreaService } from '../../shared/service/api/area.service';\r\nimport { AreaListService } from '../../shared/service/api/arealist.service';\r\nimport { AreaTypeIds } from '../../shared/shared';\r\nimport { AreaTextSearchResult, NearByAreas, AreaAddress, Area } from '../../typings/FT.d';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { TypeaheadMatch } from 'ngx-bootstrap/typeahead';\r\nimport { AutoCompleteResult, Practice } from './practice-search-simple';\r\nimport * as _ from 'underscore';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'ft-practice-search-simple',\r\n  templateUrl: './practice-search-simple.component.html',\r\n  styleUrls: ['./practice-search-simple.component.css'],\r\n  providers: [AreaListService]\r\n})\r\nexport class PracticeSearchSimpleComponent implements OnInit, OnChanges {\r\n\r\n  @ViewChild('scrollPracticeTable') practiceTable: ElementRef;\r\n  @ViewChild('googleMapNew') mapEl: ElementRef;\r\n  @Input() IsMapUpdateRequired = false;\r\n  @Input() searchMode = false;\r\n  @Input() areaTypeId: number;\r\n  @Input() selectedAreaAddresses;\r\n  @Output() emitSelectedPractices = new EventEmitter();\r\n  @Output() emitShowPracticesAsList = new EventEmitter();\r\n\r\n  // Instance equivalent of searchMode which is more reliable\r\n  localSearchMode: boolean;\r\n\r\n  public placeNameText: string;\r\n  public typeaheadLoading: boolean;\r\n  public typeaheadNoResults: boolean;\r\n  public dataSource: Observable<any>;\r\n  public height = 0;\r\n\r\n  practiceMap: google.maps.Map;\r\n  isVisible = false;\r\n  searchResults: AreaTextSearchResult[] = [];\r\n  selectedArea: AreaTextSearchResult;\r\n  nearByPractices: Practice[] = [];\r\n  practiceCountText: string;\r\n  showCcgPractices = false;\r\n  displayCCGPracticeLink: boolean;\r\n  practiceSearchText: string;\r\n\r\n  practicesInCCGFormGroup: FormGroup;\r\n  practicesInCCG: Area[] = [];\r\n  selectedPractices: Practice[] = [];\r\n  firstTimeLoad = true;\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.IsMapUpdateRequired && this.showCcgPractices) {\r\n      this.onShowAllPracticeinCCGClick();\r\n    }\r\n    if (changes['searchMode']) {\r\n      const displyCCGLink = changes['searchMode'].currentValue;\r\n      if (displyCCGLink !== undefined) {\r\n        if (displyCCGLink) {\r\n          this.localSearchMode = true;\r\n          this.displayCCGPracticeLink = false;\r\n        }\r\n      } else {\r\n        this.localSearchMode = false;\r\n        this.displayCCGPracticeLink = true;\r\n      }\r\n    }\r\n    if (changes['selectedAreaAddresses']) {\r\n      this.searchForPracticesInCCG();\r\n    }\r\n  }\r\n\r\n  constructor(private ftHelperService: FTHelperService,\r\n    private areaService: AreaService,\r\n    private arealistService: AreaListService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n    this.localSearchMode = false;\r\n    this.displayCCGPracticeLink = true;\r\n    this.dataSource = Observable.create((observer: any) => {\r\n      this.areaService.getAreaSearchByText(this.placeNameText, AreaTypeIds.CcgPreApr2017, true, true)\r\n        .subscribe((areaTextSearchResult: any) => {\r\n          this.searchResults = <AreaTextSearchResult[]>areaTextSearchResult;\r\n          const newResult = _.map(this.searchResults, function (result) {\r\n            return new AutoCompleteResult(result.PolygonAreaCode, result.PlaceName,\r\n              result.PolygonAreaName);\r\n          });\r\n          observer.next(newResult);\r\n        });\r\n    });\r\n\r\n    this.practicesInCCGFormGroup = new FormGroup({\r\n      practicesInCCG: new FormControl(),\r\n      practiceSearchText: new FormControl()\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    $('#nearby-practices-list').hide();\r\n    this.searchForPracticesInCCG();\r\n    this.loadMap();\r\n  }\r\n\r\n  setDefaultOption() {\r\n    if (this.firstTimeLoad) {\r\n      this.practicesInCCGFormGroup.get('practicesInCCG').setValue('-1');\r\n      this.firstTimeLoad = false;\r\n    }\r\n  }\r\n\r\n  loadMap() {\r\n    const mapOptions: google.maps.MapOptions = {\r\n      zoom: 6,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n      panControl: false,\r\n      zoomControl: true,\r\n      zoomControlOptions: { position: google.maps.ControlPosition.TOP_LEFT },\r\n      scaleControl: false,\r\n      streetViewControl: false,\r\n      mapTypeControl: false,\r\n      fullscreenControl: false,\r\n    };\r\n    let mapContainer = null;\r\n    if (this.mapEl && this.mapEl.nativeElement) {\r\n      mapContainer = this.mapEl.nativeElement;\r\n    }\r\n    if (mapContainer !== null) {\r\n      this.practiceMap = new google.maps.Map(mapContainer, mapOptions);\r\n    }\r\n\r\n    if (this.practiceMap) {\r\n      const bounds = new google.maps.LatLngBounds();\r\n      const position = new google.maps.LatLng(53.415649, -2.209015);\r\n      bounds.extend(position);\r\n      this.practiceMap.setCenter(bounds.getCenter());\r\n      const thisCom = this;\r\n      // This is needed as on initial load map was not visible\r\n      google.maps.event.addListener(this.practiceMap, 'idle', function () {\r\n        const bound = thisCom.practiceMap.getCenter();\r\n        google.maps.event.trigger(thisCom.practiceMap, 'resize');\r\n        thisCom.practiceMap.setCenter(bound);\r\n      });\r\n    }\r\n  }\r\n  public changeTypeaheadLoading(e: boolean): void {\r\n    this.typeaheadLoading = e;\r\n  }\r\n\r\n  public changeTypeaheadNoResults(e: boolean): void {\r\n    this.typeaheadNoResults = e;\r\n  }\r\n\r\n  public typeaheadOnSelect(e: TypeaheadMatch): void {\r\n    const polygonAreaCode = (<AutoCompleteResult>e.item).polygonAreaCode;\r\n    this.selectedArea = _.find(this.searchResults, function (obj) { return obj.PolygonAreaCode === polygonAreaCode; });\r\n    this.areaService.getAreaSearchByProximity(this.selectedArea.Easting, this.selectedArea.Northing, AreaTypeIds.Practice)\r\n      .subscribe((result: any) => {\r\n        const nearByAreas = <NearByAreas[]>result;\r\n        this.nearByPractices = _.map(nearByAreas, function (area) {\r\n          return new Practice(area.AreaName, area.AreaCode,\r\n            area.AddressLine1, area.AddressLine2, area.Postcode,\r\n            area.DistanceValF, area.LatLng);\r\n        });\r\n        this.displayMarkersOnMap();\r\n        this.showCcgPractices = false;\r\n      });\r\n  }\r\n\r\n  onShowAllPracticeinCCGClick(): void {\r\n    this.practiceSearchText = '';\r\n    const practiceCode = this.practicesInCCGFormGroup.get('practicesInCCG').value;\r\n    this.areaService.getAreaAddressesByParentAreaCode(practiceCode, AreaTypeIds.Practice)\r\n      .subscribe((result: any) => {\r\n        const areaAddresses = <AreaAddress[]>result;\r\n        this.nearByPractices = _.map(areaAddresses, function (area) {\r\n          return new Practice(area.Name, area.Code,\r\n            area.A1, area.A2, area.Postcode, '', area.Pos);\r\n        });\r\n        this.displayMarkersOnMap();\r\n        this.showCcgPractices = true;\r\n        this.placeNameText = '';\r\n      });\r\n  }\r\n\r\n  displayMarkersOnMap(): void {\r\n    const bounds = new google.maps.LatLngBounds();\r\n    const infoWindow = new google.maps.InfoWindow({});\r\n    const linkList = [];\r\n    let iconUrl;\r\n\r\n    for (let i = 0; i < this.nearByPractices.length; i++) {\r\n      const position = new google.maps.LatLng(this.nearByPractices[i].lat, this.nearByPractices[i].lng);\r\n      bounds.extend(position);\r\n\r\n      let practiceInSelectedPractices: Practice;\r\n      practiceInSelectedPractices = this.selectedPractices.find(x => x.areaCode === this.nearByPractices[i].areaCode);\r\n      if (practiceInSelectedPractices !== null && practiceInSelectedPractices !== undefined) {\r\n        iconUrl = 'http://maps.google.com/mapfiles/ms/icons/green-dot.png';\r\n      } else {\r\n        iconUrl = 'http://maps.google.com/mapfiles/ms/icons/ltblue-dot.png';\r\n      }\r\n\r\n      // Create marker\r\n      const marker = new google.maps.Marker({\r\n        position: position,\r\n        map: this.practiceMap,\r\n        icon: iconUrl\r\n      });\r\n      marker.set('marker_id', this.nearByPractices[i].areaCode);\r\n\r\n      // Create pop up text\r\n      const boxText = document.createElement('span');\r\n      boxText.id = i.toString();\r\n      boxText.className = 'select-area-link';\r\n      boxText.style.cssText = 'font-size:16px;';\r\n      boxText.innerHTML = this.nearByPractices[i].areaName;\r\n      linkList.push(boxText);\r\n\r\n      // Map marker click\r\n      google.maps.event.addListener(marker, 'click', (event) => {\r\n        const areaCode = marker.get('marker_id');\r\n\r\n        infoWindow.setContent(linkList[i]);\r\n        infoWindow.open(this.practiceMap, marker);\r\n\r\n        const selectedPracticeIndex = _.findIndex(this.selectedPractices, x => x.areaCode === areaCode);\r\n        if (selectedPracticeIndex === -1) {\r\n          marker.setIcon('http://maps.google.com/mapfiles/ms/icons/green-dot.png')\r\n          const currentPracticeIndex = _.findIndex(this.nearByPractices, x => x.areaCode === areaCode);\r\n          const currentPractice = this.nearByPractices[currentPracticeIndex];\r\n          this.selectedPractices.push(currentPractice);\r\n\r\n          $('.available-practices-' + areaCode).addClass('bg-info text-white');\r\n        } else {\r\n          marker.setIcon('http://maps.google.com/mapfiles/ms/icons/ltblue-dot.png');\r\n          this.selectedPractices.splice(selectedPracticeIndex, 1);\r\n          $('.available-practices-' + areaCode).removeClass('bg-info text-white');\r\n        }\r\n\r\n        this.emitSelectedPractices.emit(this.selectedPractices);\r\n\r\n        this.ref.detectChanges();\r\n      });\r\n\r\n      // Practice pop up link click\r\n      google.maps.event.addDomListener(linkList[i], 'click', (event) => {\r\n        const areaCode = marker.get('marker_id');\r\n        this.onSelectPracticeClick(areaCode);\r\n      });\r\n    }\r\n    this.fitMapToPracticeResults(bounds);\r\n\r\n    this.height = 610;\r\n  }\r\n\r\n  fitMapToPracticeResults(bounds: google.maps.LatLngBounds) {\r\n    this.practiceMap.fitBounds(bounds);\r\n    const googleMapsEvent = google.maps.event;\r\n    // Add bounds changed listener\r\n    const thisCom = this;\r\n    const zoomChangeBoundsListener =\r\n      googleMapsEvent.addListenerOnce(this.practiceMap, 'bounds_changed', function () {\r\n        const maximumZoom = 13;\r\n        // Zoom out if to close\r\n        if (thisCom.practiceMap.getZoom() > maximumZoom) {\r\n          thisCom.practiceMap.setZoom(maximumZoom);\r\n        }\r\n        googleMapsEvent.removeListener(zoomChangeBoundsListener);\r\n      });\r\n  }\r\n\r\n  onSelectPracticeClick(areaCode: string): void {\r\n    this.ftHelperService.lock();\r\n    if (this.localSearchMode) {\r\n      window.location.href = '/profile/general-practice/data#page/12/ati/' +\r\n        AreaTypeIds.Practice + '/are/' + areaCode;\r\n    } else {\r\n      this.ftHelperService.setAreaCode(areaCode);\r\n      this.ftHelperService.redirectToPopulationPage();\r\n    }\r\n  }\r\n\r\n  searchForPracticesInCCG() {\r\n    this.areaService.getAreas(152)\r\n      .subscribe((result: any) => {\r\n        this.practicesInCCG = <Area[]>result;\r\n      });\r\n\r\n    if (this.selectedAreaAddresses.length > 0) {\r\n      this.selectedAreaAddresses.forEach(element => {\r\n        const practice: Practice = new Practice(element.Name, element.Code, element.A1, element.A2, element.Postcode, '', element.Pos);\r\n        this.selectedPractices.push(practice);\r\n      });\r\n\r\n      // Emit selected practices to the parent\r\n      this.emitSelectedPractices.emit(this.selectedPractices);\r\n    }\r\n  }\r\n\r\n  clearList() {\r\n    if (this.selectedPractices.length > 0) {\r\n      this.selectedPractices.forEach(element => {\r\n        $('.available-practices-' + element.areaCode).removeClass('bg-primary bg-info text-white');\r\n      });\r\n\r\n      this.selectedPractices.length = 0;\r\n      this.displayMarkersOnMap();\r\n    }\r\n  }\r\n\r\n  removeFromList(areaCode) {\r\n    let areaCodeIndex = this.selectedPractices.findIndex(x => x.areaCode === areaCode);\r\n    this.selectedPractices.splice(areaCodeIndex, 1);\r\n\r\n    this.displayMarkersOnMap();\r\n  }\r\n\r\n  toggleMap() {\r\n    $('#nearby-practices-list').toggle();\r\n    $('#nearby-practices-map').toggle();\r\n\r\n    if ($('#nearby-practices-list').is(':visible')) {\r\n      $('#toggleMapHeading').html('Show practices on map');\r\n    } else {\r\n      $('#toggleMapHeading').html('Show practices as list');\r\n    }\r\n  }\r\n\r\n  // Method to handle the mouse over event on the practice list\r\n  selectPractice(itemType, item) {\r\n    if (!$('.' + itemType + '-' + item).hasClass('bg-info')) {\r\n      $('.' + itemType + '-' + item).addClass('bg-primary text-white cursor-pointer');\r\n    }\r\n  }\r\n\r\n  // Method to handle the mouse out event on the practice list\r\n  deselectPractice(itemType, item) {\r\n    if (!$('.' + itemType + '-' + item).hasClass('bg-info')) {\r\n      $('.' + itemType + '-' + item).removeClass('bg-primary text-white cursor-pointer');\r\n    }\r\n  }\r\n\r\n  movePractice(itemType, item) {\r\n    const selectedPracticeIndex = _.findIndex(this.selectedPractices, x => x.areaCode === item);\r\n    if (selectedPracticeIndex === -1) {\r\n      const currentPracticeIndex = _.findIndex(this.nearByPractices, x => x.areaCode === item);\r\n      const currentPractice = this.nearByPractices[currentPracticeIndex];\r\n      this.selectedPractices.push(currentPractice);\r\n\r\n      $('.' + itemType + '-' + item).addClass('bg-info text-white');\r\n\r\n    } else {\r\n      this.selectedPractices.splice(selectedPracticeIndex, 1);\r\n      $('.' + itemType + '-' + item).removeClass('bg-info');\r\n    }\r\n\r\n    this.displayMarkersOnMap();\r\n\r\n    this.emitSelectedPractices.emit(this.selectedPractices);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/practice-search-simple/practice-search-simple.component.ts","import { LatitudeLongitude } from '../../typings/FT.d';\r\n\r\nexport class AutoCompleteResult {\r\n    polygonAreaCode: string;\r\n    displayName: string;\r\n    constructor(polygonAreaCode: string, name: string, parentAreaName: string) {\r\n        this.polygonAreaCode = polygonAreaCode;\r\n        this.displayName = name + ', ' + parentAreaName.replace('NHS ', '')\r\n    }\r\n};\r\n\r\nexport class Practice {\r\n    lat: number;\r\n    lng: number;\r\n    selected: boolean;\r\n    constructor(public areaName: string, public areaCode: string, public addressLine1: string,\r\n        public addressLine2: string, public postcode: string, public distanceValF: string,\r\n        pos: LatitudeLongitude) {\r\n        this.lat = pos.Lat;\r\n        this.lng = pos.Lng;\r\n        this.selected = false;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/practice-search-simple/practice-search-simple.ts","module.exports = \".glyphicon {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.googleMapNg {\\r\\n    position: relative;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #CCC;\\r\\n    width: 550px;\\r\\n    height: 600px;\\r\\n    margin-bottom: 10px;\\r\\n    margin-top: 10px;\\r\\n    clear: both;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#default_search_header {\\r\\n    width: 400px;\\r\\n    padding-top: 10px;\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n#practice-list-info {\\r\\n    min-height: 30px;\\r\\n}\\r\\n\\r\\n#practice-list-info input {\\r\\n    max-width: 450px;\\r\\n}\\r\\n\\r\\n#practice-list-info h3 {\\r\\n    font-size: 1.4em;\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.practice-header {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.nearby-practices-map {\\r\\n    float: right;\\r\\n    width: 550px;\\r\\n    height: 0px;\\r\\n    margin-top: -10px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.nearby-practices-map #google-map {\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n#table-container {\\r\\n    height: 600px;\\r\\n    overflow-y: scroll;\\r\\n}\\r\\n\\r\\n.nearby-practices-table {\\r\\n    float: left;\\r\\n    width: 45%;\\r\\n}\\r\\n\\r\\n.nearby-practices-table table {\\r\\n    width: 100%;\\r\\n    border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.nearby-practices-table .header {\\r\\n    position: relative;\\r\\n    background-color: #02ae94;\\r\\n    padding: 10px;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.nearby-practices-table td,\\r\\n.nearby-practices-table th {\\r\\n    padding: 0;\\r\\n    font-weight: normal;\\r\\n    text-align: left;\\r\\n    vertical-align: top;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n#show-all-practices {\\r\\n    padding: 23px 0 18px 0;\\r\\n}\\r\\n\\r\\n#show-all-practices a,\\r\\na:visited,\\r\\na:active,\\r\\na:hover {\\r\\n    color: #1d1dae;\\r\\n}\\r\\n\\r\\n#show-all-practices a,\\r\\na:visited,\\r\\na:active,\\r\\na:hover {\\r\\n    color: #2e3191;\\r\\n    text-decoration: underline;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n#show-all-practices a {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.highlight-address {\\r\\n    background-color: #e6e6e6\\r\\n}\\r\\n\\r\\n.highlight-header {\\r\\n    background-color: #525252;\\r\\n    position: relative;\\r\\n    padding: 10px;\\r\\n    color: #fff;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/practice-search/practice-search.component.css\n// module id = ./src/app/map/practice-search/practice-search.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container\\\" style=\\\"margin-left:-15px;\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div *ngIf=\\\"searchMode\\\" class=\\\"col-md-8\\\">\\r\\n            <h2>Find your practice</h2>\\r\\n        </div>\\r\\n        <div id=\\\"practice-list-info\\\" class=\\\"col-md-6\\\">\\r\\n            <h3>Search for a practice by postcode or place name:</h3>\\r\\n            <input [(ngModel)]=\\\"placeNameText\\\" [typeahead]=\\\"dataSource\\\" (typeaheadLoading)=\\\"changeTypeaheadLoading($event)\\\" (typeaheadNoResults)=\\\"changeTypeaheadNoResults($event)\\\" (typeaheadOnSelect)=\\\"typeaheadOnSelect($event)\\\" typeaheadOptionsLimit=\\\"7\\\" typeaheadOptionField=\\\"displayName\\\"\\r\\n                placeholder=\\\"\\\" [typeaheadWaitMs]=\\\"200\\\" [typeaheadMinLength]=\\\"3\\\" class=\\\"form-control\\\" id=\\\"gp-practice-search-text\\\">\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n            <div id=\\\"show-all-practices\\\" [hidden]=\\\"!displayCCGPracticeLink\\\">\\r\\n                <a id=\\\"all_ccg_practices\\\" (click)=\\\"onShowAllPracticeinCCGClick()\\\" title=\\\"Display all practices within CCG on the map\\\">\\r\\n                            Show all practices in CCG</a>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"typeaheadNoResults===true\\\" class=\\\"\\\">\\r\\n                No Results Found\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"practice-list-info\\\" class=\\\"row col-md-12\\\">\\r\\n        <h3 *ngIf=\\\"nearByPractices?.length > 0 \\\" id=\\\"practice-count-info\\\">{{practiceCountText}}</h3>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"nearby-practices-table\\\" *ngIf=\\\"nearByPractices?.length >0\\\">\\r\\n    <div class=\\\"table-data\\\" id=\\\"mortality-rankings\\\">\\r\\n        <div id=\\\"table-container\\\" #scrollPracticeTable>\\r\\n            <table id=\\\"search-table\\\">\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let item of nearByPractices\\\" id=\\\"practice-header\\\">\\r\\n                        <table>\\r\\n                            <tr [attr.id]=\\\"item.areaCode\\\">\\r\\n                                <td colspan=\\\"2\\\">\\r\\n                                    <div class=\\\"practice-header clearfix\\\" [ngClass]=\\\"{'highlight-header': item.selected,'header': item.selected==false}\\\" (click)=\\\"onSelectPracticeClick(item.areaCode)\\\">\\r\\n                                        {{item.areaCode}} - {{item.areaName}}\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                            <tr [ngClass]=\\\"{'highlight-address': item.selected}\\\">\\r\\n                                <td style=\\\"width:70%\\\">\\r\\n                                    <div>{{item.addressLine1}}</div>\\r\\n                                    <div>{{item.addressLine2}}</div>\\r\\n                                    <div>{{item.postcode}}</div>\\r\\n                                </td>\\r\\n                                <td style=\\\"width:30%\\\">\\r\\n                                    <div *ngIf=\\\"!showCcgPractices\\\" class=\\\"center-text\\\">{{item.distanceValF}} miles</div>\\r\\n                                    <div>\\r\\n                                        <a (click)=\\\"onSelectPracticeClick(item.areaCode)\\\" style=\\\"color: #2e3191;text-decoration: underline;\\\" id=\\\"select-practice\\\">\\r\\n                                         Select\\r\\n                                       </a>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </table>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div [style.height]=\\\"height + 'px'\\\" class=\\\"nearby-practices-map\\\">\\r\\n    <div id=\\\"google-map\\\" #googleMapNew class=\\\"googleMapNg\\\">\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/practice-search/practice-search.component.html\n// module id = ./src/app/map/practice-search/practice-search.component.html\n// module chunks = main","import {\r\n    Component, OnInit, ViewChild, ElementRef, ChangeDetectorRef, Input, OnChanges, SimpleChanges\r\n} from '@angular/core';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport { AreaService } from '../../shared/service/api/area.service';\r\nimport { AreaTypeIds } from '../../shared/shared';\r\nimport { AreaTextSearchResult, NearByAreas, AreaAddress } from '../../typings/FT.d';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { TypeaheadMatch } from 'ngx-bootstrap/typeahead';\r\nimport { AutoCompleteResult, Practice } from './practice-search';\r\nimport * as _ from 'underscore';\r\n@Component({\r\n    selector: 'ft-practice-search',\r\n    templateUrl: './practice-search.component.html',\r\n    styleUrls: ['./practice-search.component.css']\r\n})\r\nexport class PracticeSearchComponent implements OnInit, OnChanges {\r\n\r\n    @ViewChild('scrollPracticeTable') practiceTable: ElementRef;\r\n    @ViewChild('googleMapNew') mapEl: ElementRef;\r\n    @Input() IsMapUpdateRequired = false;\r\n    @Input() searchMode = false;\r\n\r\n    // Instance equivalent of searchMode which is more reliable\r\n    localSearchMode: boolean;\r\n\r\n    public placeNameText: string;\r\n    public typeaheadLoading: boolean;\r\n    public typeaheadNoResults: boolean;\r\n    public dataSource: Observable<any>;\r\n    public height = 0;\r\n\r\n    practiceMap: google.maps.Map;\r\n    isVisible = false;\r\n    searchResults: AreaTextSearchResult[] = [];\r\n    selectedArea: AreaTextSearchResult;\r\n    nearByPractices: Practice[] = [];\r\n    practiceCountText: string;\r\n    showCcgPractices = false;\r\n    displayCCGPracticeLink: boolean;\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (this.IsMapUpdateRequired && this.showCcgPractices) {\r\n            this.onShowAllPracticeinCCGClick();\r\n        }\r\n        if (changes['searchMode']) {\r\n            let displyCCGLink = changes['searchMode'].currentValue;\r\n            if (displyCCGLink !== undefined) {\r\n                if (displyCCGLink) {\r\n                    this.localSearchMode = true;\r\n                    this.displayCCGPracticeLink = false;\r\n                }\r\n            } else {\r\n                this.localSearchMode = false;\r\n                this.displayCCGPracticeLink = true;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    constructor(private ftHelperService: FTHelperService,\r\n        private areaService: AreaService,\r\n        private ref: ChangeDetectorRef) {\r\n\r\n        this.localSearchMode = false;\r\n        this.displayCCGPracticeLink = true;\r\n        this.dataSource = Observable.create((observer: any) => {\r\n            this.areaService.getAreaSearchByText(this.placeNameText, AreaTypeIds.CcgPreApr2017, true, true)\r\n                .subscribe((result: any) => {\r\n                    this.searchResults = <AreaTextSearchResult[]>result;\r\n                    let newResult = _.map(this.searchResults, function (result) {\r\n                        return new AutoCompleteResult(result.PolygonAreaCode, result.PlaceName,\r\n                            result.PolygonAreaName);\r\n                    });\r\n                    observer.next(newResult);\r\n                });\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.isVisible = this.ftHelperService.getFTModel().areaTypeId === AreaTypeIds.Practice;\r\n        if (!this.practiceMap) {\r\n            this.loadMap();\r\n        }\r\n    }\r\n\r\n    loadMap() {\r\n        const mapOptions: google.maps.MapOptions = {\r\n            zoom: 6,\r\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n            panControl: false,\r\n            zoomControl: true,\r\n            zoomControlOptions: { position: google.maps.ControlPosition.TOP_LEFT },\r\n            scaleControl: false,\r\n            streetViewControl: false,\r\n            mapTypeControl: false,\r\n            fullscreenControl: false,\r\n        };\r\n        let mapContainer = null;\r\n        if (this.mapEl && this.mapEl.nativeElement) {\r\n            mapContainer = this.mapEl.nativeElement;\r\n        }\r\n        if (mapContainer != null) {\r\n            this.practiceMap = new google.maps.Map(mapContainer, mapOptions);\r\n        }\r\n\r\n        if (this.practiceMap) {\r\n            const bounds = new google.maps.LatLngBounds();\r\n            const position = new google.maps.LatLng(53.415649, -2.209015);\r\n            bounds.extend(position);\r\n            this.practiceMap.setCenter(bounds.getCenter());\r\n            let thisCom = this;\r\n            // This is needed as on initial load map was not visible\r\n            google.maps.event.addListener(this.practiceMap, 'idle', function () {\r\n                let bound = thisCom.practiceMap.getCenter();\r\n                google.maps.event.trigger(thisCom.practiceMap, 'resize');\r\n                thisCom.practiceMap.setCenter(bound);\r\n            });\r\n        }\r\n    }\r\n    public changeTypeaheadLoading(e: boolean): void {\r\n        this.typeaheadLoading = e;\r\n    }\r\n\r\n    public changeTypeaheadNoResults(e: boolean): void {\r\n        this.typeaheadNoResults = e;\r\n    }\r\n\r\n    public typeaheadOnSelect(e: TypeaheadMatch): void {\r\n        let polygonAreaCode = (<AutoCompleteResult>e.item).polygonAreaCode;\r\n        this.selectedArea = _.find(this.searchResults, function (obj) { return obj.PolygonAreaCode === polygonAreaCode; });\r\n        this.areaService.getAreaSearchByProximity(this.selectedArea.Easting, this.selectedArea.Northing, AreaTypeIds.Practice)\r\n            .subscribe((result: any) => {\r\n                let nearByAreas = <NearByAreas[]>result;\r\n                this.nearByPractices = _.map(nearByAreas, function (area) {\r\n                    return new Practice(area.AreaName, area.AreaCode,\r\n                        area.AddressLine1, area.AddressLine2, area.Postcode,\r\n                        area.DistanceValF, area.LatLng);\r\n                });\r\n                this.displayNumberOfPracticesFound(this.nearByPractices.length, false);\r\n                this.displayMarkersOnMap();\r\n                this.showCcgPractices = false;\r\n            });\r\n    }\r\n    displayNumberOfPracticesFound(practiceCount, IsCCG: boolean): void {\r\n        let placeName = '';\r\n        if (IsCCG) {\r\n            placeName = ' in ' + this.ftHelperService.getParentArea().Name;\r\n        } else {\r\n            placeName = ' within 5 miles of ' + this.selectedArea.PlaceName;\r\n        }\r\n        let html: string;\r\n        if (practiceCount === 0) {\r\n            html = 'are no practices';\r\n        } else if (practiceCount === 1) {\r\n            html = 'is 1 practice';\r\n        } else {\r\n            html = 'are ' + practiceCount + ' practices';\r\n        }\r\n        this.practiceCountText = 'There ' + html + placeName;\r\n    }\r\n\r\n    onShowAllPracticeinCCGClick(): void {\r\n        this.areaService.getAreaAddressesByParentAreaCode(this.ftHelperService.getFTModel().parentCode,\r\n            this.ftHelperService.getFTModel().areaTypeId)\r\n            .subscribe((result: any) => {\r\n                let areaAddresses = <AreaAddress[]>result;\r\n                this.nearByPractices = _.map(areaAddresses, function (area) {\r\n                    return new Practice(area.Name, area.Code,\r\n                        area.A1, area.A2, area.Postcode, '', area.Pos);\r\n                });\r\n                this.displayNumberOfPracticesFound(this.nearByPractices.length, true);\r\n                this.displayMarkersOnMap();\r\n                this.showCcgPractices = true;\r\n                this.placeNameText = '';\r\n            });\r\n    }\r\n\r\n    displayMarkersOnMap(): void {\r\n        let bounds = new google.maps.LatLngBounds();\r\n        const infoWindow = new google.maps.InfoWindow({});\r\n        let linkList = [];\r\n        for (let i = 0; i < this.nearByPractices.length; i++) {\r\n            let position = new google.maps.LatLng(this.nearByPractices[i].lat, this.nearByPractices[i].lng);\r\n            bounds.extend(position);\r\n\r\n            // Create marker\r\n            let marker = new google.maps.Marker({\r\n                position: position,\r\n                map: this.practiceMap\r\n            });\r\n            marker.set('marker_id', this.nearByPractices[i].areaCode);\r\n\r\n            // Create pop up text\r\n            let boxText = document.createElement('a');\r\n            boxText.id = i.toString();\r\n            boxText.className = 'select-area-link';\r\n            boxText.style.cssText = 'color: #2e3191; text-decoration: underline; font-size:16px;';\r\n            boxText.innerHTML = this.nearByPractices[i].areaName;\r\n            linkList.push(boxText);\r\n\r\n            // Map marker click\r\n            google.maps.event.addListener(marker, 'click', (event) => {\r\n                let areaCode = marker.get('marker_id');\r\n                infoWindow.setContent(linkList[i]);\r\n                infoWindow.open(this.practiceMap, marker);\r\n\r\n                let $practiceHeader = $('#' + areaCode);\r\n\r\n                // Deselect last selected one if any\r\n                let lastSelectedPracticeIndex = _.findIndex(this.nearByPractices, x => x.selected === true);\r\n                if (lastSelectedPracticeIndex !== -1) {\r\n                    const lastSelectedPractice = this.nearByPractices[lastSelectedPracticeIndex];\r\n                    lastSelectedPractice.selected = false;\r\n                    if (lastSelectedPracticeIndex !== -1) {\r\n                        this.nearByPractices.splice(lastSelectedPracticeIndex, 1, lastSelectedPractice);\r\n                    }\r\n                    this.nearByPractices = this.nearByPractices.slice();\r\n                }\r\n\r\n                // Select-Highlight the current practice on table\r\n                const currentPracticeIndex = _.findIndex(this.nearByPractices, x => x.areaCode === areaCode);\r\n                const currentPractice = this.nearByPractices[currentPracticeIndex];\r\n                currentPractice.selected = true;\r\n                if (currentPracticeIndex !== -1) {\r\n                    this.nearByPractices.splice(currentPracticeIndex, 1, currentPractice);\r\n                }\r\n                this.nearByPractices = this.nearByPractices.slice();\r\n\r\n                // Scroll table so selected practice is at the top\r\n                const scrollTop = $practiceHeader.offset().top -\r\n                    this.practiceTable.nativeElement.offsetTop +\r\n                    this.practiceTable.nativeElement.scrollTop;\r\n                this.practiceTable.nativeElement.scrollTop = scrollTop;\r\n\r\n                this.ref.detectChanges();\r\n            });\r\n\r\n            // Practice pop up link click\r\n            google.maps.event.addDomListener(linkList[i], 'click', (event) => {\r\n                let areaCode = marker.get('marker_id');\r\n                this.onSelectPracticeClick(areaCode);\r\n            });\r\n        }\r\n        this.fitMapToPracticeResults(bounds);\r\n\r\n        this.height = 610;\r\n    }\r\n\r\n    fitMapToPracticeResults(bounds: google.maps.LatLngBounds) {\r\n        this.practiceMap.fitBounds(bounds);\r\n        let googleMapsEvent = google.maps.event;\r\n        // Add bounds changed listener\r\n        let thisCom = this;\r\n        let zoomChangeBoundsListener =\r\n            googleMapsEvent.addListenerOnce(this.practiceMap, 'bounds_changed', function () {\r\n                const maximumZoom = 13;\r\n                // Zoom out if to close\r\n                if (thisCom.practiceMap.getZoom() > maximumZoom) {\r\n                    thisCom.practiceMap.setZoom(maximumZoom);\r\n                }\r\n                googleMapsEvent.removeListener(zoomChangeBoundsListener);\r\n            });\r\n    }\r\n\r\n    onSelectPracticeClick(areaCode: string): void {\r\n        this.ftHelperService.lock();\r\n        if (this.localSearchMode) {\r\n            window.location.href = '/profile/general-practice/data#page/12/ati/' +\r\n                AreaTypeIds.Practice + '/are/' + areaCode;\r\n        } else {\r\n            this.ftHelperService.setAreaCode(areaCode);\r\n            this.ftHelperService.redirectToPopulationPage();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/practice-search/practice-search.component.ts","import { LatitudeLongitude } from '../../typings/FT.d';\r\n\r\nexport class AutoCompleteResult {\r\n    polygonAreaCode: string;\r\n    displayName: string;\r\n    constructor(polygonAreaCode: string, name: string, parentAreaName: string) {\r\n        this.polygonAreaCode = polygonAreaCode;\r\n        this.displayName = name + \", \" + parentAreaName.replace('NHS ', '')\r\n    }\r\n};\r\n\r\nexport class Practice {\r\n    lat: number;\r\n    lng: number;\r\n    selected: boolean;\r\n    constructor(public areaName: string, public areaCode: string, public addressLine1: string,\r\n        public addressLine2: string, public postcode: string, public distanceValF: string,\r\n        pos: LatitudeLongitude) {\r\n        this.lat = pos.Lat;\r\n        this.lng = pos.Lng;\r\n        this.selected = false;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/practice-search/practice-search.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/metadata/metadata-table/metadata-table.component.css\n// module id = ./src/app/metadata/metadata-table/metadata-table.component.css\n// module chunks = main","module.exports = \"<div #table class=\\\"definition-table\\\">\\r\\n    <h2>Indicator Definitions and Supporting Information</h2>\\r\\n    <tbody>\\r\\n        <table class=\\\"bordered-table\\\" cellspacing=\\\"0\\\">\\r\\n            <tr *ngFor=\\\"let row of rows\\\">\\r\\n                <td class=\\\"header\\\" [innerHTML]=\\\"row.header\\\"></td>\\r\\n                <td [innerHTML]=\\\"row.text\\\"></td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </tbody>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/metadata/metadata-table/metadata-table.component.html\n// module id = ./src/app/metadata/metadata-table/metadata-table.component.html\n// module chunks = main","import {\r\n  Component, HostListener, Input, ViewChild, ElementRef, Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n  FTModel, FTRoot, GroupRoot, IndicatorMetadata, TooltipManager, IndicatorMetadataTextProperty,\r\n  KeyValuePair, ComparatorMethod, ProfilePerIndicator\r\n} from '../../typings/FT.d';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport { TooltipHelper } from '../../shared/shared';\r\nimport { IndicatorService } from '../../shared/service/api/indicator.service';\r\nimport { ProfileService } from '../../shared/service/api/profile.service';\r\nimport * as _ from 'underscore';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n\r\n@Component({\r\n  selector: 'ft-metadata-table',\r\n  templateUrl: './metadata-table.component.html',\r\n  styleUrls: ['./metadata-table.component.css']\r\n})\r\nexport class MetadataTableComponent {\r\n\r\n  @Output() isReady = new EventEmitter<boolean>();\r\n  @ViewChild('table') table: ElementRef;\r\n\r\n  public rows: MetadataRow[];\r\n  private tempRows: MetadataRow[];\r\n  private showDataQuality: boolean;\r\n  private readonly NotApplicable: string = 'n/a';\r\n  private metadataProperties: IndicatorMetadataTextProperty[];\r\n  private indicatorProfiles: Map<number, ProfilePerIndicator[]>;\r\n\r\n  constructor(private ftHelperService: FTHelperService,\r\n    private indicatorService: IndicatorService,\r\n    private profileService: ProfileService) {\r\n    this.showDataQuality = ftHelperService.getFTConfig().showDataQuality;\r\n  }\r\n\r\n  public showInLightbox() {\r\n    this.ftHelperService.showIndicatorMetadataInLightbox(this.table.nativeElement);\r\n  }\r\n\r\n  /**\r\n   * For displaying metadata on the Definitions tab\r\n   */\r\n  public displayMetadataForGroupRoot(root: GroupRoot): void {\r\n\r\n    this.isReady.emit(false);\r\n\r\n    // Get data by AJAX\r\n    let metadataPropertiesObservable = this.indicatorService.getIndicatorMetadataProperties();\r\n    let metadataObservable = this.indicatorService.getIndicatorMetadata(root.Grouping[0].GroupId);\r\n    let indicatorProfilesObservable = this.profileService.getIndicatorProfiles([root.IID]);\r\n\r\n    Observable.forkJoin([metadataPropertiesObservable, metadataObservable, indicatorProfilesObservable]).subscribe(results => {\r\n\r\n      this.metadataProperties = results[0];\r\n      let metadataHash: Map<number, IndicatorMetadata> = results[1];\r\n      this.indicatorProfiles = results[2];\r\n\r\n      let indicatorMetadata = metadataHash[root.IID];\r\n      this.displayMetadata(indicatorMetadata, root);\r\n\r\n      this.ftHelperService.showAndHidePageElements();\r\n      this.ftHelperService.unlock();\r\n      this.isReady.emit(true);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * For displaying metadata in a pop up\r\n   */\r\n  public displayMetadataForIndicator(indicatorId: number, restrictToProfileIds: number[]): void {\r\n\r\n    this.isReady.emit(false);\r\n\r\n    // Get data by AJAX\r\n    let metadataPropertiesObservable = this.indicatorService.getIndicatorMetadataProperties();\r\n    let metadataObservable = this.indicatorService.getIndicatorMetadataByIndicatorId(indicatorId, restrictToProfileIds);\r\n\r\n    Observable.forkJoin([metadataPropertiesObservable, metadataObservable]).subscribe(results => {\r\n\r\n      this.metadataProperties = results[0];\r\n      let metadataHash: Map<number, IndicatorMetadata> = results[1];\r\n      this.indicatorProfiles = null;\r\n\r\n      let indicatorMetadata = metadataHash[indicatorId];\r\n      this.displayMetadata(indicatorMetadata);\r\n      this.isReady.emit(true);\r\n    });\r\n  }\r\n\r\n  private displayMetadataForAjaxResults() {\r\n\r\n  }\r\n\r\n  private displayMetadata(indicatorMetadata: IndicatorMetadata, root?: GroupRoot): void {\r\n\r\n    this.tempRows = new Array<MetadataRow>();\r\n\r\n    // Assign key variables\r\n    let descriptive = indicatorMetadata.Descriptive;\r\n\r\n    // Define IDs\r\n    let propertyIndex, benchmarkingMethodId, benchmarkingSigLevel;\r\n    if (root) {\r\n      benchmarkingMethodId = root.ComparatorMethodId;\r\n      benchmarkingSigLevel = root.Grouping[0].SigLevel;\r\n    } else {\r\n      benchmarkingMethodId = benchmarkingSigLevel = null;\r\n    }\r\n\r\n    this.addMetadataRow('Indicator ID', indicatorMetadata.IID);\r\n\r\n    if (root) {\r\n      if (root.DateChanges && root.DateChanges.DateOfLastChange && root.DateChanges.DateOfLastChange !== '') {\r\n        let dateOfLastChange = new DatePipe('en-GB').transform(root.DateChanges.DateOfLastChange, 'dd MMM yyyy')\r\n        if (root.DateChanges.HasDataChangedRecently) {\r\n          dateOfLastChange = dateOfLastChange + ' <span class=\"badge badge-success\">New data</span>';\r\n        }\r\n        this.addMetadataRow('Date updated', dateOfLastChange);\r\n      }\r\n    }\r\n\r\n    // Initial indicator text properties\r\n    for (propertyIndex = 0; propertyIndex < this.metadataProperties.length; propertyIndex++) {\r\n      let property = this.metadataProperties[propertyIndex];\r\n      if (property.Order > 59) {\r\n        break;\r\n      }\r\n\r\n      // Do not dislay name as full name is displayed\r\n      if ((property.ColumnName !== 'Name')) {\r\n        this.addMetadataRowByProperty(descriptive, property);\r\n      }\r\n    }\r\n\r\n    // Value type\r\n    this.addMetadataRow('Value type', indicatorMetadata.ValueType.Name);\r\n\r\n    // Text - Methodology\r\n    this.addMetadataRowByProperty(descriptive, this.metadataProperties[propertyIndex++]);\r\n\r\n    // Unit\r\n    let unit = indicatorMetadata.Unit.Label;\r\n    if (unit) {\r\n      this.addMetadataRow('Unit', indicatorMetadata.Unit.Label);\r\n    }\r\n\r\n    // Text - Standard population\r\n    this.addMetadataRowByProperty(descriptive, this.metadataProperties[propertyIndex++]);\r\n\r\n    if (root) {\r\n      // Age\r\n      this.addMetadataRow('Age', root.Age.Name);\r\n\r\n      // Sex\r\n      this.addMetadataRow('Sex', root.Sex.Name);\r\n    }\r\n\r\n    // Year type\r\n    this.addMetadataRow('Year type', indicatorMetadata.YearType.Name);\r\n\r\n    // Frequency\r\n    this.addMetadataRowByProperty(descriptive, this.metadataProperties[propertyIndex++]);\r\n\r\n    // Benchmarking method\r\n    if (benchmarkingMethodId) {\r\n      let row = new MetadataRow('Benchmarking method', '');\r\n      this.tempRows.push(row);\r\n      this.assignBenchmarkingMethod(row, benchmarkingMethodId);\r\n    }\r\n\r\n    // Benchmarking significance level\r\n    if (benchmarkingSigLevel) {\r\n      let text = (benchmarkingSigLevel <= 0) ?\r\n        this.NotApplicable :\r\n        benchmarkingSigLevel + '%';\r\n      this.addMetadataRow('Benchmarking significance level', text);\r\n    }\r\n\r\n    // Confidence interval method\r\n    let ciMethod = indicatorMetadata.ConfidenceIntervalMethod;\r\n    if (ciMethod) {\r\n\r\n      this.addMetadataRow('Confidence interval method', ciMethod.Name);\r\n\r\n      // Display CI method description\r\n      let cimDescription = ciMethod.Description;\r\n      if (cimDescription) {\r\n        this.addMetadataRow('Confidence interval methodology', cimDescription);\r\n      }\r\n    }\r\n\r\n    // Confidence level\r\n    let confidenceLevel = indicatorMetadata.ConfidenceLevel;\r\n    if (confidenceLevel > -1) {\r\n      this.addMetadataRow('Confidence level', confidenceLevel + '%');\r\n    }\r\n\r\n    // Display all remaining properties\r\n    while (propertyIndex < this.metadataProperties.length) {\r\n      this.addMetadataRowByProperty(descriptive, this.metadataProperties[propertyIndex]);\r\n      propertyIndex++;\r\n    }\r\n\r\n    this.addIndicatorProfiles(indicatorMetadata.IID);\r\n\r\n    // Trigger view refresh\r\n    this.rows = this.tempRows;\r\n  }\r\n\r\n  private addIndicatorProfiles(indicatorId: number) {\r\n\r\n    let indicatorProfiles = this.indicatorProfiles;\r\n\r\n    if (indicatorProfiles) {\r\n      let profiles: string[] = [];\r\n      for (let i = 0; i < indicatorProfiles[indicatorId].length; i++) {\r\n        let profilePerIndicator: ProfilePerIndicator = indicatorProfiles[indicatorId][i];\r\n        profiles.push('<a href=\"' + profilePerIndicator.Url + '\" target=\"_blank\">' + profilePerIndicator.ProfileName + '</a>')\r\n      }\r\n\r\n      this.addMetadataRow('Profiles included in', profiles.join(', '));\r\n    }\r\n  }\r\n\r\n  private addMetadataRow(header: string, text: string | number): void {\r\n    this.tempRows.push(new MetadataRow(header, text));\r\n  }\r\n\r\n  private addMetadataRowByProperty(textMetadata: KeyValuePair<string, string>[], property: IndicatorMetadataTextProperty): void {\r\n\r\n    let columnName = property.ColumnName;\r\n\r\n    if (textMetadata !== null && textMetadata.hasOwnProperty(columnName)) {\r\n      let text = textMetadata[columnName];\r\n\r\n      if (!_.isUndefined(text) && text !== '') {\r\n\r\n        let displayText: string;\r\n        if ((columnName === 'DataQuality') && this.showDataQuality) {\r\n          // Add data quality flags instead of number\r\n          let dataQualityCount = parseInt(text);\r\n          displayText = this.ftHelperService.getIndicatorDataQualityHtml(text) + ' ' +\r\n            this.ftHelperService.getIndicatorDataQualityTooltipText(dataQualityCount);\r\n        } else {\r\n          displayText = text;\r\n        }\r\n\r\n        let row = new MetadataRow(property.DisplayName, displayText);\r\n        this.tempRows.push(row);\r\n      }\r\n    }\r\n  }\r\n\r\n  private assignBenchmarkingMethod(row: MetadataRow, benchmarkingMethodId: number) {\r\n    let metadataObservable = this.indicatorService.getBenchmarkingMethod(benchmarkingMethodId).subscribe(\r\n      data => {\r\n        let method = <ComparatorMethod>data;\r\n        row.text = method.Name;\r\n      },\r\n      error => { });\r\n  }\r\n}\r\n\r\nclass MetadataRow {\r\n  constructor(public header: string, public text: string | number) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/metadata/metadata-table/metadata-table.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/metadata/metadata.component.css\n// module id = ./src/app/metadata/metadata.component.css\n// module chunks = main","module.exports = \"<div id=\\\"metadata-container\\\" class=\\\"container\\\" style=\\\"display:none;\\\">\\r\\n    <ft-metadata-table #table></ft-metadata-table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/metadata/metadata.component.html\n// module id = ./src/app/metadata/metadata.component.html\n// module chunks = main","import { Component, HostListener, ViewChild } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/Rx';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport {\r\n  GroupRoot\r\n} from '../typings/FT.d';\r\n\r\n@Component({\r\n  selector: 'ft-metadata',\r\n  templateUrl: './metadata.component.html',\r\n  styleUrls: ['./metadata.component.css']\r\n})\r\nexport class MetadataComponent {\r\n  @ViewChild('table') table;\r\n\r\n  constructor(private ftHelperService: FTHelperService, ) { }\r\n\r\n  @HostListener('window:MetadataSelected', ['$event'])\r\n  public onOutsideEvent(event): void {\r\n    let root: GroupRoot = this.ftHelperService.getCurrentGroupRoot();\r\n    this.table.displayMetadataForGroupRoot(root);\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/metadata/metadata.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport {MetadataComponent} from './metadata.component';\r\nimport {MetadataTableComponent} from './metadata-table/metadata-table.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    MetadataComponent,\r\n    MetadataTableComponent\r\n  ],\r\n  exports: [\r\n    MetadataComponent,\r\n    MetadataTableComponent\r\n  ],\r\n})\r\nexport class MetadataModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/metadata/metadata.module.ts","module.exports = \"#population-chart {\\r\\n    float: left;\\r\\n    clear: both;\\r\\n    width: 600px;\\r\\n    height: 600px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population-chart/population-chart.component.css\n// module id = ./src/app/population/population-chart/population-chart.component.css\n// module chunks = main","module.exports = \"<div style=\\\"float: left;width: 600px;\\\">\\r\\n    <div class=\\\"export-chart-box\\\">\\r\\n        <button class=\\\"export-link\\\" (click)=\\\"exportChart()\\\">Export chart as image</button>\\r\\n    </div>\\r\\n    <div class=\\\"export-chart-box-csv\\\">\\r\\n        <button class=\\\"export-link-csv hidden\\\" (click)=\\\"exportChartAsCsv()\\\">Export chart as CSV file</button>\\r\\n    </div>\\r\\n</div>\\r\\n<div id=\\\"population-chart\\\" #chart>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population-chart/population-chart.component.html\n// module id = ./src/app/population/population-chart/population-chart.component.html\n// module chunks = main","import { Component, Input, ViewChild, SimpleChanges, ElementRef } from '@angular/core';\r\nimport { Populations, PopulationMaxFinder } from '../population';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport { AreaCodes, SexIds, HC, Colour } from '../../shared/shared';\r\nimport {\r\n  FTModel, Population\r\n} from '../../typings/FT.d';\r\nimport * as _ from 'underscore';\r\n\r\nimport * as Highcharts from 'highcharts';\r\nrequire('highcharts/modules/exporting')(Highcharts);\r\nrequire('highcharts/highcharts-more')(Highcharts);\r\n\r\n@Component({\r\n  selector: 'ft-population-chart',\r\n  templateUrl: './population-chart.component.html',\r\n  styleUrls: ['./population-chart.component.css']\r\n})\r\nexport class PopulationChartComponent {\r\n\r\n  @Input() populations: Populations;\r\n  private chartTitle: string;\r\n  private chartColours = {\r\n    label: '#333',\r\n    bar: '#76B3B3',\r\n    pink: '#FF66FC'\r\n  }\r\n  private chartTextStyle;\r\n\r\n  @ViewChild('chart') public chartEl: ElementRef;\r\n  chart: Highcharts.ChartObject;\r\n\r\n  constructor(private ftHelperService: FTHelperService) {\r\n    this.chartTextStyle = {\r\n      color: this.chartColours.label,\r\n      fontWeight: 'normal',\r\n      fontFamily: 'Verdana'\r\n    };\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.isAnyData()) {\r\n      let chartContainer = null;\r\n      if (this.chartEl && this.chartEl.nativeElement) {\r\n        chartContainer = this.chartEl.nativeElement;\r\n        this.chart = new Highcharts.Chart(chartContainer, this.getChartOptions());\r\n      }\r\n    }\r\n  }\r\n\r\n  private isAnyData(): boolean {\r\n    return !_.isUndefined(this.populations);\r\n  }\r\n\r\n  private getChartOptions(): any /*Highcharts.Options*/ {\r\n    let model: FTModel = this.ftHelperService.getFTModel();\r\n    let max = new PopulationMaxFinder().getMaximumValue(this.populations);\r\n\r\n    // Populations\r\n    let areaPopulation = this.populations.areaPopulation;\r\n    let areaParentPopulation = this.populations.areaParentPopulation;\r\n    let nationalPopulation = this.populations.nationalPopulation;\r\n\r\n    // Labels\r\n    let subtitle = nationalPopulation.IndicatorName + ' ' + nationalPopulation.Period;\r\n    let maleString = ' (Male)';\r\n    let femaleString = ' (Female)';\r\n    this.chartTitle = '<div style=\"text-align:center;\">Age Profile<br><span style=\"font-size:12px;\">' + subtitle + '</span></div>';\r\n\r\n    let series = [];\r\n\r\n    // Area series\r\n    let areaName = this.ftHelperService.getAreaName(model.areaCode);\r\n    series.push(\r\n      {\r\n        name: areaName + maleString,\r\n        data: areaPopulation.Values[SexIds.Male],\r\n        type: 'bar',\r\n        color: Colour.bobLower\r\n      }, {\r\n        name: areaName + femaleString,\r\n        data: areaPopulation.Values[SexIds.Female],\r\n        type: 'bar',\r\n        color: Colour.bobHigher\r\n      }\r\n    );\r\n\r\n    // Parent area series\r\n    let isParentNotEngland = model.parentCode.toUpperCase() !== AreaCodes.England;\r\n    let isParentNotUk = model.parentCode.toUpperCase() !== AreaCodes.Uk;\r\n\r\n    if (isParentNotEngland && isParentNotUk) {\r\n      let parentAreaName = this.ftHelperService.getParentArea().Name;\r\n      let parentColour = this.chartColours.pink;\r\n      series.push({\r\n        name: parentAreaName,\r\n        data: areaParentPopulation.Values[SexIds.Male],\r\n        color: parentColour,\r\n      },\r\n        {\r\n          name: parentAreaName + femaleString,\r\n          data: areaParentPopulation.Values[SexIds.Female],\r\n          color: parentColour,\r\n          showInLegend: false\r\n        });\r\n    }\r\n\r\n    if (isParentNotUk)\r\n    {\r\n      // England series\r\n      series.push(\r\n        {\r\n          name: 'England',\r\n          data: nationalPopulation.Values[SexIds.Male],\r\n          color: Colour.comparator\r\n        },\r\n        {\r\n          name: 'England' + femaleString,\r\n          data: nationalPopulation.Values[SexIds.Female],\r\n          color: Colour.comparator,\r\n          showInLegend: false\r\n        }\r\n      );\r\n    }\r\n\r\n    return (\r\n      {\r\n        chart: {\r\n          defaultSeriesType: 'line',\r\n          margin: [60, 55, 150, 55],\r\n          /* margins must be set explicitly to avoid labels being positioned outside visible chart area */\r\n          width: 600,\r\n          height: 550\r\n        },\r\n        title: {\r\n          text: this.chartTitle,\r\n          style: this.chartTextStyle,\r\n          useHTML: true\r\n        },\r\n        xAxis: [{\r\n          categories: nationalPopulation.Labels,\r\n          reversed: false\r\n        }, { // mirror axis on right side\r\n          opposite: true,\r\n          reversed: false,\r\n          categories: nationalPopulation.Labels,\r\n          linkedTo: 0\r\n        }\r\n        ],\r\n        yAxis: [{\r\n          min: -max,\r\n          max: max,\r\n          title: {\r\n            text: '% of total population',\r\n            style: this.chartTextStyle\r\n          },\r\n          labels: {\r\n            formatter: function () {\r\n              return Math.abs(this.value);\r\n            }\r\n          }\r\n        }],\r\n        plotOptions: {\r\n          series: {\r\n            events: {\r\n              legendItemClick: function () {\r\n                return false;\r\n              }\r\n            }\r\n          },\r\n          bar: {\r\n            borderWidth: 0,\r\n            pointPadding: 0,\r\n            stacking: 'normal',\r\n            animation: false\r\n          },\r\n          line: {\r\n            // The symbol is a non-valid option here to work round a bug\r\n            // in highcharts where only half of the markers appear on hover\r\n            marker: HC.NoLineMarker,\r\n            animation: false,\r\n            states: {\r\n              hover: {\r\n                marker: HC.NoLineMarker\r\n              }\r\n            }\r\n          }\r\n        },\r\n        legend: {\r\n          enabled: true,\r\n          layout: 'vertical',\r\n          align: 'center',\r\n          verticalAlign: 'bottom',\r\n          itemStyle: {\r\n            fontWeight: 'normal'\r\n          }\r\n        },\r\n        tooltip: {\r\n          formatter: function () {\r\n\r\n            // Get series name\r\n            let name = this.series.name;\r\n            let alreadyHasSexLabel = new RegExp(/e[\\)]$/);\r\n            if (!alreadyHasSexLabel.test(name)) {\r\n              name += maleString;\r\n            }\r\n\r\n            return '<b>' + name + '<br>Age: ' +\r\n              this.point.category + '</b><br/>' +\r\n              'Population: ' + Math.abs(this.point.y) + '%';\r\n          }\r\n        },\r\n        credits: HC.Credits,\r\n        exporting: {\r\n          enabled: false\r\n        },\r\n        series: series\r\n      });\r\n  }\r\n\r\n  public exportChart() {\r\n\r\n    let chartTitle = this.chartTitle;\r\n    this.chart.exportChart({ type: 'image/png' }, {\r\n      chart: {\r\n        spacingTop: 70,\r\n        events: {\r\n          load: function () {\r\n            this.renderer.text(chartTitle, 300, 15)\r\n              .attr({\r\n                align: 'center'\r\n              })\r\n              .css({\r\n                fontSize: '14px',\r\n                width: '600px'\r\n              })\r\n              .add();\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        text: '',\r\n        style: this.chartTextStyle\r\n      }\r\n    });\r\n\r\n    this.ftHelperService.logEvent('ExportImage', 'Population');\r\n  }\r\n\r\n  public exportChartAsCsv(){\r\n      alert(\"It works!\");\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/population/population-chart/population-chart.component.ts","module.exports = \":host /deep/ #population-info,\\r\\n#registered-persons {\\r\\n    width: 355px;\\r\\n    float: left;\\r\\n    margin-top: 6px;\\r\\n}\\r\\n\\r\\n:host /deep/ #population-info .bordered-table {\\r\\n    margin-bottom: 15px;\\r\\n    width: 100%;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n:host /deep/ #registered-persons td.header,\\r\\n#further-info-table td.header {\\r\\n    width: 220px;\\r\\n    background: #fafafa;\\r\\n    padding: 3px 3px 3px 0;\\r\\n    vertical-align: top;\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n:host /deep/ #registered-persons tr td:last-child,\\r\\n#further-info-table tr td:last-child {\\r\\n    padding-left: 3px;\\r\\n}\\r\\n\\r\\n#population-info #decile-key {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.practice-label {\\r\\n    width: 100%;\\r\\n    float: left;\\r\\n    text-align: center;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n#decile-key td {\\r\\n    height: 9px;\\r\\n    width: 30px;\\r\\n    border: 1px solid white;\\r\\n    border-top: 2px solid white;\\r\\n    border-bottom: none;\\r\\n}\\r\\n\\r\\n#deprivation-table,\\r\\n#ethnicity-table {\\r\\n    margin-top: 15px;\\r\\n}\\r\\n\\r\\n#deprivation {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.deprivation-label {\\r\\n    font-size: 10px;\\r\\n    line-height: 10px;\\r\\n    color: #666;\\r\\n    margin-bottom: 3px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population-summary/population-summary.component.css\n// module id = ./src/app/population/population-summary/population-summary.component.css\n// module chunks = main","module.exports = \"<div id=\\\"population-info\\\" style=\\\"float: right; width: 360px;\\\" *ngIf=\\\"shouldDisplay()\\\">\\r\\n    <ft-metadata-table #metadata style=\\\"display:none;\\\" (isReady)=\\\"metadataIsReady($event)\\\"></ft-metadata-table>\\r\\n    <ft-registered-persons-table [registeredPersons]=\\\"registeredPersons\\\" (metadataToShow)=\\\"showMetadata($event)\\\"></ft-registered-persons-table>\\r\\n    <div class=\\\"practice-label\\\">{{practiceLabel}}</div>\\r\\n    <table id=\\\"further-info-table\\\" class=\\\"bordered-table\\\" cellspacing=\\\"0\\\">\\r\\n        <tr *ngFor=\\\"let row of adHocIndicatorRows\\\">\\r\\n            <td class=\\\"header\\\">\\r\\n                <div class=\\\"fl info-tooltip\\\" (click)=\\\"showMetadata(row.indicatorId)\\\"></div>\\r\\n                {{row.indicatorName}}\\r\\n            </td>\\r\\n            <td [innerHTML]=\\\"row.valueText\\\"></td>\\r\\n        </tr>\\r\\n    </table>\\r\\n    <table id=\\\"deprivation-table\\\" class=\\\"bordered-table\\\" cellspacing=\\\"0\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>\\r\\n                    <div class=\\\"w100\\\" style=\\\"position: relative;\\\">\\r\\n                        Deprivation\\r\\n                        <div class=\\\"right-tooltip-icon info-tooltip\\\" (click)=\\\"showDeprivationMetadata()\\\"></div>\\r\\n                    </div>\\r\\n                </th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr>\\r\\n                <td id=\\\"deprivation\\\" style=\\\"border-bottom: none;\\\" [innerHtml]=\\\"decileLabel\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td style=\\\"border-top: none;\\\">\\r\\n                    <table id=\\\"decile-key\\\" cellspacing=\\\"0\\\">\\r\\n                        <tr>\\r\\n                            <td *ngFor=\\\"let decile of decileLabels\\\" [innerHtml]=\\\"decile.text\\\"></td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td *ngFor=\\\"let decile of decileLabels\\\" [class]=\\\"decile.getClass()\\\"></td>\\r\\n                        </tr>\\r\\n                    </table>\\r\\n                    <div class=\\\"fl deprivation-label\\\">More deprived</div>\\r\\n                    <div class=\\\"fr deprivation-label\\\">Less deprived</div>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n    <table id=\\\"ethnicity-table\\\" class=\\\"bordered-table\\\" cellspacing=\\\"0\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>\\r\\n                    <div class=\\\"w100\\\" style=\\\"position: relative;\\\">\\r\\n                        Ethnicity Estimate\\r\\n                        <div class=\\\"right-tooltip-icon info-tooltip\\\" (click)=\\\"showEthnicityMetadata()\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr>\\r\\n                <td [innerHtml]=\\\"ethnicityLabel\\\"></td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population-summary/population-summary.component.html\n// module id = ./src/app/population/population-summary/population-summary.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges, ViewChild, ElementRef } from '@angular/core';\r\nimport {\r\n  AllPopulationData, RegisteredPersons\r\n} from '../population';\r\nimport { FTHelperService } from '../../shared/service/helper/ftHelper.service';\r\nimport {\r\n  FTModel, Population, ValueData\r\n} from '../../typings/FT.d';\r\nimport { CommaNumber, AreaTypeIds, NumberHelper, IndicatorIds, ProfileIds } from '../../shared/shared';\r\nimport * as _ from 'underscore';\r\nimport { MetadataTableComponent } from '../../metadata/metadata-table/metadata-table.component';\r\n\r\n@Component({\r\n  selector: 'ft-population-summary',\r\n  templateUrl: './population-summary.component.html',\r\n  styleUrls: ['./population-summary.component.css']\r\n})\r\nexport class PopulationSummaryComponent implements OnChanges {\r\n\r\n  private noData = '<div class=\"no-data\">-</div>';\r\n\r\n  @Input() allPopulationData: AllPopulationData;\r\n  @ViewChild('metadata') metadata: MetadataTableComponent;\r\n\r\n  registeredPersons: RegisteredPersons[];\r\n  ethnicityLabel: string;\r\n  practiceLabel: string;\r\n  decileLabel: string;\r\n  decileLabels: DecileLabel[];\r\n  adHocIndicatorRows: AdHocIndicatorRow[];\r\n  ftModel: FTModel;\r\n\r\n  constructor(private ftHelperService: FTHelperService) {\r\n    this.ftModel = this.ftHelperService.getFTModel();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.allPopulationData) {\r\n      let areaName = this.ftHelperService.getAreaName(this.ftModel.areaCode);\r\n\r\n      this.defineRegisteredPersons(areaName);\r\n      this.practiceLabel = this.ftModel.areaCode + ' - ' + areaName;\r\n      this.defineAdHocIndicatorRows();\r\n      this.defineDeprivationDecile();\r\n      this.defineEthnicityLabel();\r\n    }\r\n  }\r\n\r\n  public showDeprivationMetadata() {\r\n    this.showMetadata(IndicatorIds.DeprivationScore);\r\n  }\r\n\r\n  public showEthnicityMetadata() {\r\n    this.showMetadata(IndicatorIds.EthnicityEstimates);\r\n  }\r\n\r\n  public showMetadata(indicatorId: number) {\r\n    this.metadata.displayMetadataForIndicator(indicatorId, [ProfileIds.PracticeProfileSupportingIndicators]);\r\n  }\r\n\r\n  public metadataIsReady(isReady: boolean) {\r\n    if (isReady) {\r\n      let metadata = this.metadata;\r\n      // Set timeout so metadata table view will have finished rendering\r\n      setTimeout(function () { metadata.showInLightbox(); });\r\n    }\r\n  }\r\n\r\n  public shouldDisplay(): boolean {\r\n    return this.ftModel.areaTypeId === AreaTypeIds.Practice;\r\n  }\r\n\r\n  private defineDeprivationDecile() {\r\n\r\n    // Decile label\r\n    let decileNumber = this.allPopulationData.populationSummary.GpDeprivationDecile;\r\n    if (_.isUndefined(decileNumber)) {\r\n      this.decileLabel = '<i>Data not available for current practice</i>';\r\n    } else {\r\n      let deciles = this.allPopulationData.deprivationDeciles;\r\n      this.decileLabel = _.find(deciles, function (decile) { return decile.Id === decileNumber; }).Name;\r\n    }\r\n\r\n    // Decile blocks\r\n    let decileLabels: DecileLabel[] = [];\r\n    for (let i = 1; i <= 10; i++) {\r\n      decileLabels.push(new DecileLabel(i));\r\n    }\r\n\r\n    decileLabels[decileNumber - 1].text = '<div class=\"decile decile' +\r\n      decileNumber + '\" >' + decileNumber + '</div>';\r\n\r\n    this.decileLabels = decileLabels;\r\n  }\r\n\r\n  private defineAdHocIndicatorRows() {\r\n\r\n    let rows = [];\r\n    let values = this.allPopulationData.populationSummary.AdHocValues;\r\n\r\n    // QOF achievement\r\n    let qof = values.Qof;\r\n    let text = _.isUndefined(qof)\r\n      ? this.noData\r\n      : NumberHelper.roundNumber(qof.Count, 1) + ' (out of ' + qof.Denom + ')';\r\n    rows.push(new AdHocIndicatorRow(IndicatorIds.QofPoints, 'QOF achievement', text));\r\n\r\n    // Life expectancy\r\n    rows.push(this.getLifeExpectancy('Male', values.LifeExpectancyMale));\r\n    rows.push(this.getLifeExpectancy('Female', values.LifeExpectancyFemale));\r\n\r\n    // Patients that recommend practice\r\n    let recommend = values.Recommend;\r\n    text = _.isUndefined(recommend) ?\r\n      this.noData\r\n      : recommend.ValF + '%';\r\n    rows.push(new AdHocIndicatorRow(IndicatorIds.WouldRecommendPractice,\r\n      '% having a positive experience of their practice', text));\r\n\r\n    this.adHocIndicatorRows = rows;\r\n  }\r\n\r\n  private getLifeExpectancy(sex: string, data: ValueData): AdHocIndicatorRow {\r\n    let text = _.isUndefined(data)\r\n      ? this.noData\r\n      : data.ValF + ' years';\r\n    return new AdHocIndicatorRow(IndicatorIds.LifeExpectancy, 'Life expectancy (' + sex + ')', text);\r\n  }\r\n\r\n  private defineEthnicityLabel() {\r\n    let ethnicity = this.allPopulationData.populationSummary.Ethnicity;\r\n    this.ethnicityLabel = _.isUndefined(ethnicity)\r\n      ? '<i>Insufficient data to provide accurate summary</i>'\r\n      : ethnicity;\r\n  }\r\n\r\n  private defineRegisteredPersons(areaName: string) {\r\n    let populations = this.allPopulationData.populations;\r\n    let parentAreaName = this.ftHelperService.getParentArea().Name;\r\n\r\n    this.registeredPersons = [\r\n      this.getRegisteredPersons(areaName, false, populations.areaPopulation),\r\n      this.getRegisteredPersons(parentAreaName, true, populations.areaParentPopulation),\r\n      this.getRegisteredPersons('ENGLAND', true, populations.nationalPopulation)\r\n    ];\r\n  }\r\n\r\n  private getRegisteredPersons(areaName: string, isAverage: boolean, population: Population): RegisteredPersons {\r\n    let persons = new RegisteredPersons();\r\n    persons.isAverage = isAverage;\r\n    persons.areaName = areaName;\r\n    persons.personCount = this.formatListSize(population.ListSize);\r\n    return persons;\r\n  }\r\n\r\n  private formatListSize(listSize: ValueData): string {\r\n    return listSize && listSize.Val > 0\r\n      ? new CommaNumber(listSize.Val).rounded()\r\n      : null;\r\n  }\r\n}\r\n\r\nclass AdHocIndicatorRow {\r\n  constructor(public indicatorId: number,\r\n    public indicatorName: string,\r\n    public valueText: string) { }\r\n}\r\n\r\nclass DecileLabel {\r\n  constructor(public num: number) { }\r\n  public text = '';\r\n  public getClass(): string {\r\n    return 'decile' + this.num;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/population/population-summary/population-summary.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population.component.css\n// module id = ./src/app/population/population.component.css\n// module chunks = main","module.exports = \"<div id=\\\"population-container\\\" style=\\\"display:none;\\\">\\r\\n    <div class=\\\"standard-width\\\">\\r\\n        <ft-population-chart [populations]=\\\"populations\\\" *ngIf=\\\"isAnyData()\\\"></ft-population-chart>\\r\\n        <ft-population-summary *ngIf=\\\"showSummary\\\" [allPopulationData]=\\\"allPopulationData\\\"></ft-population-summary>\\r\\n        <div class=\\\"no-indicator-data\\\" *ngIf=\\\"!isAnyData()\\\">\\r\\n            No population data available for current area type\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population.component.html\n// module id = ./src/app/population/population.component.html\n// module chunks = main","import { Component, HostListener } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n  FTModel, FTRoot, GroupRoot, Population, Category, PopulationSummary\r\n} from '../typings/FT.d';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport { IndicatorService } from '../shared/service/api/indicator.service';\r\nimport { AreaCodes, AreaTypeIds, CategoryTypeIds } from '../shared/shared';\r\nimport { Populations, PopulationModifier, AllPopulationData } from './population';\r\n\r\n@Component({\r\n  selector: 'ft-population',\r\n  templateUrl: './population.component.html',\r\n  styleUrls: ['./population.component.css']\r\n})\r\nexport class PopulationComponent {\r\n\r\n  populations: Populations = null;\r\n  allPopulationData: AllPopulationData;\r\n  showSummary: boolean;\r\n\r\n  constructor(private ftHelperService: FTHelperService, private indicatorService: IndicatorService) { }\r\n\r\n  @HostListener('window:PopulationSelected', ['$event'])\r\n  public onOutsideEvent(event): void {\r\n\r\n    let model = this.ftHelperService.getFTModel();\r\n    this.showSummary = model.areaTypeId === AreaTypeIds.Practice;\r\n\r\n    // Get populations\r\n    const observables = [];\r\n    observables.push(\r\n      this.indicatorService.getPopulation(model.areaCode, model.areaTypeId),\r\n      this.indicatorService.getPopulation(model.parentCode, model.areaTypeId),\r\n      this.indicatorService.getPopulation(AreaCodes.England, model.areaTypeId)\r\n    );\r\n\r\n    // Get summary data\r\n    if (this.showSummary) {\r\n      observables.push(\r\n        this.indicatorService.getPopulationSummary(model.areaCode, model.areaTypeId),\r\n        this.indicatorService.getCategories(CategoryTypeIds.DeprivationDecileGp2015)\r\n      );\r\n    }\r\n\r\n    Observable.forkJoin(observables).subscribe(results => {\r\n\r\n      // Init populations\r\n      let populations = new Populations();\r\n      populations.areaPopulation = <Population>results[0];\r\n      populations.areaParentPopulation = <Population>results[1];\r\n      populations.nationalPopulation = <Population>results[2];\r\n      new PopulationModifier(populations).makeMalePopulationsNegative();\r\n      this.populations = populations;\r\n\r\n      // Summary\r\n      if (this.showSummary) {\r\n        const deprivationDeciles = <Category[]>results[4];\r\n        const populationSummary = <PopulationSummary>results[3];\r\n        this.allPopulationData = new AllPopulationData(this.populations,\r\n          populationSummary, deprivationDeciles);\r\n      }\r\n\r\n      this.ftHelperService.showAndHidePageElements();\r\n      this.ftHelperService.unlock();\r\n    });\r\n  }\r\n\r\n  public isAnyData(): boolean {\r\n    return this.populations &&\r\n      this.populations.nationalPopulation.IndicatorName !== null;\r\n  }\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/population/population.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { PopulationComponent } from './population.component';\r\nimport { PopulationChartComponent } from './population-chart/population-chart.component';\r\nimport { PopulationSummaryComponent } from './population-summary/population-summary.component';\r\nimport { RegisteredPersonsTableComponent } from './registered-persons-table/registered-persons-table.component';\r\nimport { MetadataModule } from '../metadata/metadata.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule,\r\n        MetadataModule\r\n    ],\r\n    declarations: [\r\n        PopulationComponent,\r\n        PopulationChartComponent,\r\n        PopulationSummaryComponent,\r\n        RegisteredPersonsTableComponent\r\n    ],\r\n    exports: [\r\n        PopulationComponent\r\n    ]\r\n})\r\nexport class PopulationModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/population/population.module.ts","import { Population, PopulationSummary, Category } from '../typings/FT.d';\r\nimport { AreaCodes, SexIds } from '../shared/shared';\r\nimport * as _ from 'underscore';\r\n\r\nexport class Populations {\r\n    public areaPopulation: Population;\r\n    public areaParentPopulation: Population;\r\n    public nationalPopulation: Population;\r\n}\r\n\r\nexport class AllPopulationData {\r\n    constructor(public populations: Populations,\r\n        public populationSummary: PopulationSummary,\r\n        public deprivationDeciles: Category[]) { }\r\n}\r\n\r\nexport class RegisteredPersons {\r\n    areaName: string;\r\n    personCount: string;\r\n    isAverage: boolean;\r\n    public hasPersonCount(): boolean {\r\n        return this.personCount !== null;\r\n    }\r\n}\r\n\r\nexport class PopulationModifier {\r\n\r\n    constructor(private populations: Populations) { }\r\n\r\n    /** Make male population percentages -ve so they are displayed on the opposite side of the axis\r\n     * to female values\r\n     */\r\n    public makeMalePopulationsNegative() {\r\n        this.makeMaleValuesNegative(this.populations.areaPopulation);\r\n        this.makeMaleValuesNegative(this.populations.areaParentPopulation);\r\n        this.makeMaleValuesNegative(this.populations.nationalPopulation);\r\n    }\r\n\r\n    private makeMaleValuesNegative(population: Population) {\r\n        let values = population.Values;\r\n        if (!_.isUndefined(values[SexIds.Male]) || !_.isUndefined(SexIds.Female)) {\r\n            let maleValues = values[SexIds.Male];\r\n            for (let i in maleValues) {\r\n                maleValues[i] = -Math.abs(maleValues[i]);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport class PopulationMaxFinder {\r\n\r\n    /** Finds the maximum population value to enable equal axis limits to be \r\n     * set on both the male and female sides\r\n     */\r\n    getMaximumValue(populations: Populations): number {\r\n        return this.getPopulationMax([\r\n            populations.areaPopulation,\r\n            populations.areaParentPopulation,\r\n            populations.nationalPopulation\r\n        ]);\r\n    }\r\n\r\n    private getPopulationMax(populations: Population[]): number {\r\n        let max = 5;\r\n        let min = -max;\r\n        for (let i in populations) {\r\n            if (populations[i] != null) {\r\n                min = _.min([min, _.min(populations[i].Values[SexIds.Male])]);\r\n                max = _.max([max, _.max(populations[i].Values[SexIds.Female])]);\r\n            }\r\n        }\r\n        return Math.ceil(_.max([max, -min]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/population/population.ts","module.exports = \".population-heading {\\r\\n    margin-top: 15px;\\r\\n    float: left;\\r\\n    text-align: center;\\r\\n    width: 100%;\\r\\n    font-weight: bold;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.average {\\r\\n    font-size: 9px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/registered-persons-table/registered-persons-table.component.css\n// module id = ./src/app/population/registered-persons-table/registered-persons-table.component.css\n// module chunks = main","module.exports = \"<div id=\\\"registered-persons\\\">\\r\\n    <div class=\\\"population-heading\\\">\\r\\n        <div class=\\\"right-tooltip-icon info-tooltip\\\" (click)=\\\"showMetadata()\\\">\\r\\n        </div>\\r\\n        <div>Registered Persons</div>\\r\\n    </div>\\r\\n    <table class=\\\"bordered-table\\\" cellspacing=\\\"0\\\">\\r\\n        <tbody>\\r\\n            <tr *ngFor=\\\"let row of registeredPersons\\\">\\r\\n                <td class=\\\"header\\\">\\r\\n                    {{row.areaName}}\\r\\n                </td>\\r\\n                <td>{{row.personCount}}\\r\\n                    <div *ngIf=\\\"!row.hasPersonCount()\\\" class=\\\"no-data\\\">-</div>\\r\\n                    <span *ngIf=\\\"row.isAverage && row.hasPersonCount()\\\" class=\\\"average\\\">(average)</span>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/registered-persons-table/registered-persons-table.component.html\n// module id = ./src/app/population/registered-persons-table/registered-persons-table.component.html\n// module chunks = main","import { Component, Input, EventEmitter, Output } from '@angular/core';\r\nimport {\r\n  RegisteredPersons\r\n} from '../population';\r\nimport {\r\n  IndicatorIds\r\n} from '../../shared/shared';\r\n\r\n@Component({\r\n  selector: 'ft-registered-persons-table',\r\n  templateUrl: './registered-persons-table.component.html',\r\n  styleUrls: ['./registered-persons-table.component.css']\r\n})\r\nexport class RegisteredPersonsTableComponent {\r\n\r\n  @Input() registeredPersons: RegisteredPersons[];\r\n  @Output() metadataToShow = new EventEmitter<number>();\r\n\r\n  public showMetadata() {\r\n    this.metadataToShow.emit(IndicatorIds.QofListSize);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/population/registered-persons-table/registered-persons-table.component.ts","module.exports = \".btn-link {\\r\\n    color: #2e3191;\\r\\n}\\r\\n\\r\\ntable tr td {\\r\\n    font-size: 17px;\\r\\n    padding-left: 3px;\\r\\n}\\r\\n\\r\\ntable tr th {\\r\\n    font-size: 17px;\\r\\n    padding-left: 3px;\\r\\n}\\r\\n\\r\\ntable tr td.format {\\r\\n    width: 90px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\ntable tr td:first-child {\\r\\n    width: 300px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reports/reports.component.css\n// module id = ./src/app/reports/reports.component.css\n// module chunks = main","module.exports = \"<div id=\\\"reports-container\\\" style=\\\"display:none;\\\">\\r\\n    <div *ngIf=\\\"hasReports\\\">\\r\\n        <h2>Related reports</h2>\\r\\n        <table class=\\\"bordered-table table-hover\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th>Name</th>\\r\\n                    <th style=\\\"width:400px;\\\">Notes</th>\\r\\n                    <th colspan=\\\"3\\\" style=\\\"text-align:center;width:400px;\\\">Download</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let report of reports\\\">\\r\\n                    <td>{{report.Name}}</td>\\r\\n                    <td>{{report.Notes}}</td>\\r\\n                    <td class=\\\"format\\\">\\r\\n                        <button class=\\\"btn btn-link\\\" (click)=\\\"openReport(report, 'pdf')\\\">PDF</button>\\r\\n                    </td>\\r\\n                    <td class=\\\"format\\\">\\r\\n                        <button class=\\\"btn btn-link\\\" (click)=\\\"openReport(report, 'word')\\\">Word</button>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n        <br><br>\\r\\n        <div>Please note reports open in a separate tab or window. Reports may take a minute or two to load.</div>\\r\\n        <br>\\r\\n        <div [innerHtml]=\\\"extraNotes\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"isInitialised && !hasReports\\\">There are no reports available for this profile</div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reports/reports.component.html\n// module id = ./src/app/reports/reports.component.html\n// module chunks = main","import { Component, HostListener } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { FTHelperService } from '../shared/service/helper/ftHelper.service';\r\nimport { SsrsReportService } from '../shared/service/api/ssrs-report.service';\r\nimport { ContentService } from '../shared/service/api/content.service';\r\nimport { SSRSReport, FTModel } from '../typings/FT.d'\r\n\r\n@Component({\r\n  selector: 'ft-reports',\r\n  templateUrl: './reports.component.html',\r\n  styleUrls: ['./reports.component.css']\r\n})\r\nexport class ReportsComponent {\r\n\r\n  public isInitialised = false;\r\n  public hasReports = false;\r\n  public reports: SSRSReport[] = [];\r\n  public extraNotes: string;\r\n\r\n  private model: FTModel;\r\n\r\n  constructor(private ftHelperService: FTHelperService, private ssrsReportService: SsrsReportService,\r\n    private contentService: ContentService) { }\r\n\r\n  @HostListener('window:ReportsSelected', ['$event'])\r\n  public onOutsideEvent(event) {\r\n\r\n    this.model = this.ftHelperService.getFTModel();\r\n    const profileId = this.model.profileId;\r\n\r\n    // Get data\r\n    let reportsObservable = this.ssrsReportService.getSsrsReports(profileId);\r\n    let contentObservable = this.contentService.getContent(profileId, 'ssrs-report-extra-notes');\r\n\r\n    Observable.forkJoin([reportsObservable, contentObservable]).subscribe(results => {\r\n      this.reports = results[0];\r\n      this.extraNotes = results[1];\r\n\r\n      this.hasReports = this.reports.length > 0;\r\n\r\n      this.isInitialised = true;\r\n      this.ftHelperService.showAndHidePageElements();\r\n      this.ftHelperService.unlock();\r\n    });\r\n\r\n  }\r\n\r\n  openReport(report: SSRSReport, format: string) {\r\n\r\n    let reportUrl = this.getReportUrl(report, format);\r\n    window.open(reportUrl, '_blank');\r\n\r\n    this.ftHelperService.logEvent('SsrsReportView', format, report.Name);\r\n  }\r\n\r\n  getReportUrl(report: SSRSReport, format: string) {\r\n\r\n    var parameters = report.Parameters;\r\n\r\n    var model = this.model;\r\n\r\n    let url = [\"/reports/ssrs/?reportName=\", encodeURIComponent(report.File)];\r\n\r\n    if (parameters.includes('areaCode')) {\r\n      url.push(\"&areaCode=\" + model.areaCode);\r\n    }\r\n\r\n    if (parameters.includes('areaTypeId')) {\r\n      url.push(\"&areaTypeId=\" + model.areaTypeId);\r\n    }\r\n\r\n    if (parameters.includes('parentCode')) {\r\n      url.push(\"&parentCode=\" + model.parentCode);\r\n    }\r\n\r\n    if (parameters.includes('parentTypeId')) {\r\n      url.push(\"&parentTypeId=\" + model.parentTypeId);\r\n    }\r\n\r\n    if (parameters.includes('groupId')) {\r\n      url.push(\"&groupId=\" + model.groupId);\r\n    }\r\n\r\n    url.push(\"&format=\" + format);\r\n\r\n    return url.join('');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reports/reports.component.ts","module.exports = \".areas {\\r\\n    border-top: 1px solid #ccc;\\r\\n    margin: 0px;\\r\\n    padding-top: 5px;\\r\\n    padding-bottom: 5px;\\r\\n}\\r\\n\\r\\n.top-margin {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.areas-list {\\r\\n    height: 400px;\\r\\n    overflow-y: scroll;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.css\n// module id = ./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.css\n// module chunks = main","module.exports = \"<div id=\\\"areas-list\\\" class=\\\"areas-list top-margin\\\">\\r\\n  <div *ngFor=\\\"let area of areas\\\" #elem [attr.id]=\\\"area.Code\\\" class=\\\"areas areas-{{area.Code}}\\\" (mouseover)=\\\"mouseOverArea(area)\\\"\\r\\n    (mouseout)=\\\"mouseOutArea(area)\\\" (click)=\\\"selectArea(area.Code)\\\">\\r\\n    {{area.Name}}\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.html\n// module id = ./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.html\n// module chunks = main","import { Component, Input, OnChanges, SimpleChanges, Output, EventEmitter } from '@angular/core';\r\nimport { Area } from '../../../../typings/FT.d';\r\nimport { AreaService } from '../../../service/api/area.service';\r\nimport { AreaListService } from '../../../../shared/service/api/arealist.service';\r\n\r\n@Component({\r\n  selector: 'ft-arealist-areas',\r\n  templateUrl: './arealist-areas.component.html',\r\n  styleUrls: ['./arealist-areas.component.css']\r\n})\r\nexport class ArealistAreasComponent implements OnChanges {\r\n\r\n  @Input() areaTypeId;\r\n  @Input() selectedAreas;\r\n  @Output() emitSelectedArea = new EventEmitter();\r\n  @Output() emitDeSelectedArea = new EventEmitter();\r\n  @Output() emitMouseOverArea = new EventEmitter();\r\n  @Output() emitMouseOutArea = new EventEmitter();\r\n  @Output() emitAreas = new EventEmitter();\r\n  areas: Area[] = [];\r\n\r\n  constructor(private arealistService: AreaListService, private areaService: AreaService) {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['areaTypeId']) {\r\n      if (this.areaTypeId) {\r\n        this.searchForAreas();\r\n      }\r\n    }\r\n  }\r\n\r\n  searchForAreas() {\r\n    this.areaService.getAreas(this.areaTypeId)\r\n      .subscribe((result: any) => {\r\n        this.areas = <Area[]>result;\r\n        this.emitAreas.emit(this.areas);\r\n      });\r\n  }\r\n\r\n  mouseOverArea(area) {\r\n    this.emitMouseOverArea.emit(area);\r\n  }\r\n\r\n  mouseOutArea(area) {\r\n    this.emitMouseOutArea.emit(area);\r\n  }\r\n\r\n  selectArea(item) {\r\n    const area = this.areas.find(x => x.Code === item);\r\n    const areaInSelectedAreas = this.selectedAreas.find(x => x.Code === item);\r\n    if (areaInSelectedAreas === undefined) {\r\n      this.emitSelectedArea.emit(area);\r\n    } else {\r\n      this.emitDeSelectedArea.emit(area);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/arealist/arealist-areas/arealist-areas.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/indicator-header/indicator-header.component.css\n// module id = ./src/app/shared/component/indicator-header/indicator-header.component.css\n// module chunks = main","module.exports = \"<div id=\\\"indicator-details-header\\\" *ngIf=\\\"header\\\">\\r\\n    <div class=\\\"trend-header\\\">\\r\\n        <div class=\\\"trend-title\\\">\\r\\n            <a class=\\\"trend-link\\\" title=\\\"More about this indicator\\\" href=\\\"javascript:goToMetadataPage(rootIndex);\\\">\\r\\n               {{header.indicatorName}} {{header.ageSexLabel}} </a><span *ngIf=\\\"header.hasNewData\\\" style=\\\"margin-right: 8px;\\\" class=\\\"badge badge-success\\\">New data</span>\\r\\n            <span class=\\\"benchmark-name\\\">{{header.comparatorName}}</span></div>\\r\\n        <div class=\\\"trend-unit\\\"><span> {{header.valueType}} {{header.unit}} </span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/indicator-header/indicator-header.component.html\n// module id = ./src/app/shared/component/indicator-header/indicator-header.component.html\n// module chunks = main","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ft-indicator-header',\r\n  templateUrl: './indicator-header.component.html',\r\n  styleUrls: ['./indicator-header.component.css']\r\n})\r\nexport class IndicatorHeaderComponent {\r\n\r\n  @Input() header: IndicatorHeader;\r\n}\r\n\r\nexport class IndicatorHeader {\r\n  constructor(public indicatorName: string,\r\n    public hasNewData: boolean,\r\n    public comparatorName: string,\r\n    public valueType: string,\r\n    public unit: string,\r\n    public ageSexLabel: string) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/indicator-header/indicator-header.component.ts","module.exports = \".left {\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.spine-rag-3,\\r\\n.spine-rag-5,\\r\\n.spine-bob,\\r\\n.spine-not-compared\\r\\n {\\r\\n    float: left;\\r\\n    margin-left: 5px;\\r\\n}\\r\\n\\r\\n.margin-top-10 {\\r\\n    margin-top: 10px !important;\\r\\n    padding-top: 0 !important;\\r\\n}\\r\\n\\r\\n.key-table {\\r\\n    color: #000 !important;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.css\n// module id = ./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row\\\" *ngIf=\\\"showRAG3 || showRAG5 || showBOB\\\">\\r\\n  <div class=\\\"col-md-12 spine-table key-table\\\">\\r\\n    <div class=\\\"spine-compared-with-text\\\">\\r\\n      <i>Compared with benchmark:</i>\\r\\n    </div>\\r\\n    <div class=\\\"key-spine spine-rag-5\\\" *ngIf=\\\"showRAG5\\\">\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_dark_green_mini.png\\\" alt=\\\"\\\" /> Better 99.8%\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_green_mini.png\\\" alt=\\\"\\\" /> Better 95%\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_orange_mini.png\\\" alt=\\\"\\\" /> Similar\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_red_mini.png\\\" alt=\\\"\\\" /> Worse 95%\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_dark_red_mini.png\\\" alt=\\\"\\\" /> Worse 99.8%\\r\\n    </div>\\r\\n    <div class=\\\"key-spine spine-rag-3\\\" *ngIf=\\\"showRAG3\\\">\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_green_mini.png\\\" alt=\\\"\\\" /> Better\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_orange_mini.png\\\" alt=\\\"\\\" /> Similar\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_red_mini.png\\\" alt=\\\"\\\" /> Worse\\r\\n    </div>\\r\\n    <div class=\\\"key-spine spine-bob\\\" *ngIf=\\\"showBOB\\\">\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_darkblue_mini.png\\\" alt=\\\"\\\" /> Lower\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_orange_mini.png\\\" alt=\\\"\\\" /> Similar\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_lightblue_mini.png\\\" alt=\\\"\\\" /> Higher\\r\\n    </div>\\r\\n    <div class=\\\"key-spine spine-not-compared\\\">\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_white_mini.png\\\" alt=\\\"\\\" /> Not compared\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row margin-top-10\\\" *ngIf=\\\"showQuintilesRAG || showQuintilesBOB\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <span class=\\\"spine-compared-with-text\\\">\\r\\n      <i>Quintiles:</i>\\r\\n    </span>\\r\\n    <div class=\\\"spine-chart-legend-outer-box\\\" *ngIf=\\\"showQuintilesRAG\\\">\\r\\n      Best\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_rag_quintile1_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_rag_quintile2_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_rag_quintile3_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_rag_quintile4_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_rag_quintile5_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      Worst\\r\\n    </div>\\r\\n    <div class=\\\"spine-chart-legend-outer-box\\\" *ngIf=\\\"showQuintilesBOB\\\">\\r\\n      Low\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_bob_quintile1_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_bob_quintile2_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_bob_quintile3_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_bob_quintile4_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_bob_quintile5_mini.png\\\" alt=\\\"\\\" />&nbsp;\\r\\n      High\\r\\n    </div>\\r\\n    <div class=\\\"spine-chart-legend-outer-box\\\">\\r\\n      <img class=\\\"key-circle\\\" src=\\\"/images/circle_white_mini.png\\\" alt=\\\"\\\" /> Not applicable\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.html\n// module id = ./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { LegendType, KeyType } from '../legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-legend-area-profiles',\r\n  templateUrl: './legend-area-profiles.component.html',\r\n  styleUrls: ['./legend-area-profiles.component.css']\r\n})\r\nexport class LegendAreaProfilesComponent implements OnChanges {\r\n\r\n  @Input() showRAG3: Boolean = null;\r\n  @Input() showRAG5: Boolean = null;\r\n  @Input() showBOB: Boolean = null;\r\n  @Input() showQuintilesRAG: Boolean = null;\r\n  @Input() showQuintilesBOB: Boolean = null;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['showRAG3']) {\r\n      if (this.showRAG3) {\r\n      }\r\n    }\r\n    if (changes['showRAG5']) {\r\n      if (this.showRAG5) {\r\n      }\r\n    }\r\n    if (changes['showBOB']) {\r\n      if (this.showBOB) {\r\n      }\r\n    }\r\n    if (changes['showQuintilesRAG']) {\r\n      if (this.showQuintilesRAG) {\r\n      }\r\n    }\r\n    if (changes['showQuintilesBOB']) {\r\n      if (this.showQuintilesBOB) {\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-area-profiles/legend-area-profiles.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-bob/legend-bob.component.css\n// module id = ./src/app/shared/component/legend/legend-bob/legend-bob.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"showBob\\\">\\r\\n  <table class=\\\"key-table\\\" cellspacing=\\\"0\\\">\\r\\n    <tr>\\r\\n      <td class=\\\"key-text key-label\\\">Compared with benchmark</td>\\r\\n      <td class=\\\"key-spacer\\\"></td>\\r\\n      <td class=\\\"bobLower key\\\">\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/bobLower.png\\\" alt=\\\"\\\">\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Lower\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td class=\\\"same key\\\">\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/same.png\\\" alt=\\\"\\\">\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Similar\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td class=\\\"bobHigher key\\\">\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/bobHigher.png\\\" alt=\\\"\\\">\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Higher\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n  <table id=\\\"not-compared\\\" class=\\\"key-table\\\" cellspacing=\\\"0\\\" *ngIf=\\\"showBenchmark\\\">\\r\\n    <tr>\\r\\n      <td id=\\\"map-key-part2\\\" class=\\\"none key key-box-right\\\" style=\\\"display: table-cell;\\\">\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          Not compared\\r\\n        </div>\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-bob/legend-bob.component.html\n// module id = ./src/app/shared/component/legend/legend-bob/legend-bob.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { LegendType, KeyType } from '../legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-legend-bob',\r\n  templateUrl: './legend-bob.component.html',\r\n  styleUrls: ['./legend-bob.component.css']\r\n})\r\nexport class LegendBobComponent implements OnChanges {\r\n\r\n  @Input() legendType: LegendType = null;\r\n  @Input() keyType: KeyType = null;\r\n\r\n  showBob = false;\r\n  showBenchmark = true;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['legendType']) {\r\n      if (this.legendType) {\r\n        if (this.legendType === LegendType.BOB) {\r\n          this.showBob = true;\r\n        } else {\r\n          this.showBob = false;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-bob/legend-bob.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-continuous/legend-continuous.component.css\n// module id = ./src/app/shared/component/legend/legend-continuous/legend-continuous.component.css\n// module chunks = main","module.exports = \"<table class=\\\"key-table custom-key-table\\\" cellspacing=\\\"0\\\" *ngIf=\\\"showContinuous\\\">\\r\\n  <tr>\\r\\n    <td class=\\\"key-text\\\">Continuous:</td>\\r\\n    <td style=\\\"background-color: #FFE97F;\\\">Lowest</td>\\r\\n    <td class=\\\"continual_range whiteText\\\">&nbsp;</td>\\r\\n    <td style=\\\"background-color: #151C55;\\\" class=\\\"whiteText\\\">Highest</td>\\r\\n  </tr>\\r\\n</table>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-continuous/legend-continuous.component.html\n// module id = ./src/app/shared/component/legend/legend-continuous/legend-continuous.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { LegendType, KeyType } from '../legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-legend-continuous',\r\n  templateUrl: './legend-continuous.component.html',\r\n  styleUrls: ['./legend-continuous.component.css']\r\n})\r\nexport class LegendContinuousComponent implements OnChanges {\r\n\r\n  @Input() legendType: LegendType = null;\r\n  @Input() keyType: KeyType = null;\r\n\r\n  showContinuous = false;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['legendType']) {\r\n      if (this.legendType) {\r\n        if (this.legendType === LegendType.Continuous) {\r\n          this.showContinuous = true;\r\n        } else {\r\n          this.showContinuous = false;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-continuous/legend-continuous.component.ts","module.exports = \".compared-with-text {\\r\\n    float: left;\\r\\n    font-size: 11px;\\r\\n    margin-right: 5px;\\r\\n}\\r\\n\\r\\n.map-legend-box {\\r\\n    float: left;\\r\\n    font-size: 11px;\\r\\n}\\r\\n\\r\\n.tartan-legend-box {\\r\\n    float: left;\\r\\n    margin-left: 2px;\\r\\n    padding: 2px 0px 2px 0px;\\r\\n    width: 70px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.not-compared {\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ccc;\\r\\n    width: 80px;\\r\\n    height: 19px;\\r\\n}\\r\\n\\r\\n.left-margin {\\r\\n    margin-left: 18px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-map/legend-map.component.css\n// module id = ./src/app/shared/component/legend/legend-map/legend-map.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row\\\" *ngIf=\\\"showTartanLegends\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"compared-with-text\\\">\\r\\n            <i>Compared with benchmark:</i>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box\\\" *ngIf=\\\"showRAG5\\\">\\r\\n            <div class=\\\"tartan-legend-box better-99\\\">\\r\\n                Better 99.8%\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box better-95\\\">\\r\\n                Better 95%\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box similar\\\">\\r\\n                Similar\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box worse-95\\\">\\r\\n                Worse 95%\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box worse-99\\\">\\r\\n                Worse 99.8%\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box\\\" *ngIf=\\\"showRAG3\\\">\\r\\n            <div class=\\\"tartan-legend-box better-95\\\">\\r\\n                Better\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box similar\\\">\\r\\n                Similar\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box worse-95\\\">\\r\\n                Worse\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\" *ngIf=\\\"showBOB\\\">\\r\\n            <div class=\\\"tartan-legend-box bob-lower\\\">\\r\\n                Lower\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box bob-similar\\\">\\r\\n                Similar\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box bob-higher\\\">\\r\\n                Higher\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\">\\r\\n            <div class=\\\"tartan-legend-box not-compared\\\">\\r\\n                Not Compared\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" *ngIf=\\\"showQuartiles\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"compared-with-text\\\">\\r\\n            <i>Quartiles:</i>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\">\\r\\n            <div class=\\\"tartan-legend-box quartiles-low\\\">\\r\\n                Low\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box quartiles-medium-1\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box quartiles-medium-2\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box quartiles-high\\\">\\r\\n                High\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" *ngIf=\\\"showQuintilesRAG\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"compared-with-text\\\">\\r\\n            <i>Quintiles:</i>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\">\\r\\n            <div class=\\\"tartan-legend-box rag-quintiles-1\\\">\\r\\n                Best\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box rag-quintiles-2\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box rag-quintiles-3\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box rag-quintiles-4\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box rag-quintiles-5\\\">\\r\\n                Worst\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\">\\r\\n            <div class=\\\"tartan-legend-box not-compared\\\">\\r\\n                Not applicable\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" *ngIf=\\\"showQuintilesBOB\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"compared-with-text\\\">\\r\\n            <i>Quintiles:</i>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\">\\r\\n            <div class=\\\"tartan-legend-box bob-quintiles-1\\\">\\r\\n                Low\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box bob-quintiles-2\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box bob-quintiles-3\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box bob-quintiles-4\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box bob-quintiles-5\\\">\\r\\n                High\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\">\\r\\n            <div class=\\\"tartan-legend-box not-compared\\\">\\r\\n                Not applicable\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" *ngIf=\\\"showContinuous\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"compared-with-text\\\">\\r\\n            <i>Continuous:</i>\\r\\n        </div>\\r\\n        <div class=\\\"map-legend-box left-margin\\\">\\r\\n            <div class=\\\"tartan-legend-box continuous-lowest\\\">\\r\\n                Lowest\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box continuous-range\\\">\\r\\n                &nbsp;\\r\\n            </div>\\r\\n            <div class=\\\"tartan-legend-box continuous-highest\\\">\\r\\n                Highest\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-map/legend-map.component.html\n// module id = ./src/app/shared/component/legend/legend-map/legend-map.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ft-legend-map',\r\n  templateUrl: './legend-map.component.html',\r\n  styleUrls: ['./legend-map.component.css']\r\n})\r\nexport class LegendMapComponent implements OnChanges {\r\n\r\n  @Input() showRAG3: Boolean = null;\r\n  @Input() showRAG5: Boolean = null;\r\n  @Input() showBOB: Boolean = null;\r\n  @Input() showQuartiles: Boolean = null;\r\n  @Input() showQuintilesRAG: Boolean = null;\r\n  @Input() showQuintilesBOB: Boolean = null;\r\n  @Input() showContinuous: Boolean = null;\r\n\r\n  showTartanLegends = false;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['showRAG3']) {\r\n      if (this.showRAG3) {\r\n      }\r\n    }\r\n    if (changes['showRAG5']) {\r\n      if (this.showRAG5) {\r\n      }\r\n    }\r\n    if (changes['showBOB']) {\r\n      if (this.showBOB) {\r\n      }\r\n    }\r\n    if (changes['showQuartiles']) {\r\n      if (this.showQuartiles) {\r\n      }\r\n    }\r\n    if (changes['showQuintilesRAG']) {\r\n      if (this.showQuintilesRAG) {\r\n      }\r\n    }\r\n    if (changes['showQuintilesBOB']) {\r\n      if (this.showQuintilesBOB) {\r\n      }\r\n    }\r\n    if (changes['showContinuous']) {\r\n      if (this.showContinuous) {\r\n      }\r\n    }\r\n\r\n    this.showHideTartanLegends();\r\n  }\r\n\r\n  showHideTartanLegends() {\r\n    if (this.showRAG3 || this.showRAG5 || this.showBOB) {\r\n      this.showTartanLegends = true;\r\n    } else {\r\n      this.showTartanLegends = false;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-map/legend-map.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.css\n// module id = ./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.css\n// module chunks = main","module.exports = \"<table class=\\\"key-table custom-key-table\\\" cellspacing=\\\"2\\\" *ngIf=\\\"showQuartiles\\\">\\r\\n  <tbody>\\r\\n    <tr>\\r\\n      <td class=\\\"key-text\\\">Quartiles:</td>\\r\\n      <td style=\\\"background-color: #E8C7D1;\\\">Low</td>\\r\\n      <td style=\\\"background-color: #B74D6D;\\\" class=\\\"whiteText\\\">&nbsp;</td>\\r\\n      <td style=\\\"background-color: #98002E;\\\" class=\\\"whiteText\\\">&nbsp;</td>\\r\\n      <td style=\\\"background-color: #700023;\\\" class=\\\"whiteText\\\">High</td>\\r\\n    </tr>\\r\\n  </tbody>\\r\\n</table>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.html\n// module id = ./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { LegendType, KeyType } from '../legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-legend-quartiles',\r\n  templateUrl: './legend-quartiles.component.html',\r\n  styleUrls: ['./legend-quartiles.component.css']\r\n})\r\nexport class LegendQuartilesComponent implements OnChanges {\r\n\r\n  @Input() legendType: LegendType = null;\r\n  @Input() keyType: KeyType = null;\r\n\r\n  showQuartiles = false;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['legendType']) {\r\n      if (this.legendType) {\r\n        if (this.legendType === LegendType.Quartiles) {\r\n          this.showQuartiles = true;\r\n        } else {\r\n          this.showQuartiles = false;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-quartiles/legend-quartiles.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.css\n// module id = ./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.css\n// module chunks = main","module.exports = \"<table class=\\\"key-table custom-key-table\\\" cellspacing=\\\"2\\\" *ngIf=\\\"showQuintiles\\\">\\r\\n  <tr>\\r\\n    <td class=\\\"key-text\\\">Quintiles:</td>\\r\\n    <td style=\\\"background-color: #DED3EC;\\\">Low</td>\\r\\n    <td style=\\\"background-color: #BEA7DA;\\\">&nbsp;</td>\\r\\n    <td style=\\\"background-color: #9E7CC8;\\\" class=\\\"whiteText\\\">&nbsp;</td>\\r\\n    <td style=\\\"background-color: #7E50B6;\\\" class=\\\"whiteText\\\">&nbsp;</td>\\r\\n    <td style=\\\"background-color: #5E25A4;\\\" class=\\\"whiteText\\\">High</td>\\r\\n  </tr>\\r\\n</table>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.html\n// module id = ./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { LegendType, KeyType } from '../legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-legend-quintiles',\r\n  templateUrl: './legend-quintiles.component.html',\r\n  styleUrls: ['./legend-quintiles.component.css']\r\n})\r\nexport class LegendQuintilesComponent implements OnChanges {\r\n\r\n  @Input() legendType: LegendType = null;\r\n  @Input() keyType: KeyType = null;\r\n\r\n  showQuintiles = false;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['legendType']) {\r\n      if (this.legendType) {\r\n        if (this.legendType === LegendType.Quintiles) {\r\n          this.showQuintiles = true;\r\n        } else {\r\n          this.showQuintiles = false;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-quintiles/legend-quintiles.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.css\n// module id = ./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.css\n// module chunks = main","module.exports = \"<div id=\\\"keyTartanRug\\\" class=\\\"key-container\\\" *ngIf=\\\"showRag\\\">\\r\\n  <table class=\\\"key-table\\\" *ngIf=\\\"showTartanRug\\\">\\r\\n    <tr>\\r\\n      <td class=\\\"key-text key-label\\\">Compared with benchmark</td>\\r\\n      <td class=\\\"key-spacer\\\"></td>\\r\\n      <td id=\\\"td-better-key\\\" class='better key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/better.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Better\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"td-same-key\\\" class='same key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/same.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Similar\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"td-worse-key\\\" class='worse key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/red.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Worse\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"map-key-part2\\\" class=\\\"none key key-box-right\\\" style=\\\"display: table-cell;\\\" *ngIf=\\\"showBenchmark\\\">\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          Not compared\\r\\n        </div>\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n  <table class=\\\"key-table\\\" *ngIf=\\\"showSpineChart\\\">\\r\\n    <tr>\\r\\n      <td class=\\\"key-text key-label\\\">Compared with benchmark</td>\\r\\n      <td class=\\\"key-spacer\\\"></td>\\r\\n      <td class='key-spine'>\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_green_mini.png\\\" alt=\\\"\\\" />\\r\\n        Better\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_orange_mini.png\\\" alt=\\\"\\\" />\\r\\n        Similar\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_red_mini.png\\\" alt=\\\"\\\" />\\r\\n        Worse\\r\\n      </td>\\r\\n      <td class='key-spine' *ngIf=\\\"showBenchmark\\\">\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_white_mini.png\\\" alt=\\\"\\\" />\\r\\n        Not Compared\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.html\n// module id = ./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { LegendType, KeyType } from '../legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-legend-rag-3',\r\n  templateUrl: './legend-rag-3.component.html',\r\n  styleUrls: ['./legend-rag-3.component.css']\r\n})\r\nexport class LegendRag3Component implements OnChanges {\r\n\r\n  @Input() legendType: LegendType = null;\r\n  @Input() keyType: KeyType = null;\r\n\r\n  showRag = false;\r\n  showTartanRug = false;\r\n  showSpineChart = false;\r\n  showBenchmark = true;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['legendType']) {\r\n      if (this.legendType) {\r\n        if (this.legendType === LegendType.RAG3) {\r\n          this.showRag = true;\r\n        } else {\r\n          this.showRag = false;\r\n        }\r\n      }\r\n    }\r\n    if (changes['keyType']) {\r\n      if (this.keyType) {\r\n        switch (this.keyType) {\r\n          case KeyType.TartanRug:\r\n            this.showTartanRug = true;\r\n            break;\r\n          case KeyType.SpineChart:\r\n            this.showSpineChart = true;\r\n            break;\r\n          default:\r\n            this.showTartanRug = false;\r\n            this.showSpineChart = false;\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-rag-3/legend-rag-3.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.css\n// module id = ./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.css\n// module chunks = main","module.exports = \"<div id=\\\"keyTartanRug\\\" class=\\\"key-container\\\" *ngIf=\\\"showRag\\\">\\r\\n  <table class=\\\"key-table\\\" *ngIf=\\\"showTartanRug\\\">\\r\\n    <tr>\\r\\n      <td class=\\\"key-text key-label\\\">Compared with benchmark</td>\\r\\n      <td class=\\\"key-spacer\\\"></td>\\r\\n      <td id=\\\"td-best-key\\\" class='best key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/best.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Better 99.8%\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"td-better-key\\\" class='better key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/better.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Better 95%\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"td-same-key\\\" class='same key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/same.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Similar\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"td-worse-key\\\" class='worse key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/red.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Worse 95%\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"td-worst-key\\\" class='worst key'>\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          <img class=\\\"tartan-fill print-only\\\" src=\\\"/images/worst.png\\\" alt=\\\"\\\" />\\r\\n          <div class=\\\"tartan-text\\\">\\r\\n            Worse 99.8%\\r\\n          </div>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td id=\\\"map-key-part2\\\" class=\\\"none key key-box-right\\\" style=\\\"display: table-cell;\\\" *ngIf=\\\"showBenchmark\\\">\\r\\n        <div class=\\\"tartan-box key-box\\\">\\r\\n          Not compared\\r\\n        </div>\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n  <table class=\\\"key-table\\\" *ngIf=\\\"showSpineChart\\\">\\r\\n    <tr>\\r\\n      <td class=\\\"key-text key-label\\\">Compared with benchmark</td>\\r\\n      <td class=\\\"key-spacer\\\"></td>\\r\\n      <td class='key-spine'>\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_dark_green_mini.png\\\" alt=\\\"\\\" />\\r\\n        Better 99.8%\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_green_mini.png\\\" alt=\\\"\\\" />\\r\\n        Better 95%\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_orange_mini.png\\\" alt=\\\"\\\" />\\r\\n        Similar\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_red_mini.png\\\" alt=\\\"\\\" />\\r\\n        Worse 95%\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_dark_red_mini.png\\\" alt=\\\"\\\" />\\r\\n        Worse 99.8%\\r\\n      </td>\\r\\n      <td class='key-spine' *ngIf=\\\"showBenchmark\\\">\\r\\n        <img class=\\\"key-circle\\\" src=\\\"/images/circle_white_mini.png\\\" alt=\\\"\\\" />\\r\\n        Not Compared\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.html\n// module id = ./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { LegendType, KeyType } from '../legend.component';\r\n\r\n@Component({\r\n  selector: 'ft-legend-rag-5',\r\n  templateUrl: './legend-rag-5.component.html',\r\n  styleUrls: ['./legend-rag-5.component.css']\r\n})\r\nexport class LegendRag5Component implements OnChanges {\r\n\r\n  @Input() legendType: LegendType = null;\r\n  @Input() keyType: KeyType = null;\r\n\r\n  showRag = false;\r\n  showTartanRug = false;\r\n  showSpineChart = false;\r\n  showBenchmark = true;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['legendType']) {\r\n      if (this.legendType) {\r\n        if (this.legendType === LegendType.RAG5) {\r\n          this.showRag = true;\r\n        } else {\r\n          this.showRag = false;\r\n        }\r\n      }\r\n    }\r\n    if (changes['keyType']) {\r\n      if (this.keyType) {\r\n        switch (this.keyType) {\r\n          case KeyType.TartanRug:\r\n            this.showTartanRug = true;\r\n            break;\r\n          case KeyType.SpineChart:\r\n            this.showSpineChart = true;\r\n            break;\r\n          default:\r\n            this.showTartanRug = false;\r\n            this.showSpineChart = false;\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-rag-5/legend-rag-5.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.css\n// module id = ./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.css\n// module chunks = main","module.exports = \"<div id=\\\"trend-marker-legend\\\" *ngIf=\\\"showRecentTrends\\\">\\r\\n  <table class=\\\"key-table\\\" cellspacing=\\\"0\\\">\\r\\n    <tr>\\r\\n      <td><img src=\\\"/images/trends/info.png\\\" class=\\\"trend-info\\\" (click)=\\\"showTrendInfo()\\\" />&nbsp;&nbsp;&nbsp;</td>\\r\\n\\r\\n      <td class=\\\"key-label\\\">Recent trends:</td>\\r\\n      <td><img src=\\\"/images/trends/no_calc.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">Could not be<br>calculated</td>\\r\\n\\r\\n      <td><img src=\\\"/images/trends/up_red.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">Increasing /<br>Getting worse</td>\\r\\n\\r\\n      <td><img src=\\\"/images/trends/up_green.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">Increasing /<br>Getting better</td>\\r\\n\\r\\n      <td><img src=\\\"/images/trends/down_red.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">Decreasing /<br>Getting worse</td>\\r\\n\\r\\n      <td><img src=\\\"/images/trends/down_green.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">Decreasing /<br>Getting better</td>\\r\\n\\r\\n      <td><img src=\\\"/images/trends/no_change.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">No significant<br>change</td>\\r\\n\\r\\n      <td><img src=\\\"/images/trends/up_blue.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">Increasing</td>\\r\\n\\r\\n      <td><img src=\\\"/images/trends/down_blue.png\\\" /></td>\\r\\n      <td class=\\\"legendText\\\">Decreasing</td>\\r\\n    </tr>\\r\\n  </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.html\n// module id = ./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.html\n// module chunks = main","import { Component, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { FTHelperService } from 'app/shared/service/helper/ftHelper.service';\r\n\r\n@Component({\r\n  selector: 'ft-legend-recent-trends',\r\n  templateUrl: './legend-recent-trends.component.html',\r\n  styleUrls: ['./legend-recent-trends.component.css']\r\n})\r\nexport class LegendRecentTrendsComponent implements OnChanges {\r\n\r\n  @Input() showRecentTrends: Boolean = null;\r\n\r\n  constructor(private ftHelperService: FTHelperService) { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n  }\r\n\r\n  showTrendInfo() {\r\n    this.ftHelperService.showTrendInfo();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend-recent-trends/legend-recent-trends.component.ts","module.exports = \".value-note-legend {\\r\\n    color: #777;\\r\\n    font-size: 11px;\\r\\n    float: right;\\r\\n    margin-bottom: 10px;\\r\\n    text-align: right;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend.component.css\n// module id = ./src/app/shared/component/legend/legend.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-8\\\">\\r\\n        &nbsp;\\r\\n    </div>\\r\\n    <div class=\\\"col-md-4 value-note-legend\\\">\\r\\n        <span class=\\\"asterisk\\\">*</span> a note is attached to the value, hover over to see more details\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <ft-legend-area-profiles [showRAG3]=\\\"showRAG3\\\" [showRAG5]=\\\"showRAG5\\\" [showBOB]=\\\"showBOB\\\" [showQuintilesRAG]=\\\"showQuintilesRAG\\\"\\r\\n            [showQuintilesBOB]=\\\"showQuintilesBOB\\\" *ngIf=\\\"showAreaProfiles()\\\"></ft-legend-area-profiles>\\r\\n        <ft-legend-map [showRAG3]=\\\"showRAG3\\\" [showRAG5]=\\\"showRAG5\\\" [showBOB]=\\\"showBOB\\\" [showQuartiles]=\\\"showQuartiles\\\"\\r\\n            [showQuintilesRAG]=\\\"showQuintilesRAG\\\" [showQuintilesBOB]=\\\"showQuintilesBOB\\\" [showContinuous]=\\\"showContinuous\\\"\\r\\n            *ngIf=\\\"showMap()\\\"></ft-legend-map>\\r\\n        <ft-legend-bob [legendType]=\\\"legendType\\\" [keyType]=\\\"keyType\\\"></ft-legend-bob>\\r\\n        <ft-legend-continuous [legendType]=\\\"legendType\\\" [keyType]=\\\"keyType\\\"></ft-legend-continuous>\\r\\n        <ft-legend-quartiles [legendType]=\\\"legendType\\\" [keyType]=\\\"keyType\\\"></ft-legend-quartiles>\\r\\n        <ft-legend-quintiles [legendType]=\\\"legendType\\\" [keyType]=\\\"keyType\\\"></ft-legend-quintiles>\\r\\n        <ft-legend-rag-3 [legendType]=\\\"legendType\\\" [keyType]=\\\"keyType\\\"></ft-legend-rag-3>\\r\\n        <ft-legend-rag-5 [legendType]=\\\"legendType\\\" [keyType]=\\\"keyType\\\"></ft-legend-rag-5>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <ft-legend-recent-trends [showRecentTrends]=\\\"showRecentTrends\\\"></ft-legend-recent-trends>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/legend/legend.component.html\n// module id = ./src/app/shared/component/legend/legend.component.html\n// module chunks = main","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'ft-legend',\r\n    templateUrl: './legend.component.html',\r\n    styleUrls: ['./legend.component.css']\r\n})\r\nexport class LegendComponent implements OnChanges {\r\n\r\n    @Input() pageType: PageType = null;\r\n    @Input() keyType: KeyType = null;\r\n    @Input() legendType: LegendType = null;\r\n    @Input() showRAG3: Boolean = null;\r\n    @Input() showRAG5: Boolean = null;\r\n    @Input() showBOB: Boolean = null;\r\n    @Input() showQuartiles: Boolean = null;\r\n    @Input() showQuintilesRAG: Boolean = null;\r\n    @Input() showQuintilesBOB: Boolean = null;\r\n    @Input() showContinuous: Boolean = null;\r\n    @Input() showRecentTrends: Boolean = null;\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['pageType']) {\r\n            if (this.pageType) {\r\n            }\r\n        }\r\n        if (changes['keyType']) {\r\n            if (this.keyType) {\r\n            }\r\n        }\r\n        if (changes['legendType']) {\r\n            if (this.legendType) {\r\n            }\r\n        }\r\n    }\r\n\r\n    showOverview(): Boolean {\r\n        return this.pageType === PageType.Overview;\r\n    }\r\n\r\n    showMap(): Boolean {\r\n        return this.pageType === PageType.Map;\r\n    }\r\n\r\n    showTrends(): Boolean {\r\n        return this.pageType === PageType.Trends;\r\n    }\r\n\r\n    showCompareAreas(): Boolean {\r\n        return this.pageType === PageType.CompareAreas;\r\n    }\r\n\r\n    showAreaProfiles(): Boolean {\r\n        return this.pageType === PageType.AreaProfiles;\r\n    }\r\n\r\n    showInequalities(): Boolean {\r\n        return this.pageType === PageType.Inequalities;\r\n    }\r\n\r\n    showEngland(): Boolean {\r\n        return this.pageType === PageType.England;\r\n    }\r\n}\r\n\r\nexport class PageType {\r\n    public static readonly None = 0;\r\n    public static readonly Overview = 1;\r\n    public static readonly Map = 2;\r\n    public static readonly Trends = 3;\r\n    public static readonly CompareAreas = 4;\r\n    public static readonly AreaProfiles = 5;\r\n    public static readonly Inequalities = 6;\r\n    public static readonly England = 7;\r\n}\r\n\r\nexport class KeyType {\r\n    public static readonly None = 0;\r\n    public static readonly BarChart = 1;\r\n    public static readonly ValueNote = 2;\r\n    public static readonly SpineChart = 3;\r\n    public static readonly TartanRug = 4;\r\n    public static readonly InEquality = 5;\r\n    public static readonly RecentTrends = 6;\r\n    public static readonly DataQuality = 7;\r\n}\r\n\r\nexport class LegendType {\r\n    public static readonly None = 0;\r\n    public static readonly RAG3 = 1;\r\n    public static readonly RAG5 = 2;\r\n    public static readonly BOB = 3;\r\n    public static readonly NotCompared = 4;\r\n    public static readonly Quintiles = 5;\r\n    public static readonly Quartiles = 6;\r\n    public static readonly Continuous = 7;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LegendBobComponent } from './legend-bob/legend-bob.component';\r\nimport { LegendContinuousComponent } from './legend-continuous/legend-continuous.component';\r\nimport { LegendQuartilesComponent } from './legend-quartiles/legend-quartiles.component';\r\nimport { LegendQuintilesComponent } from './legend-quintiles/legend-quintiles.component';\r\nimport { LegendRag3Component } from './legend-rag-3/legend-rag-3.component';\r\nimport { LegendRag5Component } from './legend-rag-5/legend-rag-5.component';\r\nimport { LegendComponent } from './legend.component';\r\nimport { LegendRecentTrendsComponent } from './legend-recent-trends/legend-recent-trends.component';\r\nimport { LegendAreaProfilesComponent } from './legend-area-profiles/legend-area-profiles.component';\r\nimport { LegendMapComponent } from './legend-map/legend-map.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n    ],\r\n    declarations: [\r\n        LegendComponent,\r\n        LegendBobComponent,\r\n        LegendContinuousComponent,\r\n        LegendQuartilesComponent,\r\n        LegendQuintilesComponent,\r\n        LegendRag3Component,\r\n        LegendRag5Component,\r\n        LegendRecentTrendsComponent,\r\n        LegendAreaProfilesComponent,\r\n        LegendMapComponent\r\n    ],\r\n    exports: [\r\n        LegendComponent\r\n    ]\r\n})\r\n\r\nexport class LegendModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/legend/legend.module.ts","module.exports = \".light-box {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    background: #000;\\r\\n    height: 1500px;\\r\\n    width: 100%;\\r\\n    opacity: 0.50;\\r\\n    -ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\\\";\\r\\n    filter: alpha(opacity=50);\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.info-box {\\r\\n    position: absolute;\\r\\n    background: white;\\r\\n    border: 5px solid #eee;\\r\\n    padding: 6px;\\r\\n    z-index: 1000;\\r\\n    border-radius: 5px;\\r\\n    top: 30%;\\r\\n    left: calc(50% - 250px);\\r\\n    width: 500px;\\r\\n    height: 230px;\\r\\n}\\r\\n\\r\\n.info-text {\\r\\n    margin: 10px 0px 10px 0px;\\r\\n}\\r\\n\\r\\n.close-button {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    font-style: italic;\\r\\n    margin-top: 6px;\\r\\n    float: right;\\r\\n    font-size: 1.5rem;\\r\\n    font-weight: 700;\\r\\n    line-height: 27;\\r\\n    color: #000;\\r\\n    text-shadow: 0 1px 0 #fff;\\r\\n    opacity: .5;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.ok {\\r\\n    width: 90px;\\r\\n}\\r\\n\\r\\nh2 {\\r\\n    border-bottom: none;\\r\\n    margin: 0 0 3px 0 !important;\\r\\n}\\r\\n\\r\\n.error-message {\\r\\n    color: #ff0000;\\r\\n    margin-top: 10px;\\r\\n    font-size: 14px;\\r\\n    height: 10px;\\r\\n}\\r\\n\\r\\n.control-buttons-container {\\r\\n    margin-top: 24px;\\r\\n}\\r\\n\\r\\n.info-box-text-input {\\r\\n    border: 1px solid;\\r\\n    padding: 10px;\\r\\n    width: 300px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/light-box-with-input/light-box-with-input.component.css\n// module id = ./src/app/shared/component/light-box-with-input/light-box-with-input.component.css\n// module chunks = main","module.exports = \"<div class=\\\"light-box\\\" *ngIf=\\\"showLightBox\\\" (click)=\\\"cancel()\\\">\\r\\n</div>\\r\\n<div class=\\\"info-box\\\" *ngIf=\\\"showLightBox\\\" [style.height]=\\\"this.lightBoxWithInputConfig.Height + 'px'\\\">\\r\\n  <h2>{{this.lightBoxWithInputConfig.Title}}</h2>\\r\\n  <div class=\\\"info-text\\\" [innerHtml]=\\\"this.lightBoxWithInputConfig.Html\\\"></div>\\r\\n  <div class=\\\"info-text-box\\\">\\r\\n    <input type=\\\"text\\\" id=\\\"info-box-text-input\\\" [value]=\\\"this.lightBoxWithInputConfig.InputText\\\" class=\\\"info-box-text-input\\\">\\r\\n  </div>\\r\\n  <div class=\\\"error-message\\\" [innerHtml]=\\\"this.errorMessage\\\">\\r\\n    &nbsp;\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"isInfoBoxOkCancel\\\" class=\\\"control-buttons-container\\\">\\r\\n    <button class=\\\"btn btn-primary active ok\\\" (click)=\\\"confirm()\\\">OK</button>\\r\\n    <button class=\\\"btn btn-link active\\\" (click)=\\\"cancel()\\\">Cancel</button>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"isInfoBoxOk\\\">\\r\\n    <button class=\\\"btn btn-primary active ok\\\" (click)=\\\"confirm()\\\">OK</button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"close\\\" (click)=\\\"cancel()\\\"></div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/light-box-with-input/light-box-with-input.component.html\n// module id = ./src/app/shared/component/light-box-with-input/light-box-with-input.component.html\n// module chunks = main","import { Component, OnChanges, Input, Output, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ft-light-box-with-input',\r\n  templateUrl: './light-box-with-input.component.html',\r\n  styleUrls: ['./light-box-with-input.component.css']\r\n})\r\nexport class LightBoxWithInputComponent implements OnChanges {\r\n\r\n  @Input() lightBoxWithInputConfig: LightBoxWithInputConfig = null;\r\n  @Output() emitLightBoxWithInputActionConfirmed = new EventEmitter();\r\n  @Output() emitLightBoxInputText = new EventEmitter();\r\n\r\n  showLightBox = false;\r\n  isInfoBoxOk = false;\r\n  isInfoBoxOkCancel = false;\r\n  lightBoxInputText: string;\r\n  errorMessage: string;\r\n\r\n  constructor(private changeDetectorRef: ChangeDetectorRef) { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['lightBoxWithInputConfig']) {\r\n      if (this.lightBoxWithInputConfig) {\r\n        this.loadLightBox();\r\n      }\r\n    }\r\n  }\r\n\r\n  loadLightBox() {\r\n    if (this.lightBoxWithInputConfig !== null) {\r\n      this.errorMessage = '';\r\n      this.lightBoxInputText = this.lightBoxWithInputConfig.InputText;\r\n\r\n      // Type\r\n      switch (this.lightBoxWithInputConfig.Type) {\r\n        case LightBoxWithInputTypes.Ok:\r\n          this.isInfoBoxOk = true;\r\n          break;\r\n        case LightBoxWithInputTypes.OkCancel:\r\n          this.isInfoBoxOkCancel = true;\r\n          break;\r\n      }\r\n\r\n      this.showLightBox = true;\r\n    }\r\n  }\r\n\r\n  confirm() {\r\n    this.lightBoxInputText = (<HTMLInputElement>document.getElementById(\"info-box-text-input\")).value;\r\n    this.closePopupAndEmit(true);\r\n  }\r\n\r\n  cancel() {\r\n    this.closePopupAndEmit(false);\r\n  }\r\n\r\n  closePopupAndEmit(actionConfirmed: boolean) {\r\n    if (actionConfirmed) {\r\n      if (this.validateInput()) {\r\n        switch (this.lightBoxWithInputConfig.Type) {\r\n          case LightBoxWithInputTypes.Ok:\r\n            this.isInfoBoxOk = false;\r\n            break;\r\n          case LightBoxWithInputTypes.OkCancel:\r\n            this.isInfoBoxOkCancel = false;\r\n            break;\r\n        }\r\n        this.emitLightBoxInputText.emit(this.lightBoxInputText);\r\n      } else {\r\n        this.errorMessage = \"Please enter a valid area list name\";\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n    this.showLightBox = false;\r\n    this.emitLightBoxWithInputActionConfirmed.emit(actionConfirmed);\r\n  }\r\n\r\n  validateInput() {\r\n    if (this.lightBoxInputText === undefined || this.lightBoxInputText.trim().length === 0) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class LightBoxWithInputConfig {\r\n  public Type: number;\r\n  public Html: string;\r\n  public Title: string;\r\n  public Height: number;\r\n  public InputText: string;\r\n}\r\n\r\nexport class LightBoxWithInputTypes {\r\n  public static readonly Ok = 1\r\n  public static readonly OkCancel = 2;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/light-box-with-input/light-box-with-input.component.ts","module.exports = \".light-box {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    background: #000;\\r\\n    height: 1500px;\\r\\n    width: 100%;\\r\\n    opacity: 0.50;\\r\\n    -ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\\\";\\r\\n    filter: alpha(opacity=50);\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.info-box {\\r\\n    position: absolute;\\r\\n    background: white;\\r\\n    border: 5px solid #eee;\\r\\n    padding: 6px;\\r\\n    z-index: 1000;\\r\\n    border-radius: 5px;\\r\\n    top: 30%;\\r\\n    left: calc(50% - 250px);\\r\\n    width: 500px;\\r\\n    height: 180px;\\r\\n}\\r\\n\\r\\n.info-text {\\r\\n    padding-bottom: 20px;\\r\\n}\\r\\n\\r\\n.close-button {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    font-style: italic;\\r\\n    margin-top: 6px;\\r\\n    float: right;\\r\\n    font-size: 1.5rem;\\r\\n    font-weight: 700;\\r\\n    line-height: 27;\\r\\n    color: #000;\\r\\n    text-shadow: 0 1px 0 #fff;\\r\\n    opacity: .5;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.ok {\\r\\n    width: 90px;\\r\\n}\\r\\n\\r\\nh2 {\\r\\n    border-bottom: none;\\r\\n    margin: 0 0 3px 0 !important;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/light-box/light-box.component.css\n// module id = ./src/app/shared/component/light-box/light-box.component.css\n// module chunks = main","module.exports = \"<div class=\\\"light-box\\\" *ngIf=\\\"showLightBox\\\" (click)=\\\"cancel()\\\">\\r\\n</div>\\r\\n<div class=\\\"info-box\\\" *ngIf=\\\"showLightBox\\\" [style.height]=\\\"lightBoxConfig.Height + 'px'\\\" [style.top]=\\\"lightBoxConfig.Top + 'px'\\\">\\r\\n    <h2>{{this.lightBoxConfig.Title}}</h2>\\r\\n    <p class=\\\"info-text\\\" [innerHtml]=\\\"this.lightBoxConfig.Html\\\"></p>\\r\\n\\r\\n    <div *ngIf=\\\"isInfoBoxOkCancel\\\">\\r\\n        <button class=\\\"btn btn-primary active ok\\\" (click)=\\\"confirm()\\\">OK</button>\\r\\n        <button class=\\\"btn btn-link active\\\" (click)=\\\"cancel()\\\">Cancel</button>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"isInfoBoxOk\\\">\\r\\n        <button class=\\\"btn btn-primary active ok\\\" (click)=\\\"confirm()\\\">OK</button>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"close\\\" (click)=\\\"cancel()\\\"></div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/shared/component/light-box/light-box.component.html\n// module id = ./src/app/shared/component/light-box/light-box.component.html\n// module chunks = main","import { Component, OnChanges, Input, Output, SimpleChanges, EventEmitter, ChangeDetectorRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ft-light-box',\r\n  templateUrl: './light-box.component.html',\r\n  styleUrls: ['./light-box.component.css']\r\n})\r\nexport class LightBoxComponent implements OnChanges {\r\n\r\n  @Input() lightBoxConfig: LightBoxConfig = null;\r\n  @Output() emitLightBoxActionConfirmed = new EventEmitter();\r\n\r\n  showLightBox = false;\r\n  isInfoBoxOk = false;\r\n  isInfoBoxOkCancel = false;\r\n\r\n  constructor(private changeDetectorRef: ChangeDetectorRef) { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n\r\n    if (changes['lightBoxConfig']) {\r\n      if (this.lightBoxConfig) {\r\n        this.loadLightBox();\r\n      }\r\n    }\r\n  }\r\n\r\n  loadLightBox() {\r\n    if (this.lightBoxConfig !== null) {\r\n      // Type\r\n      switch (this.lightBoxConfig.Type) {\r\n        case LightBoxTypes.Ok:\r\n          this.isInfoBoxOk = true;\r\n          break;\r\n        case LightBoxTypes.OkCancel:\r\n          this.isInfoBoxOkCancel = true;\r\n          break;\r\n      }\r\n\r\n      this.showLightBox = true;\r\n    }\r\n  }\r\n\r\n  confirm() {\r\n    this.closePopupAndEmit(true);\r\n  }\r\n\r\n  cancel() {\r\n    this.closePopupAndEmit(false);\r\n  }\r\n\r\n  closePopupAndEmit(actionConfirmed: boolean) {\r\n    switch (this.lightBoxConfig.Type) {\r\n      case LightBoxTypes.Ok:\r\n        this.isInfoBoxOk = false;\r\n        break;\r\n      case LightBoxTypes.OkCancel:\r\n        this.isInfoBoxOkCancel = false;\r\n        break;\r\n    }\r\n\r\n    this.showLightBox = false;\r\n    this.emitLightBoxActionConfirmed.emit(actionConfirmed);\r\n  }\r\n}\r\n\r\nexport class LightBoxConfig {\r\n  public Type: number;\r\n  public Html: string;\r\n  public Title: string;\r\n  public Height: number;\r\n  public Top: number = 500;\r\n}\r\n\r\nexport class LightBoxTypes {\r\n  public static readonly Ok = 1\r\n  public static readonly OkCancel = 2;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/component/light-box/light-box.component.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n  Area,\r\n  AreaType,\r\n  AreaTextSearchResult,\r\n  NearByAreas,\r\n  AreaAddress,\r\n  ParentAreaType\r\n} from '../../../typings/FT.d';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport { Parameters } from './parameters';\r\nimport { HttpService } from './http.service'\r\n\r\n@Injectable()\r\nexport class AreaService {\r\n\r\n  private version: string = this.ftHelperService.version();\r\n\r\n  constructor(private httpService: HttpService, private ftHelperService: FTHelperService) {\r\n  }\r\n\r\n  getAreaSearchByText(\r\n    text: string,\r\n    areaTypeId: number,\r\n    shouldSearchRetreiveCoordinates: boolean,\r\n    parentAreasToIncludeInResults: boolean\r\n  ): Observable<AreaTextSearchResult> {\r\n    let params = new Parameters(this.version);\r\n    params.addPolygonAreaTypeId(areaTypeId);\r\n    params.addNoCache();\r\n    params.addIncludeCoordinates(shouldSearchRetreiveCoordinates);\r\n    params.addParentAreasToIncludeInResults(parentAreasToIncludeInResults);\r\n    params.addSearchText(text);\r\n\r\n    return this.httpService.httpGet('api/area_search_by_text', params);\r\n  }\r\n\r\n  getAreaSearchByProximity(\r\n    easting: number,\r\n    northing: number,\r\n    areaTypeId: number\r\n  ): Observable<NearByAreas> {\r\n    let params = new Parameters(this.version);\r\n    params.addAreaTypeId(areaTypeId);\r\n    params.addEasting(easting);\r\n    params.addNorthing(northing);\r\n\r\n    return this.httpService.httpGet('api/area_search_by_proximity', params);\r\n  }\r\n\r\n  getAreaAddressesByParentAreaCode(\r\n    parentAreaCode: string,\r\n    areaTypeId: number\r\n  ): Observable<AreaAddress> {\r\n    let params = new Parameters(this.version);\r\n    params.addAreaTypeId(areaTypeId);\r\n    params.addParentAreaCode(parentAreaCode);\r\n\r\n    return this.httpService.httpGet('api/area_addresses/by_parent_area_code', params);\r\n  }\r\n\r\n  getParentAreas(profileId: number): Observable<ParentAreaType[]> {\r\n    let params = new Parameters(this.version);\r\n    params.addProfileId(profileId);\r\n\r\n    return this.httpService.httpGet('api/area_types/parent_area_types', params);\r\n  }\r\n\r\n  getAreaTypes(): Observable<AreaType[]> {\r\n    let params = new Parameters(this.version);\r\n\r\n    return this.httpService.httpGet('api/area_types/with_data', params);\r\n  }\r\n\r\n  getAreas(areaTypeId: number): Observable<Area[]> {\r\n    const params = new Parameters(this.version);\r\n    params.addAreaTypeId(areaTypeId);\r\n    params.addNoCache();\r\n\r\n    return this.httpService.httpGet('api/areas/by_area_type', params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/area.service.ts","import { Injectable } from '@angular/core';\r\nimport { Response } from '@angular/http';\r\nimport 'rxjs/rx';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AreaList, AreaType, Area, AreaListAreaCode } from '../../../typings/FT.d';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport { Parameters } from './parameters';\r\nimport { HttpService } from './http.service'\r\n\r\n@Injectable()\r\nexport class AreaListService {\r\n\r\n    private version: string = this.ftHelperService.version();\r\n\r\n    constructor(private httpService: HttpService, private ftHelperService: FTHelperService) {\r\n    }\r\n\r\n    getAreaLists(userId: string): Observable<AreaList[]> {\r\n        const params = new Parameters(this.version);\r\n        params.addUserId(userId);\r\n        params.addNoCache();\r\n\r\n        return this.httpService.httpGet('api/arealists', params);\r\n    }\r\n\r\n    getAreaList(areaListId: number): Observable<AreaList> {\r\n        const params = new Parameters(this.version);\r\n        params.addAreaListId(areaListId);\r\n        params.addNoCache();\r\n\r\n        return this.httpService.httpGet('api/arealist', params);\r\n    }\r\n\r\n    getAreaListByPublicId(\r\n        publicId: string,\r\n        userId: string\r\n    ): Observable<AreaList> {\r\n        const params = new Parameters(this.version);\r\n        params.addPublicId(publicId);\r\n        params.addUserId(userId);\r\n        params.addNoCache();\r\n\r\n        return this.httpService.httpGet('api/arealist/by_public_id', params);\r\n    }\r\n\r\n    getAreaCodesFromAreaListId(areaListId: number): Observable<AreaListAreaCode[]> {\r\n        const params = new Parameters(this.version);\r\n        params.addAreaListId(areaListId);\r\n        params.addNoCache();\r\n\r\n        return this.httpService.httpGet('api/arealist/areacodes', params);\r\n    }\r\n\r\n    getAreasFromAreaListAreaCodes(areaCodes: string[]): Observable<Area[]> {\r\n        const areaCodesCommaSeparated = areaCodes.join(',');\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addAreaCodes(areaCodesCommaSeparated);\r\n\r\n        return this.httpService.httpGet('api/areas/by_area_code', params);\r\n    }\r\n\r\n    getAreasWithAddressFromAreaListAreaCodes(areaCodes: string[]): Observable<Area[]> {\r\n        const areaCodesCommaSeparated = areaCodes.join(',');\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addAreaCodes(areaCodesCommaSeparated);\r\n\r\n        return this.httpService.httpGet('api/areas_with_addresses/by_area_code', params);\r\n    }\r\n\r\n    saveAreaList(formData: FormData): Observable<Response> {\r\n        return this.httpService.httpPost('api/arealist/save', formData);\r\n    }\r\n\r\n    updateAreaList(formData: FormData): Observable<Response> {\r\n        return this.httpService.httpPost('api/arealist/update', formData);\r\n    }\r\n\r\n    deleteAreaList(formData: FormData): Observable<Response> {\r\n        return this.httpService.httpPost('api/arealist/delete', formData);\r\n    }\r\n\r\n    copyAreaList(formData: FormData): Observable<Response> {\r\n        return this.httpService.httpPost('api/arealist/copy', formData);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/arealist.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport { Parameters } from './parameters';\r\nimport { HttpService } from './http.service'\r\n\r\n@Injectable()\r\nexport class ContentService {\r\n\r\n  private version: string = this.ftHelperService.version();\r\n\r\n  constructor(private httpService: HttpService, private ftHelperService: FTHelperService) {\r\n  }\r\n\r\n  getContent(profileId: number, key: string): Observable<string> {\r\n    let params = new Parameters(this.version);\r\n    params.addProfileId(profileId);\r\n    params.addKey(key);\r\n\r\n    return this.httpService.httpGet('api/content', params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/content.service.ts","import { Observable } from 'rxjs/Observable';\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/publishReplay';\r\nimport 'rxjs/add/operator/catch';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport { Parameters } from './parameters';\r\n\r\n@Injectable()\r\nexport class HttpService {\r\n\r\n    private observables: any = {};\r\n\r\n    private baseUrl: string;\r\n\r\n    constructor(private http: Http, private ftHelperService: FTHelperService) {\r\n        this.baseUrl = ftHelperService.getURL().bridge;\r\n    }\r\n\r\n    public httpGet(serviceUrl: string, params: Parameters): Observable<any> {\r\n\r\n        // Check whether call has already been made and cached observable is available\r\n        const parameterString = params.getParameterString();\r\n        const serviceKey = serviceUrl + parameterString;\r\n        if (this.observables[serviceKey]) {\r\n            return this.observables[serviceKey];\r\n        }\r\n\r\n        const observable = this.http.get(this.baseUrl + serviceUrl, params.getRequestOptions())\r\n            .publishReplay(1).refCount() // Call once then use same response for repeats\r\n            .map(res => res.json())\r\n            .catch(this.handleError);\r\n\r\n        this.observables[serviceKey] = observable;\r\n        return observable;\r\n    }\r\n\r\n    public httpPost(serviceUrl: string, formData: FormData): Observable<Response> {\r\n        return this.http.post(this.baseUrl + serviceUrl, formData)\r\n            .map((response: Response) => {\r\n                return response;\r\n            }).catch(this.handleError);\r\n    }\r\n\r\n    private handleError(error: any) {\r\n        console.error(error);\r\n        const errorMessage = 'AJAX call failed';\r\n        return Observable.throw(errorMessage);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/http.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n    CoreDataSet, IndicatorMetadata, GroupRoot, FTIndicatorSearch,\r\n    IndicatorMetadataTextProperty, ComparatorMethod, IndicatorStats, Population, Category,\r\n    PopulationSummary\r\n} from '../../../typings/FT.d';\r\nimport { Parameters } from './parameters';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport { HttpService } from './http.service'\r\n\r\n/** Client library for multiple service controllers in WS:\r\n * - Data\r\n * - IndicatorMetadata\r\n */\r\n@Injectable()\r\nexport class IndicatorService {\r\n\r\n    private version: string = this.ftHelperService.version();\r\n    private search: FTIndicatorSearch = this.ftHelperService.getSearch();\r\n\r\n    constructor(private httpService: HttpService, private ftHelperService: FTHelperService) {\r\n    }\r\n\r\n    getSingleIndicatorForAllArea(groupId: number, areaTypeId: number, parentAreaCode: string,\r\n        profileId: number, comparatorId: number, indicatorId: number, sexId: number,\r\n        ageId: number): Observable<CoreDataSet> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addGroupId(groupId);\r\n        params.addAreaTypeId(areaTypeId);\r\n        params.addParentAreaCode(parentAreaCode);\r\n        params.addProfileId(profileId);\r\n        params.addComparatorId(comparatorId);\r\n        params.addIndicatorId(indicatorId);\r\n        params.addSexId(sexId);\r\n        params.addAgeId(ageId);\r\n\r\n        return this.httpService.httpGet('api/latest_data/single_indicator_for_all_areas', params);\r\n    }\r\n\r\n    getCategories(categoryTypeId: number): Observable<Category[]> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addCategoryTypeId(categoryTypeId);\r\n\r\n        return this.httpService.httpGet('api/categories', params);\r\n    }\r\n\r\n    getPopulationSummary(areaCode: string, areaTypeId): Observable<PopulationSummary> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addAreaCode(areaCode);\r\n        params.addAreaTypeId(areaTypeId);\r\n\r\n        return this.httpService.httpGet('api/quinary_population_summary', params);\r\n    }\r\n\r\n    getPopulation(areaCode: string, areaTypeId: number): Observable<Population> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addAreaCode(areaCode);\r\n        params.addAreaTypeId(areaTypeId);\r\n\r\n        return this.httpService.httpGet('api/quinary_population', params);\r\n    }\r\n\r\n    getBenchmarkingMethod(benchmarkingMethodId: number): Observable<ComparatorMethod> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addId(benchmarkingMethodId);\r\n\r\n        return this.httpService.httpGet('api/comparator_method', params);\r\n    }\r\n\r\n    getIndicatorMetadataProperties(): Observable<IndicatorMetadataTextProperty[]> {\r\n        const params = new Parameters(this.version);\r\n        return this.httpService.httpGet('api/indicator_metadata_text_properties', params);\r\n    }\r\n\r\n    getIndicatorStatisticsTrendsForSingleIndicator(indicatorId: number, sexId: number, ageId: number,\r\n        childAreaTypeId: number, parentAreaCode: string): Observable<IndicatorStats> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addIndicatorId(indicatorId);\r\n        params.addSexId(sexId);\r\n        params.addAgeId(ageId);\r\n        params.addChildAreaTypeId(childAreaTypeId);\r\n        params.addParentAreaCode(parentAreaCode);\r\n\r\n        return this.httpService.httpGet('api/indicator_statistics/trends_for_single_indicator', params);\r\n    }\r\n\r\n    getIndicatorStatistics(childAreaTypeId: number, parentAreaCode: string,\r\n        profileId: number, groupId: number): Observable<Map<number, IndicatorStats>> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addParentAreaCode(parentAreaCode);\r\n        params.addChildAreaTypeId(childAreaTypeId);\r\n        params.addGroupId(groupId);\r\n\r\n        let method: string;\r\n        if (this.search.isInSearchMode()) {\r\n            method = 'by_indicator_id';\r\n            this.addSearchParameters(params);\r\n        } else {\r\n            method = 'by_profile_id';\r\n            params.addProfileId(profileId);\r\n        }\r\n\r\n        return this.httpService.httpGet('api/indicator_statistics/' + method, params);\r\n    }\r\n\r\n    getIndicatorMetadata(groupId: number): Observable<Map<number, IndicatorMetadata>> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addIncludeSystemContent('no');\r\n        params.addIncludeDefinition('yes');\r\n\r\n        let method: string;\r\n        if (this.search.isInSearchMode()) {\r\n            method = 'by_indicator_id';\r\n            this.addSearchParameters(params);\r\n        } else {\r\n            method = 'by_group_id';\r\n            params.addGroupIds(groupId);\r\n        }\r\n\r\n        const serviceURL = 'api/indicator_metadata/' + method;\r\n        return this.httpService.httpGet(serviceURL, params);\r\n    }\r\n\r\n    getIndicatorMetadataByIndicatorId(indicatorId: number, restrictToProfileIds: number[]): Observable<Map<number, IndicatorMetadata>> {\r\n        const params = new Parameters(this.version);\r\n        params.addIncludeSystemContent('no');\r\n        params.addIncludeDefinition('yes');\r\n        params.addIndicatorIds([indicatorId]);\r\n        params.addRestrictToProfileIds(restrictToProfileIds);\r\n        return this.httpService.httpGet('api/indicator_metadata/by_indicator_id', params);\r\n    }\r\n\r\n    getLatestDataForAllIndicatorsInProfileGroupForChildAreas(groupId: number, areaTypeId: number,\r\n        parentAreaCode: string, profileId: number): Observable<Array<GroupRoot>> {\r\n\r\n        const params = new Parameters(this.version);\r\n        params.addAreaTypeId(areaTypeId);\r\n        params.addParentAreaCode(parentAreaCode);\r\n        params.addProfileId(profileId);\r\n\r\n        let method: string;\r\n        if (this.search.isInSearchMode()) {\r\n            if (this.search.isIndicatorList()) {\r\n                params.addIndicatorListId(this.search.getIndicatorListId());\r\n                method = 'indicator_list_for_child_areas'\r\n            } else {\r\n                this.addSearchParameters(params);\r\n                method = 'specific_indicators_for_child_areas'\r\n            }\r\n        } else {\r\n            params.addGroupId(groupId);\r\n            method = 'all_indicators_in_profile_group_for_child_areas'\r\n        }\r\n\r\n        const serviceURL = 'api/latest_data/' + method;\r\n        return this.httpService.httpGet(serviceURL, params);\r\n    }\r\n\r\n    getGroupingSubheadings(areaTypeId: number, groupId: number) {\r\n        const params = new Parameters(this.version);\r\n        params.addAreaTypeId(areaTypeId);\r\n        params.addGroupId(groupId);\r\n\r\n        return this.httpService.httpGet('api/grouping_subheadings', params);\r\n    }\r\n\r\n    private addSearchParameters(params: Parameters) {\r\n        params.addIndicatorIds(this.search.getIndicatorIdList().getAllIds());\r\n        params.addRestrictToProfileIds(this.search.getProfileIdsForSearch());\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/indicator.service.ts","import { Http, Response, RequestOptions, URLSearchParams, Headers } from '@angular/http';\r\nexport class Parameters {\r\n\r\n    private params: URLSearchParams = new URLSearchParams();\r\n\r\n    constructor(version: string) {\r\n        // Version included for cache busting between deployments\r\n        this.params.set('v', version);\r\n    }\r\n\r\n    getRequestOptions(): RequestOptions {\r\n        const requestOptions: RequestOptions = new RequestOptions({\r\n            headers: new Headers({ 'Content-Type': 'application/json' })\r\n        });\r\n        requestOptions.search = this.params;\r\n        return requestOptions;\r\n    }\r\n\r\n    /** Returns a concaternated string of the URL parameters */\r\n    getParameterString() {\r\n        return this.params.toString();\r\n    }\r\n\r\n    addId(id: number): void {\r\n        this.params.set('id', id.toString());\r\n    }\r\n\r\n    addGroupId(groupId: number): void {\r\n        this.params.set('group_id', groupId.toString());\r\n    }\r\n\r\n    addGroupIds(groupId: number): void {\r\n        this.params.set('group_ids', groupId.toString());\r\n    }\r\n\r\n    addProfileId(profileId: number): void {\r\n        this.params.set('profile_id', profileId.toString());\r\n    }\r\n\r\n    addAreaTypeId(areaTypeId: number): void {\r\n        this.params.set('area_type_id', areaTypeId.toString());\r\n    }\r\n\r\n    addChildAreaTypeId(childAreaTypeId: number) {\r\n        this.params.set('child_area_type_id', childAreaTypeId.toString());\r\n    }\r\n\r\n    addParentAreaCode(areaCode: string): void {\r\n        this.params.set('parent_area_code', areaCode);\r\n    }\r\n\r\n    addAreaCode(areaCode: string): void {\r\n        this.params.set('area_code', areaCode);\r\n    }\r\n\r\n    addAreaCodes(areaCodes: string): void {\r\n        this.params.set('area_codes', areaCodes);\r\n    }\r\n\r\n    addComparatorId(comparatorId: number): void {\r\n        this.params.set('comparator_id', comparatorId.toString());\r\n    }\r\n\r\n    addIndicatorId(indicatorId: number): void {\r\n        this.params.set('indicator_id', indicatorId.toString());\r\n    }\r\n\r\n    addCategoryTypeId(categoryTypeId: number): void {\r\n        this.params.set('category_type_id', categoryTypeId.toString());\r\n    }\r\n\r\n    addSexId(sexId: number): void {\r\n        this.params.set('sex_id', sexId.toString());\r\n    }\r\n\r\n    addAgeId(ageId: number): void {\r\n        this.params.set('age_id', ageId.toString());\r\n    }\r\n\r\n    addIndicatorListId(indicatorListId: any): void {\r\n        this.params.set('indicator_list_id', indicatorListId.toString());\r\n    }\r\n\r\n    addIncludeSystemContent(yesOrNo: string): void {\r\n        this.params.set('include_system_content', yesOrNo);\r\n    }\r\n\r\n    addIncludeDefinition(yesOrNo: string): void {\r\n        this.params.set('include_definition', yesOrNo);\r\n    }\r\n\r\n    addRestrictToProfileIds(profileIds: Array<number>): void {\r\n        this.params.set('restrict_to_profile_ids', profileIds.join(','));\r\n    }\r\n\r\n    addIndicatorIds(indicatorIds: Array<number>): void {\r\n        this.params.set('indicator_ids', indicatorIds.join(','));\r\n    }\r\n\r\n    addSearchText(searchText: string): void {\r\n        this.params.set('search_text', searchText);\r\n    }\r\n\r\n    addNoCache(): void {\r\n        this.params.set('no_cache', true.toString());\r\n    }\r\n\r\n    addIncludeCoordinates(includeCoordinates: Boolean): void {\r\n        this.params.set('include_coordinates', includeCoordinates.toString());\r\n    }\r\n\r\n    addParentAreasToIncludeInResults(parentAreasToIncludeInResults: Boolean): void {\r\n        this.params.set('parent_areas_to_include_in_results', parentAreasToIncludeInResults.toString());\r\n    }\r\n\r\n    addPolygonAreaTypeId(polygonAreaTypeId: number): void {\r\n        this.params.set('polygon_area_type_id', polygonAreaTypeId.toString());\r\n    }\r\n\r\n    addEasting(easting: number): void {\r\n        this.params.set('easting', easting.toString());\r\n    }\r\n    addNorthing(northing: number): void {\r\n        this.params.set('northing', northing.toString());\r\n    }\r\n\r\n    addUserId(userId: string): void {\r\n        this.params.set('user_id', userId);\r\n    }\r\n\r\n    addAreaListId(areaListId: number): void {\r\n        this.params.set('area_list_id', areaListId.toString());\r\n    }\r\n\r\n    addPublicId(publicId: string): void {\r\n        this.params.set('public_id', publicId);\r\n    }\r\n\r\n    addProfileKey(profileKey: string): void {\r\n        this.params.set('profile_key', profileKey);\r\n    }\r\n\r\n    addFileName(fileName: string): void {\r\n        this.params.set('file_name', fileName);\r\n    }\r\n\r\n    addTimePeriod(timePeriod: string): void {\r\n        this.params.set('time_period', timePeriod);\r\n    }\r\n\r\n    addKey(key: string): void {\r\n        this.params.set('key', key);\r\n    }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/parameters.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { HttpService } from './http.service'\r\nimport { Parameters } from './parameters';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport { AreaType, ProfilePerIndicator } from '../../../typings/FT.d';\r\n\r\n@Injectable()\r\nexport class ProfileService {\r\n\r\n  private version: string = this.ftHelperService.version();\r\n\r\n  constructor(private httpService: HttpService, private ftHelperService: FTHelperService) {\r\n  }\r\n\r\n  public areaTypesWithPdfs(profileId: number): Observable<AreaType[]> {\r\n    let params = new Parameters(this.version);\r\n    params.addProfileId(profileId);\r\n\r\n    return this.httpService.httpGet('api/profile/area_types_with_pdfs', params);\r\n  }\r\n\r\n  public getIndicatorProfiles(indicatorIds: number[]): Observable<Map<number, ProfilePerIndicator[]>> {\r\n    const params = new Parameters(this.version);\r\n    params.addIndicatorIds(indicatorIds);\r\n\r\n    return this.httpService.httpGet('api/profiles_containing_indicators', params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/profile.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport { Parameters } from './parameters';\r\nimport { HttpService } from './http.service'\r\nimport { SSRSReport } from '../../../typings/FT.d'\r\n\r\n@Injectable()\r\nexport class SsrsReportService {\r\n\r\n  private version: string = this.ftHelperService.version();\r\n\r\n  constructor(private httpService: HttpService, private ftHelperService: FTHelperService) {\r\n  }\r\n\r\n  getSsrsReports(profileId: number): Observable<SSRSReport[]> {\r\n    let params = new Parameters(this.version);\r\n\r\n    return this.httpService.httpGet('api/ssrs_reports/' + profileId, params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/ssrs-report.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { HttpService } from './http.service'\r\nimport { Parameters } from './parameters';\r\nimport { FTHelperService } from '../../service/helper/ftHelper.service';\r\nimport {\r\n  AreaType\r\n} from '../../../typings/FT.d';\r\n\r\n@Injectable()\r\nexport class StaticReportsService {\r\n  private version: string = this.ftHelperService.version();\r\n\r\n  constructor(private httpService: HttpService, private ftHelperService: FTHelperService) {\r\n  }\r\n\r\n  public doesStaticReportExist(profileKey: string, fileName: string,\r\n    timePeriod: string): Observable<boolean> {\r\n    let params = new Parameters(this.version);\r\n    params.addProfileKey(profileKey);\r\n    params.addFileName(fileName);\r\n    if (timePeriod) {\r\n      params.addTimePeriod(timePeriod);\r\n    }\r\n\r\n    return this.httpService.httpGet('api/static-reports/exists', params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/api/static-reports.service.ts","import { Injectable } from '@angular/core';\r\nimport { FTRoot, CoreDataSet, Unit, ValueWithUnit } from '../../../typings/FT.d';\r\ndeclare let FTWrapper: FTRoot;\r\n\r\n@Injectable()\r\nexport class CoreDataHelperService {\r\n    addOrderandPercentilesToData(coreDataSet: CoreDataSet) {\r\n        return FTWrapper.coreDataHelper.addOrderandPercentilesToData(coreDataSet);\r\n    }\r\n    valueWithUnit(unit: Unit): ValueWithUnit {\r\n        return FTWrapper.coreDataHelper.valueWithUnit(unit);\r\n    }\r\n    getFullLabel(value: string, options?: any): string {\r\n        return FTWrapper.valueWithUnit.getFullLabel(value, options);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/helper/coreDataHelper.service.ts","import { Injectable, ElementRef } from '@angular/core';\r\nimport {\r\n    FTRoot, Area, GroupRoot, FTConfig, FTModel, IndicatorMetadata, FTUrls, ValueNote,\r\n    CoreDataSet, FTIndicatorSearch, Grouping, CoreDataSetInfo, Unit,\r\n    ValueNoteTooltipProvider, TooltipManager, TrendMarker, CommaNumber, ValueDisplayer, IndicatorStatsPercentilesFormatted, IndicatorFormatter,\r\n    RecentTrendsTooltip, RecentTrendSelected, ComparisonConfig, ParentAreaType,\r\n    GroupingSubheading\r\n} from '../../../typings/FT.d';\r\nimport { AreaTypeIds } from '../../shared';\r\ndeclare let FTWrapper: FTRoot;\r\n\r\n// Global JS variables defined in HTML page\r\ndeclare let enumParentDisplay: number;\r\ndeclare let groupRoots: GroupRoot[];\r\n\r\n@Injectable()\r\nexport class FTHelperService {\r\n    hasDataChanged(groupRoot: GroupRoot): boolean {\r\n        return FTWrapper.hasDataChanged(groupRoot);\r\n    }\r\n    getIndicatorNameTooltip(rootIndex: number, area: Area) {\r\n        return FTWrapper.getIndicatorNameTooltip(rootIndex, area);\r\n    }\r\n    initBootstrapTooltips(): void {\r\n        FTWrapper.initBootstrapTooltips();\r\n    }\r\n    isSubnationalColumn(): boolean {\r\n        return FTWrapper.isSubnationalColumn();\r\n    }\r\n    exportTableAsImage(containerId: string, fileNamePrefix: string, legends: string): void {\r\n        FTWrapper.exportTableAsImage(containerId, fileNamePrefix, legends);\r\n    }\r\n    getMarkerImageFromSignificance(significance: number, useRag: boolean, suffix: string, useQuintileColouring: boolean,\r\n        indicatorId: number, sexId: number, ageId: number): string {\r\n        return FTWrapper.getMarkerImageFromSignificance(significance, useRag, suffix, useQuintileColouring, indicatorId, sexId, ageId);\r\n    }\r\n    getArea(areaCode: string): Area {\r\n        return FTWrapper.getArea(areaCode);\r\n    }\r\n    getAreaName(areaCode: string): string {\r\n        return FTWrapper.getAreaName(areaCode);\r\n    }\r\n    getAreaNameToDisplay(area: Area): string {\r\n        return FTWrapper.getAreaNameToDisplay(area);\r\n    }\r\n    getEnumParentDisplay(): number {\r\n        return enumParentDisplay;\r\n    }\r\n    getNationalComparator(): Area {\r\n        return FTWrapper.getNationalComparator();\r\n    }\r\n    getParentTypeId(): number {\r\n        return FTWrapper.getParentTypeId();\r\n    }\r\n    getParentTypeName(): string {\r\n        return FTWrapper.getParentTypeName();\r\n    }\r\n    getAreaTypeId(): number {\r\n        return FTWrapper.getAreaTypeId();\r\n    }\r\n    getAreaTypeName(): string {\r\n        return FTWrapper.getAreaTypeName();\r\n    }\r\n    getAreaList(): Array<Area> {\r\n        return FTWrapper.getAreaList();\r\n    }\r\n    getComparatorId(): number {\r\n        return FTWrapper.getComparatorId();\r\n    }\r\n    getComparatorById(comparatorId: number): Area {\r\n        return FTWrapper.getComparatorById(comparatorId);\r\n    }\r\n    getCurrentDomainName(): string {\r\n        return FTWrapper.getCurrentDomainName();\r\n    }\r\n    getCurrentComparator(): Area {\r\n        return FTWrapper.getCurrentComparator();\r\n    }\r\n    getCurrentGroupRoot(): GroupRoot {\r\n        return FTWrapper.getGroopRoot();\r\n    }\r\n    getGroupingSubheadings(): GroupingSubheading[] {\r\n        return FTWrapper.getGroupingSubheadings();\r\n    }\r\n    getAllGroupRoots(): GroupRoot[] {\r\n        return groupRoots;\r\n    }\r\n    getValueNotes(): Array<ValueNote> {\r\n        return FTWrapper.getValueNotes();\r\n    }\r\n    getValueNoteById(id: number): ValueNote {\r\n        return FTWrapper.getValueNoteById(id);\r\n    }\r\n    formatCount(dataInfo: CoreDataSetInfo): string {\r\n        return FTWrapper.formatCount(dataInfo);\r\n    }\r\n    newCoreDataSetInfo(data: CoreDataSet): CoreDataSetInfo {\r\n        return FTWrapper.newCoreDataSetInfo(data);\r\n    }\r\n    newIndicatorFormatter(groupRoot: GroupRoot, metadata: IndicatorMetadata,\r\n        coreDataSet: CoreDataSet, indicatorStatsF: IndicatorStatsPercentilesFormatted): IndicatorFormatter {\r\n        return FTWrapper.newIndicatorFormatter(groupRoot, metadata, coreDataSet, indicatorStatsF);\r\n    }\r\n    newValueDisplayer(unit: Unit): ValueDisplayer {\r\n        return FTWrapper.newValueDisplayer(unit);\r\n    }\r\n    newCommaNumber(n: number): CommaNumber {\r\n        return FTWrapper.newCommaNumber(n);\r\n    }\r\n    newValueNoteTooltipProvider(): ValueNoteTooltipProvider {\r\n        return FTWrapper.newValueNoteTooltipProvider();\r\n    }\r\n    newTooltipManager(): TooltipManager {\r\n        return FTWrapper.newTooltipManager();\r\n    }\r\n    newRecentTrendsTooltip(): RecentTrendsTooltip {\r\n        return FTWrapper.newRecentTrendsTooltip();\r\n    }\r\n    newComparisonConfig(groupRoot: GroupRoot, indicatorMetadata: IndicatorMetadata): ComparisonConfig {\r\n        return FTWrapper.newComparisonConfig(groupRoot, indicatorMetadata);\r\n    }\r\n    getRegionalComparatorGrouping(root: GroupRoot): Grouping {\r\n        return FTWrapper.getRegionalComparatorGrouping(root);\r\n    }\r\n    getNationalComparatorGrouping(root: GroupRoot): Grouping {\r\n        return FTWrapper.getNationalComparatorGrouping(root);\r\n    }\r\n    getFTConfig(): FTConfig {\r\n        return FTWrapper.config();\r\n    }\r\n    getFTModel(): FTModel {\r\n        return FTWrapper.model();\r\n    }\r\n    getMetadata(IID: number): IndicatorMetadata {\r\n        return FTWrapper.indicatorHelper.getMetadataHash()[IID];\r\n    }\r\n    getMetadataHash(): Map<number, IndicatorMetadata> {\r\n        return FTWrapper.indicatorHelper.getMetadataHash();\r\n    }\r\n    getIndicatorIndex(): number {\r\n        return FTWrapper.indicatorHelper.getIndicatorIndex();\r\n    }\r\n    getParentArea(): Area {\r\n        return FTWrapper.getParentArea();\r\n    }\r\n    getSearch(): FTIndicatorSearch {\r\n        return FTWrapper.search;\r\n    }\r\n    getSexAndAgeLabel(groupRoot: GroupRoot): string {\r\n        return FTWrapper.getSexAndAgeLabel(groupRoot);\r\n    }\r\n    /** Returns IMG HTML for a recent trend */\r\n    getTrendMarkerImage(trendMarker: TrendMarker, polarity: number): string {\r\n        return FTWrapper.getTrendMarkerImage(trendMarker, polarity);\r\n    }\r\n    getURL(): FTUrls {\r\n        return FTWrapper.url();\r\n    }\r\n    getIndicatorDataQualityHtml(text: string): string {\r\n        return FTWrapper.getIndicatorDataQualityHtml(text);\r\n    }\r\n    getIndicatorDataQualityTooltipText(dataQualityCount: number): string {\r\n        return FTWrapper.getIndicatorDataQualityTooltipText(dataQualityCount);\r\n    }\r\n    goToBarChartPage(rootIndex: number | string): void {\r\n        FTWrapper.goToBarChartPage(rootIndex);\r\n    }\r\n    goToMetadataPage(rootIndex: number | string): void {\r\n        FTWrapper.goToMetadataPage(rootIndex);\r\n    }\r\n    goToAreaTrendsPage(rootIndex: number | string): void {\r\n        FTWrapper.goToAreaTrendsPage(rootIndex);\r\n    }\r\n    recentTrendSelected(): RecentTrendSelected {\r\n        return FTWrapper.recentTrendSelected();\r\n    }\r\n    setAreaCode(areaCode: string): void {\r\n        FTWrapper.setAreaCode(areaCode);\r\n    }\r\n    showIndicatorMetadataInLightbox(element: ElementRef): void {\r\n        FTWrapper.showIndicatorMetadataInLightbox(element);\r\n    }\r\n    showAndHidePageElements(): void {\r\n        FTWrapper.showAndHidePageElements();\r\n    }\r\n    showDataQualityLegend(): void {\r\n        FTWrapper.showDataQualityLegend();\r\n    }\r\n    showTargetBenchmarkOption(roots): void {\r\n        FTWrapper.showTargetBenchmarkOption(roots);\r\n    }\r\n    getTargetLegendHtml(comparisonConfig, metadata): string {\r\n        return FTWrapper.getTargetLegendHtml(comparisonConfig, metadata);\r\n    }\r\n    lock(): void {\r\n        FTWrapper.lock();\r\n    }\r\n    unlock(): void {\r\n        FTWrapper.unlock();\r\n    }\r\n\r\n    /** The version number of the static assets, e.g. JS */\r\n    version(): string {\r\n        return FTWrapper.version();\r\n    }\r\n\r\n    saveElementAsImage(element, outputFilename): void {\r\n        return FTWrapper.saveElementAsImage(element, outputFilename);\r\n    }\r\n\r\n    redirectToPopulationPage(): void {\r\n        return FTWrapper.redirectToPopulationPage();\r\n    }\r\n\r\n    isValuePresent(val: string): boolean {\r\n        return val !== undefined && val !== '-' && val !== '';\r\n    }\r\n\r\n    logEvent(category: string, action: string, label: string = null): void {\r\n        FTWrapper.logEvent(category, action, label);\r\n    }\r\n\r\n    isParentCountry(model: FTModel): boolean {\r\n        return model.parentTypeId === AreaTypeIds.Country;\r\n    }\r\n\r\n    isParentUk(): boolean {\r\n        return FTWrapper.getParentTypeId() === AreaTypeIds.Uk;\r\n    }\r\n\r\n    isNearestNeighbours(model: FTModel): boolean {\r\n        switch (model.nearestNeighbour) {\r\n            case undefined:\r\n            case null:\r\n            case \"\":\r\n                return false;\r\n            default:\r\n                return true;\r\n        }\r\n    }\r\n\r\n    getProfileUrlKey(): string {\r\n        return FTWrapper.getProfileUrlKey();\r\n    }\r\n\r\n    setComparatorId(id: number): void {\r\n        FTWrapper.setComparatorId(id);\r\n    }\r\n\r\n    getAreaMappingsForParentCode(key: string): string[] {\r\n        return FTWrapper.getAreaMappingsForParentCode(key);\r\n    }\r\n\r\n    showTrendInfo(): void {\r\n        return FTWrapper.showTrendInfo();\r\n    }\r\n\r\n    lightboxShow(html, top, left, popupWidth) {\r\n        FTWrapper.lightboxShow(html, top, left, popupWidth);\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/helper/ftHelper.service.ts","import { Injectable } from '@angular/core';\r\nimport { LightBoxConfig } from '../../component/light-box/light-box.component';\r\nimport { FTHelperService } from './ftHelper.service';\r\n\r\n@Injectable()\r\nexport class LightBoxService {\r\n\r\n  constructor(private ftHelperService: FTHelperService) { }\r\n\r\n  /**\r\n   * Display a light box on the Fingertips data page\r\n   */\r\n  display(lightBoxConfig: LightBoxConfig) {\r\n\r\n    // To enable a full screen lightbox on the data page\r\n    const html = `<div style=\"padding:15px;\">\r\n    <h3>${lightBoxConfig.Title}</h3>\r\n    <div>\r\n    ${lightBoxConfig.Html}\r\n    </div>\r\n    <div class=\"lightbox-button-box\">\r\n    <button class=\"btn btn-primary active lightbox-button\" onclick=\"lightbox.hide()\">OK</button>\r\n    </div>\r\n    </div>`;\r\n    const popupWidth = 500;\r\n    const left = ($(window).width() - popupWidth) / 2;\r\n    const top = lightBoxConfig.Top;\r\n    this.ftHelperService.lightboxShow(html, top, left, popupWidth);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/helper/light-box.service.ts","import { Injectable } from '@angular/core';\r\n\r\n/** Wrapper for JQuery access to page elements not defined in Angular */\r\n@Injectable()\r\nexport class UIService {\r\n\r\n  setScrollTop(scrollTop: number): void {\r\n    if (scrollTop) {\r\n      $(window).scrollTop(scrollTop);\r\n    }\r\n  }\r\n\r\n  getScrollTop(): number {\r\n    return $(window).scrollTop();\r\n  }\r\n\r\n  toggleQuintileLegend($element, useQuintileColouring) {\r\n    if (!useQuintileColouring) {\r\n      $element.hide();\r\n    } else {\r\n      $element.show();\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/service/helper/ui.service.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// Helper services \r\nimport { CoreDataHelperService } from './service/helper/coreDataHelper.service';\r\nimport { FTHelperService } from './service/helper/ftHelper.service';\r\nimport { LightBoxService } from './service/helper/light-box.service';\r\nimport { UIService } from './service/helper/ui.service';\r\n\r\n// Components\r\nimport { IndicatorHeaderComponent } from './component/indicator-header/indicator-header.component';\r\n\r\n// API services\r\nimport { HttpService } from './service/api/http.service';\r\nimport { StaticReportsService } from './service/api/static-reports.service';\r\nimport { ProfileService } from './service/api/profile.service';\r\nimport { ContentService } from './service/api/content.service';\r\nimport { SsrsReportService } from './service/api/ssrs-report.service';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        IndicatorHeaderComponent\r\n    ],\r\n    exports: [\r\n        IndicatorHeaderComponent\r\n    ],\r\n    providers: [CoreDataHelperService, FTHelperService, HttpService, ProfileService,\r\n        StaticReportsService, LightBoxService, SsrsReportService, ContentService, UIService],\r\n})\r\n\r\nexport class SharedModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/shared.module.ts","import { TooltipManager, GroupRoot, ComparisonConfig, CoreDataSet, Area } from '../typings/FT.d';\r\nimport * as _ from 'underscore';\r\n\r\nexport class TooltipHelper {\r\n    constructor(private tooltipManager: TooltipManager) { }\r\n    displayHtml(event: MouseEvent, html: string): void {\r\n        this.tooltipManager.setHtml(html);\r\n        this.tooltipManager.positionXY(event.pageX + 10, event.pageY + 15);\r\n        this.tooltipManager.showOnly();\r\n    }\r\n    reposition(event: MouseEvent): void {\r\n        this.tooltipManager.positionXY(event.pageX + 10, event.pageY + 15)\r\n    }\r\n    hide(): void {\r\n        this.tooltipManager.hide();\r\n    }\r\n}\r\n\r\nexport class AreaCodes {\r\n    public static readonly England = 'E92000001';\r\n    public static readonly Uk = 'UK0000000';\r\n}\r\n\r\nexport class SexIds {\r\n    public static readonly Male = 1;\r\n    public static readonly Female = 2;\r\n    public static readonly Person = 4;\r\n}\r\n\r\nexport class ParentDisplay {\r\n    public static readonly NationalAndRegional = 0;\r\n    public static readonly RegionalOnly = 1;\r\n    public static readonly NationalOnly = 2;\r\n};\r\n\r\n/** Highcharts helper */\r\nexport class HC {\r\n    public static readonly Credits = { enabled: false };\r\n    public static readonly NoLineMarker = { enabled: false, symbol: 'x' }\r\n}\r\n\r\nexport class ComparatorIds {\r\n    public static readonly National = 4;\r\n    public static readonly SubNational = 1;\r\n}\r\nexport class AreaTypeIds {\r\n    public static readonly District = 1;\r\n    public static readonly MSOA = 3;\r\n    public static readonly Region = 6;\r\n    public static readonly Practice = 7;\r\n    public static readonly Ward = 8;\r\n    public static readonly County = 9;\r\n    public static readonly AcuteTrust = 14;\r\n    public static readonly Country = 15;\r\n    public static readonly UnitaryAuthority = 16;\r\n    public static readonly GpShape = 18;\r\n    public static readonly DeprivationDecile = 23;\r\n    public static readonly Subregion = 46;\r\n    public static readonly DistrictUA = 101;\r\n    public static readonly CountyUA = 102;\r\n    public static readonly PheCentres2013 = 103;\r\n    public static readonly PheCentres2015 = 104;\r\n    public static readonly OnsClusterGroup = 110;\r\n    public static readonly Scn = 112;\r\n    public static readonly AcuteTrusts = 118;\r\n    public static readonly Stp = 120;\r\n    public static readonly CombinedAuthorities = 126;\r\n    public static readonly CcgSinceApr2017 = 152;\r\n    public static readonly CcgPreApr2017 = 153;\r\n    public static readonly CcgSinceApr2018 = 154;\r\n    public static readonly Uk = 159;\r\n};\r\n\r\nexport class ProfileUrlKeys {\r\n    public static readonly ChildHealthBehaviours = 'child-health-behaviours';\r\n    public static readonly DentalHealth = 'dental-health';\r\n}\r\n\r\nexport class TrendMarkerValue {\r\n    public static readonly Up = 1;\r\n    public static readonly Down = 2;\r\n    public static readonly NoChange = 3;\r\n    public static readonly CannotCalculate = 4;\r\n};\r\n\r\nexport class IndicatorIds {\r\n    public static readonly QofListSize = 114;\r\n    public static readonly QofPoints = 295;\r\n    public static readonly LifeExpectancy = 650;\r\n    public static readonly EthnicityEstimates = 1679;\r\n    public static readonly DeprivationScore = 91872;\r\n    public static readonly WouldRecommendPractice = 93438;\r\n}\r\n\r\nexport class CategoryTypeIds {\r\n    public static readonly HealthProfilesSSILimit = 5;\r\n    public static readonly DeprivationDecileCCG2010 = 11;\r\n    public static readonly DeprivationDecileGp2015 = 38;\r\n    public static readonly DeprivationDecileCountyUA2015 = 39;\r\n    public static readonly DeprivationDecileDistrictUA2015 = 40;\r\n}\r\n\r\nexport class ProfileIds {\r\n    public static readonly SearchResults = 13;\r\n    public static readonly Tobacco = 18;\r\n    public static readonly Phof = 19;\r\n    public static readonly PracticeProfile = 20;\r\n    public static readonly PracticeProfileSupportingIndicators = 21;\r\n    public static readonly HealthProfiles = 26;\r\n    public static readonly CommonMentalHealthDisorders = 40;\r\n    public static readonly SevereMentalIllness = 41;\r\n    public static readonly Liver = 55;\r\n    public static readonly Dementia = 84;\r\n    public static readonly SuicidePrevention = 91;\r\n    public static readonly MentalHealthJsna = 98;\r\n    public static readonly ChildHealth = 105;\r\n    public static readonly ChildHealthBehaviours = 129;\r\n    public static readonly ChildrenYoungPeoplesWellBeing = 133;\r\n}\r\n\r\nexport class GroupIds {\r\n    public static readonly PracticeProfiles_Population = 1200006;\r\n}\r\n\r\nexport class ValueTypeIds {\r\n    public static readonly Count = 7;\r\n}\r\n\r\nexport class CommaNumber {\r\n\r\n    constructor(private value: number) { }\r\n\r\n    private commarate(value: number | string) {\r\n        return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    }\r\n\r\n    /**\r\n    * Rounds the number to 0 decimal places before formatting with commas\r\n    */\r\n    rounded() {\r\n        return this.commarate(Math.round(this.value));\r\n    }\r\n\r\n    unrounded() {\r\n        const commaNumber = this.value.toString();\r\n        if (commaNumber.indexOf('.') > -1) {\r\n            const bits = commaNumber.split('.');\r\n            return this.commarate(bits[0]) + '.' + bits[1];\r\n        }\r\n        return this.commarate(this.value);\r\n    }\r\n};\r\n\r\nexport class NumberHelper {\r\n\r\n    /**\r\n     * Rounds a number to a fixed amount of decimal places\r\n     * @param num Number to round\r\n     * @param dec Number of decimal place to round to\r\n     */\r\n    public static roundNumber(num, dec) {\r\n        return Math.round(num * Math.pow(10, dec)) / Math.pow(10, dec);\r\n    };\r\n}\r\n\r\nexport class ComparatorMethodIds {\r\n    public static readonly SingleOverlappingCIsForOneCiLevel = 1;\r\n    public static readonly SuicidePlan = 14;\r\n    public static readonly Quintiles = 15;\r\n    public static readonly Quartiles = 16;\r\n    public static readonly SingleOverlappingCIsForTwoCiLevels = 17;\r\n}\r\n\r\nexport class PolarityIds {\r\n    public static readonly NotApplicable = -1;\r\n    public static readonly RAGLowIsGood = 0;\r\n    public static readonly RAGHighIsGood = 1;\r\n    public static readonly BlueOrangeBlue = 99;\r\n}\r\nexport class Colour {\r\n    public static readonly chart = '#a8a8cc';\r\n    public static readonly better = '#92d050';\r\n    public static readonly same = '#ffc000';\r\n    public static readonly worse = '#c00000';\r\n    public static readonly none = '#ffffff';\r\n    public static readonly limit99 = '#a8a8cc';\r\n    public static readonly limit95 = '#444444';\r\n    public static readonly border = '#666666';\r\n    public static readonly comparator = '#000000';\r\n    public static readonly bobLower = '#5555E6';\r\n    public static readonly bobHigher = '#C2CCFF';\r\n    public static readonly bodyText = '#333';\r\n    public static readonly noComparison = '#c9c9c9';\r\n    public static readonly ragQuintile1 = '#DED3EC';\r\n    public static readonly ragQuintile2 = '#BEA7DA';\r\n    public static readonly ragQuintile3 = '#9E7CC8';\r\n    public static readonly ragQuintile4 = '#7E50B6';\r\n    public static readonly ragQuintile5 = '#5E25A4';\r\n    public static readonly bobQuintile1 = '#254BA4';\r\n    public static readonly bobQuintile2 = '#506EB6';\r\n    public static readonly bobQuintile3 = '#7C93C8';\r\n    public static readonly bobQuintile4 = '#A7B6DA';\r\n    public static readonly bobQuintile5 = '#D3DBEC';\r\n\r\n    public static getSignificanceColorForBenchmark(groupRoot: GroupRoot, comparisonConfig: ComparisonConfig, sig: number): string {\r\n\r\n        const polarityId = groupRoot.PolarityId;\r\n        // Quintiles\r\n        if (comparisonConfig.useQuintileColouring ||\r\n            groupRoot.ComparatorMethodId === ComparatorMethodIds.Quintiles) {\r\n            if (sig > 0 && sig < 6) {\r\n                const quintile = 'quintile' + sig;\r\n                if (polarityId === PolarityIds.NotApplicable) {\r\n                    switch (quintile) {\r\n                        case 'quintile1': {\r\n                            return Colour.bobQuintile1;\r\n                        }\r\n                        case 'quintile2': {\r\n                            return Colour.bobQuintile2;\r\n                        }\r\n                        case 'quintile3': {\r\n                            return Colour.bobQuintile3;\r\n                        }\r\n                        case 'quintile4': {\r\n                            return Colour.bobQuintile4;\r\n                        }\r\n                        case 'quintile5': {\r\n                            return Colour.bobQuintile5;\r\n                        }\r\n                    }\r\n                } else {\r\n                    switch (quintile) {\r\n                        case 'quintile1': {\r\n                            return Colour.ragQuintile1;\r\n                        }\r\n                        case 'quintile2': {\r\n                            return Colour.ragQuintile2;\r\n                        }\r\n                        case 'quintile3': {\r\n                            return Colour.ragQuintile3;\r\n                        }\r\n                        case 'quintile4': {\r\n                            return Colour.ragQuintile4;\r\n                        }\r\n                        case 'quintile5': {\r\n                            return Colour.ragQuintile5;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                return Colour.noComparison;\r\n            }\r\n        }\r\n\r\n        // No colour comparison should be made\r\n        if (polarityId === -1) {\r\n            return Colour.noComparison;\r\n        }\r\n\r\n        // Blues\r\n        if (polarityId === PolarityIds.BlueOrangeBlue) {\r\n            return sig === 1 ? Colour.bobLower :\r\n                sig === 2 ? Colour.same :\r\n                    sig === 3 ? Colour.bobHigher :\r\n                        Colour.noComparison;\r\n        }\r\n        // RAG\r\n        return sig === 1 ? Colour.worse :\r\n            sig === 2 ? Colour.same :\r\n                sig === 3 ? Colour.better :\r\n                    Colour.noComparison;\r\n    }\r\n\r\n    public static getColorForQuartile(quartile: number): string {\r\n        switch (quartile) {\r\n            case 1:\r\n                return '#E8C7D1';\r\n            case 2:\r\n                return '#B74D6D';\r\n            case 3:\r\n                return '#98002E';\r\n            case 4:\r\n            case 5:\r\n                return '#700023';\r\n            default:\r\n                return '#B0B0B2';\r\n        }\r\n    }\r\n\r\n    public static getColorForQuintile(quintile: number, polarityId: number): string {\r\n        if (polarityId === PolarityIds.NotApplicable) {\r\n            switch (quintile) {\r\n                case 1:\r\n                    return Colour.bobQuintile1;\r\n                case 2:\r\n                    return Colour.bobQuintile2;\r\n                case 3:\r\n                    return Colour.bobQuintile3;\r\n                case 4:\r\n                    return Colour.bobQuintile4;\r\n                case 5:\r\n                case 6:\r\n                    return Colour.bobQuintile5;\r\n                default:\r\n                    return '#B0B0B2';\r\n            }\r\n        } else {\r\n            switch (quintile) {\r\n                case 1:\r\n                    return Colour.ragQuintile1;\r\n                case 2:\r\n                    return Colour.ragQuintile2;\r\n                case 3:\r\n                    return Colour.ragQuintile3;\r\n                case 4:\r\n                    return Colour.ragQuintile4;\r\n                case 5:\r\n                case 6:\r\n                    return Colour.ragQuintile5;\r\n                default:\r\n                    return '#B0B0B2';\r\n            }\r\n        }\r\n    }\r\n\r\n    public static getColorForContinuous(orderFrac: number): string {\r\n        if (orderFrac === -1) {\r\n            return '#B0B0B2';\r\n        }\r\n        const seed = orderFrac;\r\n        let r = 21;\r\n        let g = 28;\r\n        let b = 85;\r\n\r\n        r = 255 - Math.round(seed * (255 - r));\r\n        g = 233 - Math.round(seed * (233 - g));\r\n        b = 127 - Math.round(seed * (127 - b));\r\n        return 'rgb(' + r + ',' + g + ',' + b + ')';\r\n    }\r\n}\r\n\r\nexport class ParameterBuilder {\r\n\r\n    private keys = [];\r\n    private values = [];\r\n\r\n    //\r\n    // Add a key value pair to the parameter list\r\n    //\r\n    add(key: string, value: any) {\r\n        this.keys.push(key);\r\n\r\n        if (_.isArray(value)) {\r\n            value = value.join(',');\r\n        }\r\n\r\n        this.values.push(value);\r\n        return this;\r\n    };\r\n\r\n    // \r\n    // Generate the parameter string\r\n    //\r\n    build() {\r\n\r\n        let url = [];\r\n        for (let index in this.keys) {\r\n            if (index !== '0') {\r\n                url.push('&');\r\n            }\r\n\r\n            url.push(this.keys[index], '=', this.values[index]);\r\n        }\r\n\r\n        // Do not prefix with '?' as JQuery ajax will do this\r\n        return url.join('');\r\n    };\r\n}\r\n\r\nexport class GroupRootHelper {\r\n\r\n    constructor(private groupRoot: GroupRoot) { }\r\n\r\n    findMatchingItemBySexAgeAndIndicatorId(items: any[]) {\r\n        let groupRoot = this.groupRoot;\r\n        return _.find(items, function (item) {\r\n            return item.IID === groupRoot.IID &&\r\n                item.Sex.Id === groupRoot.Sex.Id &&\r\n                item.Age.Id === groupRoot.Age.Id;\r\n        });\r\n    }\r\n}\r\n\r\nexport class CoreDataListHelper {\r\n\r\n    constructor(private coreDataList: CoreDataSet[]) { }\r\n\r\n    findByAreaCode(areaCode) {\r\n        for (let data of this.coreDataList) {\r\n            if (data.AreaCode === areaCode) {\r\n                return data;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nexport class AreaHelper {\r\n    constructor(private area: Area) { }\r\n\r\n    getAreaNameToDisplay(): string {\r\n        return this.getName(this.area.Name);\r\n    }\r\n\r\n    getShortAreaNameToDisplay(): string {\r\n        return this.getName(this.area.Short);\r\n    }\r\n\r\n    private getName(name): string {\r\n        if (this.area.AreaTypeId === AreaTypeIds.Practice) {\r\n            return this.area.Code + ' - ' + name;\r\n        }\r\n        return name;\r\n    }\r\n}\r\n\r\nexport class SpineChartMinMaxLabel {\r\n    public static readonly DeriveFromLegendColours = 0;\r\n    public static readonly LowestAndHighest = 1;\r\n    public static readonly WorstAndBest = 2;\r\n    public static readonly WorstLowestAndBestHighest = 3;\r\n}\r\n\r\nexport class SpineChartMinMaxLabelDescription {\r\n    public static readonly Lowest = \"Lowest\";\r\n    public static readonly Highest = \"Highest\";\r\n    public static readonly Worst = \"Worst\";\r\n    public static readonly Best = \"Best\";\r\n    public static readonly WorstLowest = \"Worst/ Lowest\";\r\n    public static readonly BestHighest = \"Best/ Highest\";\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/shared.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { environment } from './environments/environment';\r\nimport { AppModule } from './app/app.module';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}