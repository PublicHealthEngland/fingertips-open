@using System.Web.Optimization
@using Profiles.MainUI.Models
@model Profiles.MainUI.Models.PageModel
@{ Layout = "~/Views/Shared/_LayoutPage.cshtml"; }
@section headContent {
    <link href="@(Model.CssPath)core-contentpages.css" rel="stylesheet" type="text/css" />
    <script src="@(Model.JsPath)SiteKeyIndicators.js" type="text/javascript"></script>
    @Html.Partial("_GlobalJsVariablesForContentPage")
}
<div class="full-width title-divider"></div>
<div class="standardWidth clearfix">

    <ul class="link-list">
        <li class="site-link">
            <a href="/profile/@ViewBag.ProfileUrlKey">Back to search</a>
        </li>
    </ul>
    
    <h2>Profiles for @ViewBag.PlaceName</h2>

    <div id="area-results-box" class="standardWidth clearfix">
        <p id="no-data-message" style="display:none;">No data is available for this area</p>
    </div>
</div>
@Html.Partial("_JsUrls")
@Styles.Render("~/bundles/css-area-search")
@Scripts.Render("~/bundles/js-area-search") 
<script type="text/javascript">
    // Globals
    FT.model.profileId = @Model.ProfileId;
    profileUrlKey = '@ViewBag.ProfileUrlKey';
    FT.version = '@ViewBag.JavaScriptVersion';
    FT.isProfileWithOnlyStaticReports = @JsHelper.GetJsBool(Model.IsProfileWithOnlyStaticReports);
    FT.staticReportTimePeriods = '@ViewBag.StaticReportsTimePeriods'.split(',');

    // Local state
    state = {
        parentAreaCode : '@ViewBag.AreaCodes',
        searchType : '@ViewBag.SearchType',
        placeName : '@ViewBag.PlaceName',
        areasToIgnore : '@ViewBag.AreasToIgnoreEverywhere'.split(',')
    };

    // Initialisation
    $(document).ready(function() {
        areaSearchResults.init();
    });
</script>
