@using System.Web.Optimization
@using Profiles.MainUI.Models
@model PageModel
@{ Layout = "~/Views/Shared/_LayoutPage.cshtml"; }
@section headContent {
    <link href="@(Model.CssPath)core-contentpages.css" rel="stylesheet" type="text/css"/>
    @Styles.Render("~/bundles/css-area-search")
    @if (Model.HasExclusiveSkin)
    {
        <link href="@(Model.CssPath)phof.css" rel="stylesheet" type="text/css" />
    }
    <script src="@(Model.JsPath)SiteKeyIndicators.js" type="text/javascript"></script>
}
<div class="full-width title-divider"></div>
<div class="standard-width clearfix">

    <div class="row col-md-12">
        <ul class="breadcrumbs">
            <li class="site-link">
                <a id="back-to-search" href="#">Back to search</a>
            </li>
        </ul>
   </div>

    <h2>Profiles for @ViewBag.PlaceName</h2>

    <div id="area-results-box" class="standard-width clearfix">
        <p id="no-data-message" style="display: none;">No data is available for this area</p>
    </div>

    <div id="spinner-box">
        @Html.Partial("Spinner")
    </div>
</div>

@Scripts.Render("~/bundles/js-area-search") 
<script type="text/javascript">
    // Globals
    isInitRequired = false;
    FT.version = '@ViewBag.JavaScriptVersion';
    FT.config.hasAnyData = @JsHelper.GetJsBool(Model.HasAnyData);
    FT.config.hasStaticReports = @JsHelper.GetJsBool(Model.HasStaticReports);
    FT.config.frontPageAreaSearchAreaTypes = [@Model.FrontPageAreaSearchAreaTypes];

    // Local state
    state = {
        parentAreaCode : '@ViewBag.AreaCodes',
        searchType : '@ViewBag.SearchType',
        placeName : '@ViewBag.PlaceName',
        areasToIgnore : '@ViewBag.AreasToIgnoreEverywhere'.split(',')
    };

    // Initialisation
    $(document).ready(function() {
        areaSearchResults.init();
    });
</script>
