@using Fpm.MainUI
@model Fpm.MainUI.ViewModels.Upload.UploadIndexViewModel
@{ Layout = "~/Views/Shared/_LayoutPage.cshtml"; }
@{
    ViewBag.Title = "FPM - Upload data";
}
<script src="@(AppConfig.JsPath)upload-manager.js" type="text/javascript"></script>

<div id="spinner" style="display: none;">
    <img src="/images/ajax-loader.gif" alt="" class="spinner" />
    <div id="spinnerLabel">
        loading...
    </div>
</div>
<div class="standardWidth">
    <h2 class="subheading">Upload data to PHOLIO</h2>
</div>
<div id="upload-container" class="main standardWidth">

    <div class="upload-simple">
        <div>
            <img src="/images/SimpleUpload.png" onclick="uploadSimple();" />
        </div>
        <div class="text">
            <h2 title="What does this do?">Simple Indicator Upload
            </h2>
            <p>Upload an Excel spreadsheet for one indicator.<br><br></p>
            <a href="#" class="upload-help upload-simple-help">Find out more about this way to upload data</a>
            <a href="@Model.SimpleTemplateUrl">Download the latest template <small>(last updated @Model.SimpleLastUpdated)</small></a>
       

            <input type="button" class="medium-button" value="Upload Data" onclick="uploadSimple();" />
        </div>
    </div>

    <div class="upload-batch">
        <div>
            <img src="/images/BatchUpload.png" onclick="uploadBatch();" />
        </div>
        <div class="text">
            <h2 title="What does this do?">Batch Indicator Upload</h2>
            <p>Upload an Excel spreadsheet or CSV file for a batch of indicators.</p>
            <a href="#" class="upload-help upload-batch-help">Find out more about this way to upload data</a>
            <a href="@Model.BatchTemplateUrl">Download the latest template <small>(last updated @Model.BatchLastUpdated)</small></a>
            <input type="button" class="medium-button" value="Upload Data" onclick="uploadBatch();" />
        </div>
    </div>
</div>

<div id="upload-simple-browse-control" class="standardWidth hidden upload-browse-control filtering clearfix">

    @using (Html.BeginForm("ValidateSimpleUpload", "Upload", FormMethod.Post, 
        new { enctype = "multipart/form-data", Id = "validateSimpleSpreadsheetForm" }))
    {
        <div>
            <div class="browse-control">
                <b>Select file to upload:&nbsp;</b>
                <input type="file" class="excel-file" id="simple-excel-File" name="excelFile" size="47" />
            </div>
            <div id="selected-upload-file" style="display: none;" class="upload-browse"></div>
            <input type="button" id="select-simple-spreadsheet" style="display: none;" 
                   class="show-spinner select-spreadsheet auto-width-button" value="Validate spreadsheet" />
        </div>
    }
</div>

<div id="upload-batch-browse-control" class="standardWidth hidden upload-browse-control filtering clearfix">

    @using (Html.BeginForm("ValidateBatchUpload", "Upload", FormMethod.Post, 
        new { enctype = "multipart/form-data", Id = "validateBatchSpreadsheetForm" }))
    {
        <div>
            <div class="browse-control">
                <b style="float: left;">Select batch file to upload:&nbsp;</b>
                <input type="file" class="excel-file" id="batch-excel-file" name="excelFile" size="47" />
            </div>
            <div id="selected-batch-upload-file" style="display: none;" class="upload-browse"></div>
            <input type="button" id="select-batch-spreadsheet" style="display: none;" 
                   class="show-spinner select-spreadsheet auto-width-button" value="Validate spreadsheet" />
        </div>
    }
</div>

@Html.Partial("_UploadSimpleHelp")
@Html.Partial("_UploadBatchHelp")




